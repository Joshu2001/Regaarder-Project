import{f as P,c as C,r as x,u as S,j as e,g as o,R as _}from"./index-J--XMc-5.js";import{C as B}from"./chevron-left-CBB5eeDK.js";import{U as p}from"./user-Y0NnfhDK.js";import{V as k}from"./video-CVYZB8gD.js";import{G as F}from"./gift-BXB__ksz.js";import{C as R}from"./credit-card-BauCF6JW.js";import{B as H,S as z}from"./settings-BGw_fMDN.js";import{C as I}from"./chevron-right-BYc7VePk.js";import{A as O}from"./arrow-right-ChrJJ6AU.js";import{H as U,F as J,P as V,M as G}from"./pencil-Dw1rFXCt.js";const $=P("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),j=(n,r)=>{try{const c=getComputedStyle(document.documentElement).getPropertyValue(n);return c?c.trim():r||""}catch{return r||""}};j("--color-gold","#CB8A00"),j("--color-gold-light","rgba(203,138,0,0.4)"),j("--color-neutral-light-bg","#FFF9E6");const q=({selectedLanguage:n="English"})=>{const[r,c]=x.useState("More");x.useEffect(()=>{window.setFooterTab&&(window.currentFooterSetTab=c)},[]);const v=[{name:"Home",Icon:U},{name:"Requests",Icon:J},{name:"Ideas",Icon:V},{name:"More",Icon:G}],N="rgb(107 114 128)",i=a=>{const g={Home:"home",Requests:"requests",Ideas:"ideas",More:"more"}[a];window.setFooterTab&&window.setFooterTab(g),c(a)};return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:v.map(a=>{const m=a.name===r,g=m?{color:"var(--color-gold)"}:{color:N},b=m?"font-semibold":"font-normal";let f={};return m&&(f.textShadow="0 0 8px var(--color-gold-light)"),e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:f,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onClick:()=>{i(a.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(a.Icon,{size:22,strokeWidth:1.5,style:g})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${b}`,style:g,children:o(a.name,n)})]})},a.name)})})})},oe=()=>{const n=C(),[r,c]=x.useState(()=>{try{return localStorage.getItem("regaarder_language")||"English"}catch{return"English"}}),[v,N]=x.useState("More"),[i,a]=x.useState(!0),m=()=>{n.openAuthModal()},g=()=>{n.logout()},b=()=>e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center mx-auto w-full max-w-md",children:[e.jsx(p,{className:"w-14 h-14 text-gray-500 mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:o("Sign in to access more features",r)}),e.jsx("p",{className:"text-sm text-gray-500 mb-8 leading-relaxed",children:o("Create an account or log in to manage your settings",r)}),e.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 text-black font-bold rounded-xl shadow-lg transition duration-150 transform hover:scale-[1.01] active:scale-95",style:{backgroundColor:"var(--color-gold)",boxShadow:"0 6px 18px rgba(var(--color-gold-rgb, 203,138,0), 0.18)"},children:[e.jsx("span",{children:o("Log In / Sign Up",r)}),e.jsx(O,{className:"w-5 h-5 ml-2"})]})]}),f=()=>{const y=S(),s=C(),[E,h]=x.useState(!1),[T,A]=x.useState(()=>{try{return parseInt(localStorage.getItem("notifications_count")||"0",10)||0}catch{return 0}});_.useEffect(()=>{let t=!0;const d=()=>{try{const l=parseInt(localStorage.getItem("notifications_count")||"0",10)||0;t&&A(l)}catch{}};d();const w=setInterval(d,3e3),u=l=>{l.key==="notifications_count"&&d()};return window.addEventListener("storage",u),()=>{t=!1,clearInterval(w),window.removeEventListener("storage",u)}},[]);const L=[{icon:p,label:"Profile Settings",href:"/settings"},{icon:p,label:"User Profile",href:"/userprofile"},{icon:k,label:"Creator Profile",href:"/creatorprofile"},{icon:F,label:"Earn Rewards",href:"/referrals"},{icon:R,label:"Payment Methods",href:"#"},{icon:H,label:"Notifications",href:"/notifications?from=more",badge:T},{icon:z,label:"Help & Support",href:"#"}];return e.jsxs("div",{className:"w-full max-w-md space-y-3",children:[L.map((t,d)=>e.jsxs("button",{onClick:()=>{if(t.label!=="Help & Support"&&!s?.user)return s.openAuthModal();if(t.label==="Creator Profile"&&s?.user&&!s.user.isCreator)return h(!0);try{t.href&&t.href!=="#"&&y(t.href)}catch{}},className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center justify-between group active:scale-[0.99] transition-transform border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(t.icon,{className:"w-6 h-6",style:{color:"var(--color-gold)"}}),e.jsx("span",{className:"text-gray-700 font-medium text-base",children:o(t.label,r)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[t.badge&&t.badge>0&&e.jsx("span",{className:"text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",style:{backgroundColor:"var(--color-gold)"},children:t.badge}),e.jsx(I,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500"})]})]},d)),e.jsxs("button",{onClick:()=>{if(!s.user)return s.openAuthModal();a(!i)},className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center justify-between group active:scale-[0.99] transition-transform border border-gray-100 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[i?e.jsx(k,{className:"w-6 h-6 text-green-600"}):e.jsx(p,{className:"w-6 h-6",style:{color:"var(--color-gold)"}}),e.jsx("span",{className:"text-gray-700 font-medium text-base",children:i?o("Switch to User Mode",r):o("Switch to Creator Mode",r)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-colors ${i?"bg-green-100 text-green-700":""}`,children:i?o("Creator",r):o("User",r)}),e.jsx(I,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:g,className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center space-x-4 active:scale-[0.99] transition-transform border border-gray-100",children:[e.jsx($,{className:"w-6 h-6 text-red-500"}),e.jsx("span",{className:"text-red-500 font-medium text-base",children:o("Log Out",r)})]})}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>h(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o("Creator Profile",r)}),e.jsx("p",{className:"text-sm text-gray-600 mt-3",children:o("Creator profiles are available to verified creators. Want to become a creator?",r)}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{className:"flex-1 py-3 rounded-xl bg-gray-100 font-medium",onClick:()=>h(!1),children:o("Maybe later",r)}),e.jsx("button",{className:"flex-1 py-3 rounded-xl font-bold text-white",style:{backgroundColor:"var(--color-gold)"},onClick:async()=>{h(!1);try{const t=localStorage.getItem("regaarder_token"),d=window&&window.__BACKEND_URL__||"http://localhost:4000";try{await fetch(`${d}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({isCreator:!0})})}catch(l){console.warn("Persisting creator flag failed",l)}const u={...(s&&s.user?s.user:JSON.parse(localStorage.getItem("regaarder_user")||"{}"))||{},isCreator:!0};try{localStorage.setItem("regaarder_user",JSON.stringify(u))}catch{}if(s&&s.login){const l=localStorage.getItem("regaarder_token");s.login({...u,token:l})}}catch(t){console.warn("Join Now flow error",t)}try{y("/creatorprofile")}catch{}},children:o("Join Now",r)})]})]})})]})},M=S();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full max-w-xl min-h-screen flex flex-col",style:{paddingBottom:"calc(80px + env(safe-area-inset-bottom))"},children:[e.jsx("header",{className:"bg-white border-b border-gray-100 p-4 sticky top-0 z-20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(B,{className:"w-6 h-6 text-gray-700 cursor-pointer transition hover:text-gray-900",onClick:()=>M("/home")}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:o("More",r)})]})}),e.jsx("p",{className:"text-sm text-gray-500 px-4 pt-3 pb-2",children:o("Settings and options",r)}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:n.user?e.jsx(f,{}):e.jsx(b,{})})]}),e.jsx(q,{selectedLanguage:r})]})};export{oe as default};
