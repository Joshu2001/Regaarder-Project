import{f as W,R as m,t as L,u as K,a as X,j as e,g as u,X as O}from"./index-53ZNGquU.js";import{C as V}from"./chevron-left-Ca8g-YxX.js";import{F as Y}from"./filter-Bqqdequb.js";import{L as G}from"./lightbulb-rO9k-nww.js";import{B as H}from"./bell-C47Bff43.js";import{C as J}from"./check-circle-DPPmJgo6.js";import{R as Q}from"./rocket-BV1BHWCx.js";import{T as Z}from"./trophy-DbTHCA-l.js";import{T as ee}from"./trash-2-D7avbmCw.js";import{S as te}from"./send-CFazdY2F.js";import{H as se}from"./home-CZ-UGrQY.js";import{F as ae,P as re,M as le}from"./pencil-Dima2mxG.js";const oe=W("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),ne=W("CornerUpRight",[["polyline",{points:"15 14 20 9 15 4",key:"1tbx3s"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]]),ie=r=>{try{if(!r)return"";const l=new Date(r);if(isNaN(l.getTime()))return"";const d=Date.now()-l.getTime(),g=Math.floor(d/1e3);if(g<60)return"Just now";const f=Math.floor(g/60);if(f<60)return`${f}m ago`;const n=Math.floor(f/60);if(n<24)return`${n}h ago`;const x=Math.floor(n/24);return x<7?`${x}d ago`:l.toLocaleDateString()}catch{return""}},ce=({currentStep:r,steps:l})=>e.jsx("div",{className:"mt-3 mb-2 px-1",children:e.jsx("div",{className:"relative flex flex-col space-y-0",children:l.map((d,g)=>{const f=g+1,n=f===r,x=f<r,p=g===l.length-1;return e.jsxs("div",{className:"flex relative pb-6 last:pb-0",children:[!p&&e.jsx("div",{className:`absolute left-[11px] top-6 w-[2px] h-full transition-colors duration-300 ${x?"bg-green-500":"bg-gray-200"}`,style:{zIndex:0}}),e.jsx("div",{className:`relative z-10 flex items-center justify-center w-6 h-6 rounded-full text-[10px] font-bold border-2 transition-all duration-300 flex-shrink-0
                                ${n?"border-[var(--color-gold)] bg-[var(--color-gold)] text-white shadow-[0_0_0_3px_rgba(234,179,8,0.2)]":""}
                                ${x?"border-green-500 bg-green-500 text-white":""}
                                ${!n&&!x?"border-gray-200 bg-gray-50 text-gray-400":""}
                                `,children:x?"âœ“":f}),e.jsx("div",{className:`ml-3 text-xs font-medium pt-1 ${n||x?"text-gray-900":"text-gray-400"}`,children:d})]},d)})})}),de=({thread:r,onReply:l,onDelete:d,onDismiss:g,currentUserId:f,selectedLanguage:n})=>{const x=r.items[r.items.length-1],p=r.items||[r],M=p.some(a=>a.type==="status_update"),b=r.type==="staff_action";let S=1;for(let a=p.length-1;a>=0;a--)if(p[a].type==="status_update"&&p[a].metadata&&p[a].metadata.step){S=parseInt(p[a].metadata.step,10);break}const _=["Request Received","Under Review","In Production","Preview Ready","Published","Completed"],[N,D]=m.useState(!1),[C,i]=m.useState(""),[w,T]=m.useState(0),P=m.useRef(0),A=m.useRef(!1);let R=u("New Notification",n),F=H,I="bg-gray-100",z="text-gray-600",$=null,E=null;const t=r.from&&r.from.id!==f?r.from:r.to&&r.to.id!==f?r.to:{name:"Unknown"},[s,o]=m.useState(t.avatar||null);m.useEffect(()=>{!s&&t&&t.id&&(async()=>{try{const c=localStorage.getItem("regaarder_token");if(!c)return;const h=window&&window.__BACKEND_URL__||"http://localhost:4000",B=await fetch(`${h}/user/${t.id}`,{headers:{Authorization:`Bearer ${c}`}});if(B.ok){const U=await B.json();U.user&&U.user.profilePicture&&o(U.user.profilePicture)}}catch{}})()},[t.id,s]),b?(R=r.title||"Moderation Notice",$=e.jsxs("div",{className:"w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center text-lg",style:{backgroundColor:r.action==="warn"?"#fef3c7":r.action==="ban"?"#fecaca":r.action==="shadowban"?"#d1d5db":r.action==="delete"?"#ddd6fe":"#f0fdf4"},children:[r.action==="warn"&&"âš ï¸",r.action==="ban"&&"ðŸš«",r.action==="shadowban"&&"ðŸ‘ï¸",r.action==="delete"&&"ðŸ—‘ï¸"]}),E=null):M?(R=u("Status Update from Creator",n),S===5&&(R=u("Request Fulfilled!",n)),$=e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:s?e.jsx("img",{src:s,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold text-sm",children:t.name&&t.name[0]||"C"})}),E=u("Reply",n)):(R=u("New Message",n),$=e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:s?e.jsx("img",{src:s,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold text-sm",children:t.name&&t.name[0]||"C"})}),E=u("Reply",n));const y=()=>{if(C.trim()){if(l){const a={...x,from:{id:t.id}};l(a,C)}i("")}},v=a=>{P.current=a.touches[0].clientX,A.current=!0},j=a=>{if(!A.current)return;const h=a.touches[0].clientX-P.current;h<-150?T(-150):h>150?T(150):T(h)},k=()=>{A.current=!1,w<-100?(d&&d(r),T(0)):(!b&&w>100&&!r.ctaUrl&&g&&g(r),T(0))};return e.jsxs("div",{className:"relative mb-3 select-none overflow-hidden rounded-2xl",children:[e.jsxs("div",{className:"absolute inset-0 flex justify-between items-center rounded-2xl",children:[!b&&e.jsxs("div",{className:`flex items-center justify-start pl-6 w-full h-full bg-blue-500 rounded-2xl transition-opacity duration-200 ${w>0?"opacity-100":"opacity-0"}`,children:[e.jsx(oe,{className:"w-6 h-6 text-white"}),e.jsx("span",{className:"text-white font-medium ml-2",children:"Dismiss"})]}),e.jsxs("div",{className:`absolute inset-0 flex items-center justify-end pr-6 w-full h-full bg-red-500 rounded-2xl transition-opacity duration-200 ${w<0?"opacity-100":"opacity-0"}`,children:[e.jsx("span",{className:"text-white font-medium mr-2",children:"Delete"}),e.jsx(ee,{className:"w-6 h-6 text-white"})]})]}),e.jsxs("div",{className:"relative p-4 bg-white rounded-2xl border border-gray-100 shadow-sm flex flex-col space-y-3 transition-transform duration-200 ease-out",style:{transform:`translateX(${w}px)`,cursor:b&&r.ctaUrl?"pointer":"default"},onTouchStart:v,onTouchMove:j,onTouchEnd:k,onClick:()=>{if(b&&r.ctaUrl){const a=r.ctaUrl.startsWith("http")?r.ctaUrl:`https://${r.ctaUrl}`;window.open(a,"_blank","noopener,noreferrer")}},children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[$||e.jsx("div",{className:`w-10 h-10 rounded-full ${I} flex items-center justify-center flex-shrink-0`,children:e.jsx(F,{className:`w-5 h-5 ${z}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 leading-tight mb-0.5",children:R}),b?e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Moderation Team"}):e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:t.name})]}),e.jsx("button",{onClick:a=>{a.stopPropagation(),d&&d(r)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors flex-shrink-0",title:"Delete notification",children:e.jsx(O,{className:"w-4 h-4"})})]}),b?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700 mt-2 leading-relaxed whitespace-pre-wrap",children:r.message}),r.ctaUrl&&e.jsxs("div",{children:[e.jsx("div",{style:{display:"inline-block",marginTop:"12px",padding:"10px 16px",backgroundColor:r.ctaColor||"#3b82f6",color:"white",border:"none",borderRadius:"6px",textAlign:"center",textDecoration:"none",fontSize:"13px",fontWeight:"600",transition:"all 0.2s",position:"relative",zIndex:50,cursor:"pointer",pointerEvents:"auto"},children:r.ctaText||"Learn More"}),e.jsx("p",{style:{margin:"8px 0 0",fontSize:"10px",color:"#9ca3af"},children:"Tap anywhere to open link"})]})]}):e.jsxs("div",{className:"space-y-2 mt-1 max-h-60 overflow-y-auto",children:[M&&e.jsx("div",{className:"mb-4 bg-gray-50 rounded-xl p-3 border border-gray-100",children:e.jsx(ce,{currentStep:S,steps:_})}),p.map((a,c)=>{const h=a.from&&a.from.id===f;return e.jsx("div",{className:`flex ${h?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`text-sm leading-snug px-3 py-2 rounded-lg max-w-[90%] ${h?"bg-indigo-50 text-indigo-900 rounded-br-none":"bg-gray-50 text-gray-800 rounded-bl-none"}`,children:a.text})},c)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:ie(x.createdAt||r.createdAt)}),E&&!N&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),D(!0)},className:"text-xs font-medium hover:opacity-80 flex items-center px-2 py-1 rounded-md transition-colors hover:bg-gray-50",style:{color:"var(--color-gold)"},children:[E," ",e.jsx(ne,{className:"w-3.5 h-3.5 ml-1"})]})]})]})]}),N&&e.jsx("div",{className:"mt-2 pl-12 pr-1 w-full animate-fadeIn",onTouchStart:a=>a.stopPropagation(),onTouchMove:a=>a.stopPropagation(),onTouchEnd:a=>a.stopPropagation(),children:e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[e.jsx("input",{type:"text",value:C,onChange:a=>i(a.target.value),placeholder:"Type your reply...",className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-800 placeholder-gray-400 min-w-0",autoFocus:!0,onKeyDown:a=>{a.key==="Enter"&&y()}}),e.jsx("button",{onClick:y,disabled:!C.trim(),className:`p-1.5 rounded-full transition-colors ${C.trim()?"bg-[var(--color-gold)] text-white":"bg-gray-200 text-gray-400"}`,children:e.jsx(te,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:()=>D(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(O,{className:"w-4 h-4"})})]})})]})]})},q=({icon:r,title:l,description:d,iconColor:g,iconBg:f})=>e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-xl shadow-sm transition duration-200 border border-gray-200 cursor-pointer hover:shadow-md",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 mr-4 rounded-full",style:{backgroundColor:f},children:e.jsx(r,{className:"w-5 h-5",style:{color:g},strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-800",children:l}),e.jsx("p",{className:"text-sm text-gray-500",children:d})]})]}),ke=({onClose:r})=>{const l=typeof window<"u"&&window.localStorage.getItem("regaarder_language")||"English";m.useEffect(()=>{try{if(typeof window>"u")return;const t=window.localStorage.getItem("regaarder_language")||"English",s=L&&L[t]?L[t]:{};if(!s||Object.keys(s).length===0)return;const o=document.querySelector(".min-h-screen")||document.body;if(!o)return;const y=document.createTreeWalker(o,NodeFilter.SHOW_TEXT,null,!1),v=Object.keys(s).sort((k,a)=>a.length-k.length);let j;for(;j=y.nextNode();){const k=j.nodeValue;if(!k||!k.trim())continue;let a=k;for(let c=0;c<v.length;c++){const h=v[c],B=s[h];!h||typeof B!="string"||a.indexOf(h)!==-1&&(a=a.split(h).join(B))}a!==k&&(j.nodeValue=a)}}catch{}},[]);const d=K(),g=X(),f=()=>{if(typeof r=="function"){r();return}try{const s=new URLSearchParams(g.search||"").get("from");if(s){d(s.startsWith("/")?s:`/${s}`,{replace:!0});return}}catch{}try{if(typeof window<"u"&&typeof window.__setAppPage=="function"){window.__setAppPage("home");return}}catch{}d("/home",{replace:!0})},[n,x]=m.useState(!0),[p,M]=m.useState(!1),[b,S]=m.useState([]),[_,N]=m.useState(null),[D,C]=m.useState(!1),[i,w]=m.useState({dateRange:"all",category:"all",importance:"all",sortBy:"newest"}),[T,P]=m.useState([]),A=async()=>{try{const t=localStorage.getItem("regaarder_token");if(!t)return;const s=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/notifications`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const o=await s.json(),y=o&&o.notifications||[],v=o.userId;N(v);const j={};y.sort((a,c)=>new Date(a.createdAt)-new Date(c.createdAt)),y.forEach(a=>{let c=a.requestId?`req-${a.requestId}`:null;if(!c){const h=a.from&&a.from.id===v?a.to&&a.to.id:a.from&&a.from.id;h?c=`user-${h}`:c="misc"}j[c]||(j[c]={id:c,items:[],lastTime:a.createdAt,...a}),j[c].items.push(a),j[c].lastTime=a.createdAt,a.from&&a.from.id!==v&&(j[c].from=a.from)});const k=Object.values(j).sort((a,c)=>new Date(c.lastTime)-new Date(a.lastTime));S(k),M(k.length>0)}}catch{}finally{x(!1)}};m.useEffect(()=>{A();const t=setInterval(A,5e3);return()=>clearInterval(t)},[]),m.useEffect(()=>{let t=[...b];if(i.dateRange!=="all"){let s=new Date;i.dateRange==="today"?s.setHours(0,0,0,0):i.dateRange==="week"?s.setDate(s.getDate()-7):i.dateRange==="month"&&s.setDate(s.getDate()-30),t=t.filter(o=>new Date(o.lastTime)>=s)}i.category!=="all"&&(t=t.filter(s=>i.category==="status_update"?s.items&&s.items.some(o=>o.type==="status_update"):i.category==="staff_action"?s.type==="staff_action":i.category==="message"?!s.type||s.type!=="staff_action":!0)),i.importance!=="all"&&(t=t.filter(s=>i.importance==="high"?s.type==="staff_action"||s.items&&s.items.some(o=>o.type==="status_update"):i.importance==="medium"?!0:i.importance==="low"?s.items&&!s.items.some(o=>o.type==="status_update")&&s.type!=="staff_action":!0)),i.sortBy==="oldest"?t=t.sort((s,o)=>new Date(s.lastTime)-new Date(o.lastTime)):t=t.sort((s,o)=>new Date(o.lastTime)-new Date(s.lastTime)),P(t)},[b,i]);const[R,F]=m.useState(null),I=m.useRef(null),z=t=>{S(s=>s.filter(o=>o.id!==t.id))},$=t=>{S(s=>s.filter(o=>o.id!==t.id)),I.current&&clearTimeout(I.current),F({message:"Conversation deleted",onUndo:()=>{S(s=>[...s,t].sort((y,v)=>new Date(v.lastTime)-new Date(y.lastTime))),F(null),I.current&&clearTimeout(I.current)}}),I.current=setTimeout(()=>{const s=localStorage.getItem("regaarder_token");if(!s)return;const o=window&&window.__BACKEND_URL__||"http://localhost:4000";(t.items||[t]).forEach(v=>{fetch(`${o}/notifications/${v.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}}).catch(console.warn)}),F(null)},4e3)},E=async(t,s)=>{const o=localStorage.getItem("regaarder_token");if(o)try{const y=window&&window.__BACKEND_URL__||"http://localhost:4000";await fetch(`${y}/suggestion`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({text:s,targetCreatorId:t.from?t.from.id:null,requestId:t.requestId,type:"reply",parentId:t.id})}),A()}catch(y){console.error("Failed to send reply",y)}};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          /* Keyframes for the expanding ripple rings */
          @keyframes ripple-expand {
            0% {
              transform: scale(0.5); /* Start small */
              opacity: 0.7; /* Start quite visible */
            }
            100% {
              transform: scale(3.5); /* Expand fully */
              opacity: 0; /* Fully disappeared */
            }
          }

          /* Keyframes for the bell icon's subtle pulse */
          @keyframes bell-pulse {
            0% { 
                opacity: 1; /* Fully visible */
                filter: brightness(1) saturate(1); /* Normal */
            }
            50% { 
                opacity: 0.8; /* Slightly dimmed */
                filter: brightness(0.9) saturate(0.8); /* Less bright, less saturated */
            }
            100% { 
                opacity: 1; /* Back to fully visible */
                filter: brightness(1) saturate(1); /* Normal */
            }
          }

          .inner-bell-container {
            position: relative; 
            width: 48px; /* mobile-first size */
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: var(--color-gold-light, rgba(202,138,4,0.3));
          }

          .inner-bell-container .bell-icon {
            z-index: 10;
            position: relative;
            animation: bell-pulse 2.5s ease-in-out infinite; /* Apply bell-specific pulse */
            transition: opacity 0.5s, filter 0.5s; /* Smooth transitions for bell changes */
          }

          .inner-bell-container::before,
          .inner-bell-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            /* Ripple appearance color (uses accent variable when available) */
            background-color: var(--color-gold-light, rgba(202,138,4,0.4)); 
            opacity: 0; /* Start hidden */
            z-index: 0; /* Place behind the bell element */
            transform: scale(0.5); /* Start small, consistent with ripple-expand */
          }

          /* Larger bell on wider screens */
          @media (min-width: 640px) {
            .inner-bell-container { width: 64px; height: 64px; }
            .inner-bell-container .bell-icon { width: 28px; height: 28px; }
          }

          /* Middle Ring (::before) */
          .inner-bell-container::before {
            animation: ripple-expand 2.5s ease-out infinite;
          }

          /* Outer Ring (::after) - Stagger the start time for the second ripple */
          .inner-bell-container::after {
            animation: ripple-expand 2.5s ease-out infinite;
            animation-delay: 1.25s; /* Start this ring halfway through the first's cycle */
          }

          /* Press/tap animation for small icon buttons (back/X) */
          .icon-press {
            transition: transform 160ms cubic-bezier(.2,.8,.2,1), opacity 120ms;
            will-change: transform, opacity;
            display: inline-flex;
            align-items: center;
            justify-content: center;
          }
          .icon-press:active {
            transform: scale(0.92);
            opacity: 0.95;
          }
          .icon-press svg {
            transition: transform 160ms cubic-bezier(.2,.8,.2,1);
          }
          .icon-press:active svg {
            transform: translateY(1px) scale(0.92);
          }

          /* Custom radio button styling with accent color */
          input[type="radio"] {
            accent-color: var(--color-gold, #ca8a04);
            cursor: pointer;
          }
          .icon-press svg {
            transition: transform 160ms cubic-bezier(.2,.8,.2,1);
          }
          .icon-press:active svg {
            transform: translateY(1px) scale(0.92);
          }
        `}),e.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center p-0 font-sans",children:e.jsxs("div",{className:"w-full sm:max-w-sm bg-white shadow-2xl flex flex-col sm:rounded-2xl overflow-hidden",children:[e.jsxs("header",{className:"p-4 pl-12 border-b border-gray-100 flex items-center justify-start relative",children:[e.jsx(V,{onClick:f,className:"w-6 h-6 cursor-pointer transition hover:text-gray-900 absolute left-4",style:{color:"var(--color-gold, #ca8a04)"}}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:u("Notifications",l)}),e.jsx("button",{onClick:()=>C(!D),className:"absolute right-4 w-9 h-9 rounded-full flex items-center justify-center bg-white border border-gray-100 shadow-sm hover:shadow-md transition",children:e.jsx(Y,{className:"w-5 h-5",style:{color:"rgb(107 114 128)"}})})]}),D&&e.jsx("div",{className:"fixed inset-0 z-30 flex items-start justify-center pt-20 px-4",onClick:()=>C(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-lg border border-gray-100 max-h-[45vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsx("header",{className:"p-6 border-b flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>C(!1),"aria-label":"Close filters",className:"absolute right-0 top-0 -mr-2 -mt-2 w-8 h-8 flex items-center justify-center rounded-full text-gray-500 hover:text-gray-700",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customize what you see"})]})}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Date Range"}),e.jsx("div",{className:"space-y-2",children:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"}].map(t=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dateRange",value:t.value,checked:i.dateRange===t.value,onChange:s=>w({...i,dateRange:s.target.value}),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"text-gray-700",children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Category"}),e.jsx("div",{className:"space-y-2",children:[{value:"all",label:"All Categories"},{value:"status_update",label:"Status Updates"},{value:"staff_action",label:"Moderation Notices"},{value:"message",label:"Messages"}].map(t=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:t.value,checked:i.category===t.value,onChange:s=>w({...i,category:s.target.value}),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"text-gray-700",children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Importance"}),e.jsx("div",{className:"space-y-2",children:[{value:"all",label:"All Importance Levels"},{value:"high",label:"High (Status & Moderation)"},{value:"medium",label:"Medium (All Notifications)"},{value:"low",label:"Low (Messages Only)"}].map(t=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importance",value:t.value,checked:i.importance===t.value,onChange:s=>w({...i,importance:s.target.value}),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"text-gray-700",children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Sort By"}),e.jsx("div",{className:"space-y-2",children:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"}].map(t=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"sortBy",value:t.value,checked:i.sortBy===t.value,onChange:s=>w({...i,sortBy:s.target.value}),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"text-gray-700",children:t.label})]},t.value))})]})]}),e.jsx("footer",{className:"p-6 border-t flex-shrink-0 bg-white",children:e.jsx("button",{onClick:()=>w({dateRange:"all",category:"all",importance:"all",sortBy:"newest"}),className:"w-full py-2 px-4 rounded-lg font-medium text-white transition hover:shadow-md",style:{backgroundColor:"var(--color-gold, #ca8a04)"},children:"Reset All Filters"})})]})}),e.jsxs("main",{className:"p-6 flex-grow overflow-y-auto",children:[n?e.jsxs("div",{className:"pb-20",children:[e.jsx("div",{className:"w-full px-4 py-3 mb-4 bg-gray-200 rounded-xl animate-pulse",style:{height:"50px"}}),[...Array(3)].map((t,s)=>e.jsx("div",{className:"mb-4 p-4 bg-white rounded-xl shadow-sm border border-gray-200 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})},s))]}):p?e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"w-full px-4 py-3 mb-4 bg-[#F5F5DC] text-gray-700 rounded-xl flex items-start space-x-2",style:{borderColor:"var(--color-gold-light)",borderStyle:"solid",boxShadow:"0 6px 16px rgba(var(--color-gold-rgb,203,138,0),0.06)"},children:[e.jsx(G,{className:"w-4 h-4 mt-0.5 text-[var(--color-gold)] flex-shrink-0"}),e.jsx("p",{className:"text-xs leading-relaxed font-medium",children:u("Swipe left to delete â€¢ Swipe right to dismiss temporarily",l)})]}),T.length>0?T.map(t=>e.jsx(de,{thread:t,onReply:E,onDelete:$,onDismiss:z,currentUserId:_,selectedLanguage:l},t.id)):e.jsxs("div",{className:"text-center pt-12 pb-8",children:[e.jsx("p",{className:"text-gray-500",children:u("No notifications match your filters",l)}),e.jsx("button",{onClick:()=>w({dateRange:"all",category:"all",importance:"all"}),className:"mt-4 text-sm text-blue-600 hover:underline",children:u("Reset filters",l)})]})]}):e.jsxs("div",{className:"text-center pt-8 pb-12",children:[e.jsx("div",{className:"inner-bell-container mx-auto mb-20",children:e.jsx(H,{className:"w-8 h-8 bell-icon",strokeWidth:1.5,style:{color:"var(--color-gold, #ca8a04)"}})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:u("All caught up!",l)}),e.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto leading-relaxed",children:u("You don't have any notifications right now. We'll let you know when something important happens.",l)})]}),!n&&!p&&e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx(q,{icon:J,title:u("Request Updates",l),description:u("Get notified when creators start or complete your requests",l),iconColor:"#16A34A",iconBg:"#ECFDF5"}),e.jsx(q,{icon:Q,title:u("Viral Rewards",l),description:u("Earn money when your requests go viral",l),iconColor:"#F97316",iconBg:"#FFF7ED"}),e.jsx(q,{icon:Z,title:u("Milestones & Achievements",l),description:u("Celebrate your progress and unlock rewards",l),iconColor:"var(--color-gold, #ca8a04)",iconBg:"var(--color-gold-light-bg, rgba(202,138,4,0.08))"})]})]}),e.jsx(me,{}),R&&e.jsx("div",{className:"fixed bottom-20 left-0 right-0 flex justify-center z-50 pointer-events-none",children:e.jsxs("div",{className:"bg-gray-900 text-white p-3 mx-4 rounded-xl shadow-2xl flex items-center justify-between space-x-4 transition-all duration-300 max-w-sm w-full pointer-events-auto",children:[e.jsx("span",{className:"text-sm font-medium",children:R.message}),e.jsx("button",{onClick:R.onUndo,className:"text-sm font-bold text-[var(--color-gold)] hover:underline",children:"UNDO"})]})})]})})]})},me=()=>{const[r,l]=m.useState(null),d=m.useRef(!1),g=[{name:"Home",icon:se},{name:"Requests",icon:ae},{name:"Ideas",icon:re},{name:"More",icon:le}],f="rgb(107 114 128)";return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:g.map(n=>{const x=n.name===r,p=x?{color:"var(--color-gold)"}:{color:f},M=x?"font-semibold":"font-normal";let b={};x&&(b.textShadow="0 0 8px var(--color-gold-light)");const S=n.icon,_=N=>{try{if(N==="Home"){window.location.href="/home.jsx";return}if(N==="Requests"){window.location.href="/requests.jsx";return}if(N==="Ideas"){window.location.href="/ideas.jsx";return}if(N==="More"){window.location.href="/more.jsx";return}}catch(D){console.warn("Navigation failed",D)}};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:b,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onMouseDown:()=>{l(n.name),d.current||(d.current=!0,_(n.name))},onTouchStart:()=>{l(n.name),d.current||(d.current=!0,_(n.name))},onClick:N=>{if(d.current){d.current=!1,N.preventDefault();return}l(n.name),_(n.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(S,{size:22,strokeWidth:1.5,style:p})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${M}`,style:p,children:n.name})]})},n.name)})})})};export{ke as default};
