import{f as Pe,j as e,X as Ce,g as t,u as cs,r as o,C as K,L as Br,P as Ar}from"./index-BQxrV-Ft.js";import{C as ds}from"./check-circle-C3DgrH5f.js";import{C as ms,B as us}from"./BoostsModal-D9xLQR8Y.js";import{F as xs}from"./folder-DSl7EkfA.js";import{C as sr}from"./clock-BN2Lkej0.js";import{L as Xt}from"./lightbulb-DPOxPpvO.js";import{A as Qt}from"./arrow-right-DOMV1i1U.js";import{H as Zt}from"./heart-DlgNdhSv.js";import{M as ps}from"./message-square-C6lLcFVE.js";import{B as hs}from"./bookmark-DRjKTI0M.js";import{C as Ft}from"./crown-7nOmLSuG.js";import{U as fs}from"./users-DO6q2Mko.js";import{S as gs}from"./search-D-RMPfln.js";import{F as er,P as Xe,M as bs}from"./pencil-BnYTYZJv.js";import{L as tr}from"./link-CwUjPd6e.js";import{B as ys}from"./briefcase-b2_Obqpj.js";import{T as zr}from"./trending-up-Bt01IU2e.js";import{B as _r}from"./book-open-CByPJnkB.js";import{U as vs}from"./user-C-DJnTVG.js";import{S as ws}from"./shield-CBDWr-jk.js";import{T as js}from"./target-CvULiNj4.js";import{S as qr}from"./sparkles-D4IRJ8er.js";import{C as be}from"./chevron-down-DiVylCBw.js";import{G as Ns}from"./globe-CGWi4e0q.js";import{D as ks}from"./dollar-sign-BMKXuCHF.js";import{C as rr}from"./calendar-2iA40wMI.js";import{C as Dt}from"./chevron-up-Cy3tj3QT.js";import{H as Ss}from"./home-ETkMuHR2.js";import{C as Cs}from"./chevron-right-Bn5c314F.js";const Es=Pe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Mt=Pe("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),Rs=Pe("ListVideo",[["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}],["path",{d:"m16 12 5 3-5 3v-6Z",key:"zpskkp"}]]),Is=Pe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Ur=Pe("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]),Or=Pe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Ts=Pe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);function Fs({onClose:x,onBoostRequest:s,onInviteContributors:f,selectedLanguage:m,requestData:a}){const w=async()=>{try{const n=`${t("Check out this request on Regaarder!",m)}

${t("Title",m)}: ${a?.title||"Request"}
${t("Requester",m)}: ${a?.requesterName||"Unknown"}

${t("Help boost this request and earn rewards by contributing! Visit Regaarder to see more.",m)}`;navigator.share?await navigator.share({title:a?.title||"Check out this request on Regaarder!",text:n,url:window.location.href}):(await navigator.clipboard.writeText(n),alert(t("Share message copied to clipboard!",m)))}catch(n){console.error("Share failed:",n),f&&f()}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(Ce,{size:24})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(ds,{size:32,className:"text-green-600"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-3",children:t("Free Request Submitted",m)}),e.jsx("p",{className:"text-gray-600 text-sm text-center mb-6 leading-relaxed",children:t("Free requests may take longer to reach creators, as paid requests are prioritized. To increase visibility, you can boost your request at any time or invite others to contribute.",m)}),e.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg mb-3 transition-colors",children:t("Boost Request",m)}),e.jsx("button",{onClick:w,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold py-3 rounded-lg transition-colors",children:t("Invite Contributors",m)})]})})}const Ds=`:root {
  --brand-gold: #ca8a04;
  --brand-gold-600: #B27000;
  --brand-gold-700: #8F5900;
  --brand-gold-soft: rgba(203,138,0,0.12);
  --brand-gold-light: rgba(203,138,0,0.4);
/* Focused input inside provider chooser: subtle thin gold glow */
.provider-card input:focus, .creator-search-input:focus {
    outline: none;
    border-color: var(--brand-gold-600);
    0% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }
    50% { box-shadow: 0 18px 40px rgba(6,24,58,0.12); }
    100% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }
}
.provider-card.selected { animation: card-subtle-pulse 1000ms ease-out; }

/* Edge fade removed for choose creator list clarity */
.provider-carousel-wrap { position: relative; }
.provider-carousel-wrap::before, .provider-carousel-wrap::after {
    display: none !important;
}

/* Hide temporary rebuilt chooser to avoid duplicates */
.choose-creator-new { display: none !important; }

/* Expanded provider card (choose creator) */
.provider-card.expanded { min-height: 180px; }
/* Expanded body: fade + slight lift for a smooth premium feel */
.provider-card .expanded-body {
    max-height: 560px;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-6px);
    transition: max-height 320ms ease, opacity 260ms ease, transform 260ms cubic-bezier(0.22,1,0.36,1);
}
.provider-card.expanded .expanded-body {
    opacity: 1;
    transform: translateY(0);
}
/* Unified Search Bar Container - Following home.jsx pattern */

.creator-search-row {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #ffffff;
    border: 1px solid rgba(15,23,42,0.1);
    border-radius: 12px;
    padding: 10px 14px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    transition: all 0.2s ease;
    margin-bottom: 16px;
}
.creator-search-row:focus-within {
    border-color: var(--brand-gold-600);
    box-shadow: 0 4px 16px rgba(203,138,0,0.12);
}

/* Input Wrapper */
.creator-search-input-wrap {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    min-width: 0;
}

/* Prefix @ */
.creator-search-prefix {
    position: absolute;
    left: 6px; /* Nudge inward */
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    font-weight: 600;
    color: rgba(15,23,42,0.4);
    pointer-events: none;
    z-index: 2;
}

/* Input Field - EXACT copy of home.jsx pattern */
.creator-search-input {
    flex: 1;
    background: transparent !important;
    border: none !important;
    outline: none !important;
    padding: 0 0 0 24px !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    color: #000000 !important; /* Force black */
    min-width: 0 !important;
    height: 24px !important; /* Fixed height to ensure visibility */
    line-height: 24px !important; /* Center text vertically */
    box-shadow: none !important;
    border-radius: 0 !important;
    width: auto !important;
    max-width: none !important;
    caret-color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    z-index: 10 !important;
    position: relative !important;
}
.creator-search-input::placeholder { 
    color: #000000 !important; 
    opacity: 0.5 !important;
}

/* Clear X Button */
.creator-search-clear {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(15,23,42,0.5);
    cursor: pointer;
    transition: all 0.15s;
}
.creator-search-clear:hover { 
    background: rgba(15,23,42,0.06); 
    color: #ef4444; 
}

/* Save Button */
.creator-search-save {
    flex-shrink: 0;
    height: 32px;
    padding: 0 14px;
    border-radius: 8px;
    background: var(--color-primary);
    color: #fff;
    border: none;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.15s;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.creator-search-save:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(122,58,240,0.25);
}

/* Make selected pill not overlap the input */
.creator-selected-pill { display: inline-block; margin-bottom: 8px !important; background: transparent !important; color: #0f172a !important; z-index: 220 !important; }

/* Force overflow visible to allow dropdown bleeding and ensure layering */
.provider-carousel-wrap,
.provider-carousel,
.provider-card,
.provider-card.expanded,
.expanded-body,
.provider-card .expanded-body {
    overflow: visible !important;
}

/* Ensure the expanded card floats above siblings (preventing next card from covering the dropdown) */
.provider-card.expanded {
    z-index: 60;
    position: relative;
    border-color: transparent; /* remove inner white border */
    background: transparent; /* let modal background show through */
    box-shadow: none;
}

/* Ensure non-expanded cards stay below */
.provider-card:not(.expanded) {
    z-index: 1;
}

/* Remove any pseudo-element overlays or fades that could cloud content */
.provider-card::before,
.provider-card::after,
.provider-card .card-info::before,
.provider-card .card-info::after,
.provider-carousel-wrap::before,
.provider-carousel-wrap::after {
    display: none !important;
    content: none !important;
}

/* Ensure the selected pill is fully visible and readable */
.creator-selected-pill {
    position: relative;
    z-index: 999 !important;
    box-shadow: 0 2px 6px rgba(6,24,58,0.08) !important;
    background: #374151 !important; /* dark gray */
    border: 1px solid rgba(0,0,0,0.12) !important;
    color: #ffffff !important; /* white text for contrast */
    font-weight: 700 !important;
    padding: 6px 10px !important;
    margin-bottom: 8px !important;
    border-radius: 9999px !important;
    font-size: 13px !important;
    display: inline-block;
    line-height: 1 !important;
}

/* Card header styling - ensure title/sub are visible */
.provider-card .card-info,
.provider-card .card-title,
.provider-card .card-sub {
    background: transparent !important;
    box-shadow: none !important;
    position: relative;
    z-index: 2 !important;
    pointer-events: auto !important;
}

.provider-card .card-title {
    color: #0f172a !important;
    font-weight: 700 !important;
    font-size: 14px !important;
}
.provider-card .card-sub {
    color: #6b7280 !important;
    font-size: 12px !important;
}

/* Ensure expanded body and search row sit above card header */
.expanded-body {
    position: relative;
    z-index: 100 !important;
    background: transparent !important;
}

.creator-search-row {
    position: relative;
    z-index: 101 !important;
    background: transparent !important;
}

/* Input wrapper: keep relative and reserve space for clear button */
.creator-search-input-wrap {
    position: relative;
    z-index: 102 !important;
    background: transparent !important;
    flex: 1 1 auto;
    min-width: 0;
    padding-right: 0; /* Handled dynamically via inline style */
}

/* Clear button position adjusted so it doesn't overlap Save */
.creator-search-clear {
    position: absolute;
    right: 12px; /* inside the input wrap */
    top: 50%;
    transform: translateY(-50%);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(15,23,42,0.5);
    cursor: pointer;
    z-index: 110;
}

/* Ensure Save button sits to the right of the input and has margin */
.creator-search-save {
    margin-left: 8px !important;
}

/* Force the card-info to not overflow or cover expanded content */
.provider-card.expanded .card-info {
    position: static !important;
    overflow: visible !important;
    max-height: none !important;
}


/* Expanded List Area - The "Dropdown Card" */
.choose-creator-list {
    position: relative; /* Back to relative to avoid clipping issues */
    margin-left: 0;
    margin-right: 0;
    width: 100%;
    max-height: 320px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    margin-top: 12px;
    background: transparent;
    border-top: none;
    border-bottom: none;
    box-shadow: none;
    border-radius: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
    z-index: 100;
}

/* Ensure the container is relative so absolute positioning works relative to it */
.creator-search-row {
    /* ... existing styles ... */
    z-index: 51; /* Search bar above dropdown */
    margin-bottom: 0; /* Connect to the list */
}

/* Fix input visibility */
.creator-search-input {
    color: #0f172a !important; /* Force dark color */
    opacity: 1 !important;
}

/* List Item */
.creator-row {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(15,23,42,0.04);
    background: transparent;
    border-radius: 0;
    box-shadow: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background 0.15s ease;
    cursor: pointer;
}
.creator-row:last-child { border-bottom: none; }
.creator-row:hover {
    background: rgba(15,23,42,0.03);
    transform: none; /* remove scaling */
    box-shadow: none;
    z-index: 1;
}
.creator-row.selected {
    background: rgba(122,58,240,0.06);
    border-color: transparent;
    box-shadow: inset 3px 0 0 var(--color-primary); /* Left accent */
}

/* Avatar */
.creator-avatar {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    border-radius: 50% !important;
    margin-right: 12px;
    font-size: 16px;
    font-weight: 700;
    color: #fff;
    overflow: hidden;
    position: relative;
    display: flex; align-items: center; justify-content: center;
}
.creator-avatar img { width: 100%; height: 100%; object-fit: cover; }

.creator-name { flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 2px; }
.creator-display { font-weight: 600; color: #0f172a; font-size: 14px; line-height: 1.2; letter-spacing: -0.01em; }
.creator-role-label { font-size: 12px; color: #64748b; font-weight: 500; }

/* Clear button inside input */
.input-clear {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: rgba(15,23,42,0.5);
    padding: 6px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 140ms ease, color 140ms ease;
}
.input-clear:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.7); }

/* Close button inside focused header */
.close-focus-btn { color: rgba(15,23,42,0.6); padding: 6px; border-radius: 8px; display:inline-flex; align-items:center; justify-content:center; }
.close-focus-btn:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.9); }
        /* Position the close button inside the focused card */
        .provider-card.focused-card .close-focus-btn {
          position: absolute;
          right: 12px;
          top: 12px;
          z-index: 30;
          background: transparent;
          color: rgba(15,23,42,0.6);
        }

/* No-results premium styling */
.no-results { color: var(--muted); will-change: opacity, transform; animation: fade-scale 320ms cubic-bezier(0.22,1,0.36,1) both; }
.no-results-illustration svg { width: 72px; height: 72px; display: block; }
.no-results-title { color: var(--deep-navy); }
.no-results-sub { color: #9CA3AF; }

/* Fade + gentle scale entrance for premium feel */
@keyframes fade-scale {
    0% { opacity: 0; transform: scale(0.98) translateY(-6px); }
    60% { opacity: 1; transform: scale(1.01) translateY(0); }
    100% { opacity: 1; transform: scale(1) translateY(0); }
}

/* Input prefix styling removed (unused) */

/* Styles removed to fix conflict with unified search bar */

/* Mobile optimizations for search bar */
@media (max-width: 640px) {
    .creator-search-row {
        padding-left: 10px !important;
        padding-right: 10px !important;
        gap: 6px !important;
    }
    .creator-search-save {
        padding-left: 8px !important;
        padding-right: 8px !important;
        font-size: 13px !important;
        height: 32px !important;
        margin-left: 0 !important; /* Save space */
    }
    .creator-search-input {
        font-size: 14px !important;
        padding-left: 22px !important; /* Slightly reduce left padding for @ */
    }
}

/* Preset most-popular badge */
.most-popular-badge {
    position: absolute;
    top: -8px;
    right: -8px; /* push outside the button so it doesn't overlap the amount */
    background: var(--brand-gold-600);
    color: var(--on-gold);
    font-weight: 700;
    font-size: 9px; /* smaller */
    padding: 3px 6px; /* smaller */
    border-radius: 9999px;
    box-shadow: 0 6px 16px rgba(203,138,0,0.06);
    z-index: 3;
}

/* Refund modal styles removed (UI simplified) */

/* Preset button helpers for spacing and premium feel */
.preset-btn { min-width: 88px; display: inline-flex; align-items: center; justify-content: center; padding-left: 18px; padding-right: 18px; border-radius: 14px; }

/* Creator selected pill (override duplicate) */
.creator-selected-pill {
    display: inline-block;
    padding: 6px 10px !important;
    background: #333333 !important; /* Dark grey */
    border-radius: 9999px;
    font-size: 13px !important;
    color: #ffffff !important; /* Force white text */
    font-weight: 700 !important;
    box-shadow: 0 2px 6px rgba(0,0,0,0.12) !important;
}

/* --- Preview Card Responsive Fixes ---
   Keeps footer icons (bookmark/lightbulb) within the card on small screens
*/
.preview-card { overflow: visible; }

@media (max-width: 640px) {
    /* Reduce right padding so icons sit inside rounded edge */
    .preview-card { padding-right: 20px !important; }

    /* Nudge footer icons slightly toward the card edge so they visually sit on the rounded boundary */
    .preview-footer-icons { margin-right: -8px; }

    /* Inline (step-6) preview needs a stronger nudge than modal so there's more distance from the boosts icon */
    .inline-preview-footer-icons { margin-right: -51px; }

    /* Make footer icon buttons slightly smaller so they don't overflow */
    .preview-footer-icons > div {
        padding: 6px !important;
        min-width: 34px;
        height: 34px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .preview-footer-icons svg {
        width: 16px !important;
        height: 16px !important;
    }

    /* Slightly stronger nudge on very small phones */
    @media (max-width: 420px) {
        .preview-footer-icons { margin-right: -10px; }
        .inline-preview-footer-icons { margin-right: -59px; }
        .claim-button { right: 6px !important; }
    }

    /* Keep the rotated CLAIM tab inside the card on small widths */
    .claim-button { right: 8px !important; }
}

`,Tt=(x,s)=>{try{const f=getComputedStyle(document.documentElement).getPropertyValue(x);return f?f.trim():s||""}catch{return s||""}},Ms=({selectedLanguage:x="English"})=>{const[s,f]=o.useState("Ideas");o.useEffect(()=>{window.setFooterTab&&(window.currentFooterSetTab=f)},[]);const m=[{name:"Home",Icon:Ss},{name:"Requests",Icon:er},{name:"Ideas",Icon:Xe},{name:"More",Icon:bs}],a="rgb(107, 114, 128)",w={paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},n=h=>{const I={Home:"home",Requests:"requests",Ideas:"ideas",More:"more"}[h];window.setFooterTab&&window.setFooterTab(I),f(h)};return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:w,children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:m.map(h=>{const y=h.name===s,I=y?{color:"var(--color-gold)"}:{color:a},N=y?"font-semibold":"font-normal",S=y?{textShadow:"0 0 8px var(--color-gold-light)"}:{};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:S,children:e.jsxs("button",{onClick:()=>n(h.name),className:"p-2 rounded-md focus:outline-none",children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(h.Icon,{size:22,strokeWidth:1,style:I})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${N}`,style:I,children:t(h.name,x)})]})},h.name)})})})},mt=({selectedLanguage:x="English"})=>{const[s,f]=o.useState(!1);return o.useEffect(()=>{f(!0);const m=setTimeout(()=>f(!1),5e3);return()=>clearTimeout(m)},[]),e.jsxs("div",{className:"space-y-8",children:[s&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(40)].map((m,a)=>e.jsx("div",{style:{position:"absolute",left:`${Math.random()*100}%`,top:"-20px",width:"8px",height:"8px",backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(Math.random()*5)],animation:`confetti-fall ${2+Math.random()*3}s linear forwards`,animationDelay:`${Math.random()*2}s`,borderRadius:Math.random()>.5?"50%":"0"}},a))}),e.jsxs("div",{className:`
                    fixed top-6 left-1/2 transform -translate-x-1/2 w-[90%] max-w-sm
                    bg-[var(--surface)] px-4 py-3 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-100
                    flex items-start space-x-3 z-50 transition-all duration-500
                    ${s?"translate-y-0 opacity-100":"-translate-y-20 opacity-0"}
                `,children:[e.jsx("div",{className:"bg-green-500 rounded-full p-1 flex-shrink-0 mt-0.5",children:e.jsx(K,{className:"w-3 h-3 text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-900 leading-tight",children:t("Request Created",x)}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:t("Your request has been successfully created.",x)})]}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 p-0.5 -mr-1",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center text-lg font-semibold text-gray-700",children:[e.jsx(K,{className:"w-5 h-5 mr-2 text-gold-small"}),e.jsx("span",{className:"tracking-tight",children:t("New options unlocked!",x)})]}),e.jsxs("div",{className:"relative rounded-xl cream-glow-box p-6 cursor-pointer hover:shadow-lg transition duration-200",role:"button",tabIndex:0,onClick:()=>{try{window.location.href="advertisewithus.jsx"}catch{}},onKeyDown:m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();try{window.location.href="advertisewithus.jsx"}catch{}}},style:{background:"radial-gradient(circle at 12% 18%, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.22)",boxShadow:"inset 0 8px 24px rgba(var(--color-gold-rgb,203,138,0),0.05), 0 10px 30px rgba(6,24,58,0.06)",backgroundBlendMode:"screen, screen, normal, normal"},children:[e.jsx("span",{style:{position:"absolute",left:12,top:8,width:44,height:44,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",filter:"blur(10px)",opacity:.95,pointerEvents:"none"}}),e.jsx("span",{style:{position:"absolute",right:18,top:28,width:58,height:58,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.03))",filter:"blur(14px)",opacity:.9,pointerEvents:"none"}}),e.jsx("span",{style:{position:"absolute",left:"38%",bottom:6,width:36,height:36,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.02))",filter:"blur(8px)",opacity:.95,pointerEvents:"none"}}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"p-3 rounded-full mr-4 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.06))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.12)",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.06)"},children:e.jsx(ks,{className:"w-6 h-6 text-[var(--color-gold)]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800",children:t("Sponsor Content on Regaarder",x)}),e.jsx("p",{className:"text-sm text-gray-500",children:t("For brands & businesses",x)})]})]}),e.jsx(Qt,{className:"w-6 h-6 text-[var(--color-gold)]"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-6",children:t("Reach millions of engaged viewers through authentic creator partnerships. Tap here to explore our transparent sponsorship system.",x)}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:t("Transparent Pricing",x)}),e.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:t("Direct Brand-Creator Connection",x)})]})]})]})},As=({description:x,setDescription:s,title:f,setTitle:m,MAX_CHARS:a,showAdvanced:w,selectedLanguage:n="English"})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Format selected! Now add details.",n)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this one-time video.",n)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const h=document.getElementById("description-input");h&&(h.scrollIntoView({behavior:"smooth",block:"center"}),h.focus(),h.classList.add("jump-highlight"),setTimeout(()=>h.classList.remove("jump-highlight"),900));const y=document.getElementById("title-input");y&&setTimeout(()=>{y.focus(),y.classList.add("jump-highlight"),setTimeout(()=>y.classList.remove("jump-highlight"),900)},300)},children:t("Edit",n)})]})]}),zs=({description:x,setDescription:s,title:f,setTitle:m,MAX_CHARS:a,MIN_CHARS:w,recurrentStep:n,selectedFrequency:h,setSelectedFrequency:y,selectedTones:I,setSelectedTones:N,selectedStyles:S,setSelectedStyles:l,selectedPrivacy:g,setSelectedPrivacy:v,customRecurrentDates:U,setCustomRecurrentDates:W,selectedLanguage:M="English",setRecurrentStep:T,selectedDeliveryType:j,selectedVideoLength:R,customVideoLength:q,uploadedFiles:ee,referenceLinks:Ee,customPrice:te,setCustomPrice:Re,editingPrice:F,setEditingPrice:J,priceInput:p,setPriceInput:L,priceInputRef:ye,savePrice:Ie,displayPrice:$e,sanitizePriceInput:ve,handleSaveReview:C})=>{const O=[{type:"daily",title:t("Daily",M),subtitle:t("New videos delivered every day",M),Icon:sr},{type:"weekly",title:t("Weekly",M),subtitle:t("New videos delivered every week",M),Icon:Or},{type:"monthly",title:t("Monthly",M),subtitle:t("New videos delivered every month",M),Icon:rr},{type:"custom",title:t("Custom",M),subtitle:t("Set a custom delivery schedule",M),Icon:rr}];return n===1?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Frequency selection unlocked!",M)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this recurring request.",M)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const H=document.getElementById("description-input");H&&(H.scrollIntoView({behavior:"smooth",block:"center"}),H.focus(),H.classList.add("jump-highlight"),setTimeout(()=>H.classList.remove("jump-highlight"),900))},children:t("Edit",M)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("How often would you like creators to deliver new videos?",M)}),e.jsx("p",{className:"text-sm text-gray-500",children:t("Creators will plan their uploads according to your chosen rhythm.",M)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Pr,{options:O,selected:h,setSelected:y,selectedLanguage:M}),h==="custom"&&e.jsx("div",{className:"mt-3",children:e.jsx($r,{selectedDates:U,setSelectedDates:W,selectedLanguage:M})})]})]}):n===3?e.jsx(ut,{selectedTones:I,setSelectedTones:N,selectedStyles:S,setSelectedStyles:l,selectedLanguage:M}):n===4?e.jsx(xt,{selectedLanguage:M}):n===5?e.jsx(pt,{selectedPrivacy:g,setSelectedPrivacy:v,selectedLanguage:M}):n===6?e.jsx(ht,{title:f,description:x,selectedDeliveryType:j,selectedFrequency:h,customRecurrentDates:U,selectedTones:I,selectedVideoLength:R,customVideoLength:q,uploadedFiles:ee,referenceLinks:Ee,selectedPrivacy:g,selectedLanguage:M,customPrice:te,setCustomPrice:Re,editingPrice:F,setEditingPrice:J,priceInput:p,setPriceInput:L,priceInputRef:ye,savePrice:Ie,displayPrice:$e,sanitizePriceInput:ve,onEdit:()=>T(1),onSaveReview:C}):n===8?e.jsx(mt,{}):null},ut=({selectedTones:x,setSelectedTones:s,selectedStyles:f,setSelectedStyles:m,selectedLanguage:a="English"})=>{const[w,n]=o.useState(!1),[h,y]=o.useState(!1);o.useRef(null);const I=o.useRef(null),N=o.useRef(null);o.useRef(null),o.useRef(null);const S=o.useRef(null),l=[{id:"professional",label:t("Professional",a),Icon:ys},{id:"casual",label:t("Casual",a),Icon:Es},{id:"inspirational",label:t("Inspirational / Motivational",a),Icon:zr},{id:"humorous",label:t("Humorous / Lighthearted",a),Icon:Ts},{id:"emotional",label:t("Emotional / Heartfelt",a),Icon:Zt},{id:"analytical",label:t("Analytical / Educational",a),Icon:_r}],g=[{id:"dramatic",label:t("Dramatic / Cinematic",a),Icon:Mt},{id:"sarcastic",label:t("Sarcastic / Satirical",a),Icon:Is},{id:"romantic",label:t("Romantic / Soothing",a),Icon:vs},{id:"bold",label:t("Bold / Controversial",a),Icon:ws},{id:"serious",label:t("Serious / Neutral",a),Icon:js},{id:"experimental",label:t("Experimental / Artistic",a),Icon:Ar},{id:"hopeful",label:t("Hopeful / Reflective",a),Icon:qr}],v=j=>{x.includes(j)?s(x.filter(R=>R!==j)):x.length<2&&(s([...x,j]),n(!1))},U=[{id:"cinematic",label:t("Cinematic",a),Icon:Mt},{id:"minimal",label:t("Minimal",a),Icon:Ar},{id:"documentary",label:t("Documentary",a),Icon:_r},{id:"animated",label:t("Animated",a),Icon:qr},{id:"vibrant",label:t("Vibrant",a),Icon:zr},{id:"intimate",label:t("Intimate",a),Icon:Zt}],W=j=>{f.includes(j)?m(f.filter(R=>R!==j)):(m([j]),y(!1))};o.useEffect(()=>{const j=q=>{try{if(!w)return;const ee=S.current;if(!ee)return;ee.contains(q.target)||n(!1)}catch{}},R=q=>{q.key==="Escape"&&w&&n(!1)};return document.addEventListener("mousedown",j),document.addEventListener("touchstart",j,{passive:!0}),document.addEventListener("keydown",R),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j),document.removeEventListener("keydown",R)}},[w]);const M=()=>x.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose tone",a)}):e.jsx("div",{className:"flex items-center space-x-2",children:x.map(j=>{const R=[...l,...g].find(q=>q.id===j);return R?e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsx(R.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),e.jsx("span",{className:"text-sm text-gray-800 font-medium",children:R.label.split(" ")[0]})]},j):null})}),T=()=>{if(!f||f.length===0)return e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose style",a)});const j=f[0],R=U.find(q=>q.id===j);return R?e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsx(R.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),e.jsx("span",{className:"text-sm text-gray-800 font-medium",children:R.label.split(" ")[0]})]})}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose style",a)})};return e.jsxs("div",{ref:S,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[e.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[e.jsx(Ft,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),e.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Choose Your Tone & Style",a)})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>n(j=>!j),"aria-haspopup":"listbox","aria-expanded":w,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"flex items-center",children:M()}),e.jsx(be,{className:"w-4 h-4 text-gray-500"})]}),w&&e.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[e.jsx("ul",{ref:I,role:"listbox","aria-label":"Tone",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:[...l,...g].map(j=>{const R=!x.includes(j.id)&&x.length>=2;return e.jsxs("li",{role:"option","aria-selected":x.includes(j.id),tabIndex:R?-1:0,onClick:()=>!R&&v(j.id),onKeyDown:q=>{!R&&(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),v(j.id))},className:`flex items-center p-3 hover:bg-gray-50 cursor-pointer ${R?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(j.Icon,{className:`w-5 h-5 mr-3 ${x.includes(j.id)?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:j.label})}),x.includes(j.id)&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)]"})]},j.id)})}),e.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:t("Tip: choose up to two tones. Selected tones help creators match style.",a)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>y(j=>!j),"aria-haspopup":"listbox","aria-expanded":h,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"flex items-center",children:T()}),e.jsx(be,{className:"w-4 h-4 text-gray-500"})]}),h&&e.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[e.jsx("ul",{ref:N,role:"listbox","aria-label":"Style",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:U.map(j=>{const R=f.includes(j.id);return e.jsxs("li",{role:"option","aria-selected":R,tabIndex:0,onClick:()=>W(j.id),onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),W(j.id))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer ",children:[e.jsx(j.Icon,{className:`w-5 h-5 mr-3 ${R?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:j.label})}),R&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)]"})]},j.id)})}),e.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:t("Tip: choose a style to help communicate visual approach.",a)})]})]})]})]})},xt=({selectedLength:x,setSelectedLength:s,customLength:f,setCustomLength:m,selectedLanguage:a="English"})=>{const w=[{id:"short-form",label:t("Short Form",a),duration:t("15 sec – 1 min",a),description:t("Quick insights, reactions, jokes, highlights – TikTok/Reel style",a)},{id:"standard",label:t("Standard",a),duration:t("2–5 min",a),description:t("Mini explanations, challenges, creative short stories, tutorials",a)},{id:"extended",label:t("Extended",a),duration:t("6–15 min",a),description:t("Deeper dives, analyses, vlogs, storytime, discussions",a)},{id:"long-form",label:t("Long Form",a),duration:t("16–30+ min",a),description:t("Documentaries, interviews, or in-depth guides",a)},{id:"custom",label:t("Custom",a),duration:t("User defined",a),description:t("Let creators decide what fits best",a)}];return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[e.jsx(Ft,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),e.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("How long should your video be?",a)})]}),!localStorage.getItem("ideas_examples_seen_v1")&&e.jsxs("div",{className:"rounded-xl cream-glow-box p-5",style:{background:"radial-gradient(circle at 16% 16%, rgba(var(--color-gold-rgb,203,138,0),0.08), rgba(var(--color-gold-rgb,203,138,0),0.02) 26%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.10)",boxShadow:"inset 0 4px 12px rgba(var(--color-gold-rgb,203,138,0),0.02)"},children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Xt,{className:"w-5 h-5 text-[var(--color-gold)] mr-2"}),e.jsx("h3",{className:"text-sm font-normal text-gray-700",children:t("Examples for video length:",a)})]}),e.jsxs("ul",{className:"space-y-2 text-xs text-gray-600 list-none pl-0",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Short Form (15s–1m):",a)})," ",t("Quick tips, reactions, TikTok/Reels-style content",a)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Standard (2–5m):",a)})," ",t("Tutorials, challenges, product demos, reviews",a)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Extended (6–15m):",a)})," ",t("Deep dives, vlogs, detailed explanations, discussions",a)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Long Form (16–30m+):",a)})," ",t("Documentaries, interviews, masterclasses, podcasts",a)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Custom:",a)})," ",t("Let creators choose based on your content",a)]})]})]}),e.jsx(_s,{lengths:w,selectedLength:x,setSelectedLength:s,customLength:f,setCustomLength:m,selectedLanguage:a})]})},_s=({lengths:x,selectedLength:s,setSelectedLength:f,customLength:m,setCustomLength:a,selectedLanguage:w="English"})=>{const[n,h]=o.useState(!1),y=o.useRef(null),I=o.useRef(null);o.useEffect(()=>{const l=g=>{n&&(y.current&&y.current.contains(g.target)||I.current&&I.current.contains(g.target)||h(!1))};return document.addEventListener("mousedown",l),document.addEventListener("touchstart",l),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("touchstart",l)}},[n]);const N=l=>{f(l),h(!1)},S=x.find(l=>l.id===s);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:I,type:"button","aria-haspopup":"listbox","aria-expanded":n,onClick:()=>h(l=>!l),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"text-left",children:[S?e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(S.label,w)}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Select preferred video length",w)}),e.jsx("div",{className:"text-xs text-gray-400",children:S?t(S.duration,w):""})]}),e.jsx(be,{className:"w-4 h-4 text-gray-500"})]}),n&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{ref:y,role:"listbox","aria-label":"Video lengths",className:"divide-y divide-gray-100",children:x.map(l=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===l.id,onClick:()=>N(l.id),onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),N(l.id))},className:`p-3 flex items-start cursor-pointer hover:bg-gray-50 ${s===l.id?"bg-[var(--color-gold-cream)]":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${s===l.id?"text-gray-900":"text-gray-800"}`,children:t(l.label,w)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(l.duration,w)}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:t(l.description,w)}),l.id==="custom"&&s==="custom"&&e.jsxs("div",{className:"mt-3 flex gap-2",onClick:g=>g.stopPropagation(),children:[e.jsx("input",{type:"text",placeholder:t("Enter desired length (e.g. 45 mins)",w),value:m,onChange:g=>a(g.target.value),className:"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all",autoFocus:!0}),e.jsx("button",{onClick:()=>{m.trim()},className:"px-3 py-3 bg-[var(--color-gold)] hover:bg-[var(--color-gold)]/90 text-white rounded-lg flex items-center justify-center transition-colors",title:t("Save",w),children:e.jsx(K,{className:"w-5 h-5"})})]})]}),s===l.id&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},l.id))})})]})},Pr=({options:x,selected:s,setSelected:f,selectedLanguage:m="English"})=>{const[a,w]=o.useState(!1),n=o.useRef(null),h=o.useRef(null);o.useEffect(()=>{const N=S=>{a&&(n.current&&n.current.contains(S.target)||h.current&&h.current.contains(S.target)||w(!1))};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[a]);const y=N=>{f(N),w(!1)},I=x.find(N=>N.type===s);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:h,type:"button","aria-haspopup":"listbox","aria-expanded":a,onClick:()=>w(N=>!N),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"text-left",children:[I?e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(I.title,m)}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Select frequency",m)}),e.jsx("div",{className:"text-xs text-gray-400",children:I?t(I.subtitle,m):""})]}),e.jsx(be,{className:"w-4 h-4 text-gray-500"})]}),a&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{ref:n,role:"listbox","aria-label":"Frequency options",className:"divide-y divide-gray-100",children:x.map(N=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===N.type,onClick:()=>y(N.type),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),y(N.type))},className:`p-3 flex items-start cursor-pointer hover:bg-gray-50 ${s===N.type?"bg-[var(--color-gold-cream)]":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${s===N.type?"text-gray-900":"text-gray-800"}`,children:t(N.title,m)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(N.subtitle,m)})]}),s===N.type&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},N.type))})})]})},qs=({files:x,setFiles:s,links:f,setLinks:m,selectedLanguage:a="English"})=>{const w=o.useRef(null),[n,h]=o.useState(""),y=l=>{l.target.files&&l.target.files.length>0&&s([...x,...Array.from(l.target.files)])},I=()=>{n.trim()&&(m([...f,n.trim()]),h(""))},N=l=>{s(x.filter((g,v)=>v!==l))},S=l=>{m(f.filter((g,v)=>v!==l))};return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{onClick:()=>w.current.click(),className:"border-2 border-dashed border-gray-200 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:bg-[var(--bg)] transition-colors cursor-pointer bg-[var(--surface)]",children:[e.jsx("input",{type:"file",multiple:!0,className:"hidden",ref:w,onChange:y}),e.jsx("div",{className:"p-3 bg-gray-100 rounded-full mb-3",children:e.jsx(er,{className:"w-6 h-6 text-gray-500"})}),e.jsx("h3",{className:"text-sm font-normal text-gray-700",children:t("Upload reference files",a)}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Images, videos, PDFs, documents",a)})]}),x.length>0&&e.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:x.map((l,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(er,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 truncate",children:l.name})]}),e.jsx("button",{onClick:()=>N(g),className:"text-gray-400 hover:text-red-500 ml-2",children:e.jsx(Ce,{className:"w-4 h-4"})})]},g))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:t("Add reference links",a)+"...",value:n,onChange:l=>h(l.target.value),onKeyDown:l=>l.key==="Enter"&&I(),className:"flex-1 p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all"}),e.jsx("button",{onClick:I,className:"p-4 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 transition-colors",children:e.jsx(tr,{className:"w-5 h-5"})})]}),f.length>0&&e.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:f.map((l,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(tr,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-blue-600 truncate underline",children:l})]}),e.jsx("button",{onClick:()=>S(g),className:"text-gray-400 hover:text-red-500 ml-2",children:e.jsx(Ce,{className:"w-4 h-4"})})]},g))})]})},$r=({selectedDates:x,setSelectedDates:s,selectedLanguage:f="English"})=>{const[m,a]=o.useState(new Date),w=g=>new Date(g.getFullYear(),g.getMonth()+1,0).getDate(),n=g=>new Date(g.getFullYear(),g.getMonth(),1).getDay(),h=g=>{const v=new Date(m.getFullYear(),m.getMonth(),g).toDateString();x.includes(v)?s(x.filter(U=>U!==v)):s([...x,v])},y=w(m),I=n(m),N=Array.from({length:y},(g,v)=>v+1),S=Array.from({length:I},(g,v)=>v),l=[t("January",f),t("February",f),t("March",f),t("April",f),t("May",f),t("June",f),t("July",f),t("August",f),t("September",f),t("October",f),t("November",f),t("December",f)];return e.jsxs("div",{className:"mt-4 p-4 bg-[var(--surface)] rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>a(new Date(m.getFullYear(),m.getMonth()-1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:e.jsx(Ur,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[l[m.getMonth()]," ",m.getFullYear()]}),e.jsx("button",{onClick:()=>a(new Date(m.getFullYear(),m.getMonth()+1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:e.jsx(Cs,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map((g,v)=>e.jsx("div",{className:"text-xs font-medium text-gray-400",children:g},v))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[S.map(g=>e.jsx("div",{},`blank-${g}`)),N.map(g=>{const v=new Date(m.getFullYear(),m.getMonth(),g).toDateString(),U=x.includes(v);return e.jsx("div",{onClick:W=>{W.stopPropagation(),h(g)},className:`
                                h-8 w-8 flex items-center justify-center rounded-full text-sm cursor-pointer transition-colors
                                ${U?"bg-[var(--color-gold)] text-white":"hover:bg-[var(--bg)] text-gray-700"}
                            `,children:g},g)})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500 text-center",children:[x.length," dates selected"]})]})},Bs=({description:x,setDescription:s,title:f,setTitle:m,MAX_CHARS:a,seriesStep:w,numberOfEpisodes:n,setNumberOfEpisodes:h,selectedReleaseSchedule:y,setSelectedReleaseSchedule:I,customSeriesDates:N,setCustomSeriesDates:S,selectedLanguage:l="English"})=>{const g=[{id:"all-at-once",label:t("All at once",l),icon:Mt},{id:"weekly",label:t("Weekly",l),icon:sr},{id:"monthly",label:t("Monthly",l),icon:rr},{id:"custom",label:t("Custom Dates",l),icon:Xe}],[v,U]=o.useState(!1),W=o.useRef(null),M=o.useRef(null);return o.useEffect(()=>{const T=j=>{v&&(W.current&&W.current.contains(j.target)||M.current&&M.current.contains(j.target)||U(!1))};return document.addEventListener("mousedown",T),document.addEventListener("touchstart",T),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("touchstart",T)}},[v]),w===1?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this series.",l)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const T=document.getElementById("description-input");T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),T.focus(),T.classList.add("jump-highlight"),setTimeout(()=>T.classList.remove("jump-highlight"),900))},children:t("Edit",l)})]})}):w===2?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Format selected! Now detail your series.",l)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this series.",l)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const T=document.getElementById("description-input");T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),T.focus(),T.classList.add("jump-highlight"),setTimeout(()=>T.classList.remove("jump-highlight"),900));const j=document.getElementById("title-input");j&&setTimeout(()=>{j.focus(),j.classList.add("jump-highlight"),setTimeout(()=>j.classList.remove("jump-highlight"),900)},300)},children:t("Edit",l)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How many episodes would you like?",l)}),e.jsxs("div",{className:"relative",style:{maxWidth:220},children:[e.jsxs("button",{ref:M,type:"button",onClick:()=>U(T=>!T),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"w-4 h-4 text-gray-500"}),e.jsx("div",{className:"text-lg font-semibold",children:n}),e.jsx("span",{className:"text-xs text-gray-400",children:t("episodes",l)})]}),e.jsx(Dt,{className:"w-4 h-4 text-gray-500"})]}),v&&e.jsxs("div",{ref:W,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>h(Math.max(1,n-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease episodes",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",value:n,onChange:T=>{const j=Math.max(1,parseInt(T.target.value||"0",10)||1);h(j)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of episodes"}),e.jsx("button",{onClick:()=>h(n+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase episodes",children:e.jsx(Dt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(T=>e.jsx("button",{onClick:()=>{h(T),U(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:T},T))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How often would you like personalized videos delivered?",l)}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick a rhythm creators should follow (daily, weekly, monthly, or custom)."}),e.jsx("div",{className:"w-full",children:e.jsx(Pr,{options:g.map(T=>({type:T.id,title:T.label,subtitle:T.label})),selected:y,setSelected:I,selectedLanguage:l})}),y==="custom"&&e.jsx($r,{selectedDates:N,setSelectedDates:S})]})]}):null},Us=({value:x,setValue:s,selectedLanguage:f="English"})=>{const[m,a]=o.useState(!1),w=o.useRef(null),n=o.useRef(null);return o.useEffect(()=>{const h=y=>{m&&(w.current&&w.current.contains(y.target)||n.current&&n.current.contains(y.target)||a(!1))};return document.addEventListener("mousedown",h),document.addEventListener("touchstart",h),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("touchstart",h)}},[m]),e.jsxs("div",{className:"relative",style:{maxWidth:220},children:[e.jsxs("button",{ref:n,type:"button",onClick:()=>a(h=>!h),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"w-4 h-4 text-gray-500"}),e.jsx("div",{className:"text-lg font-semibold",children:x}),e.jsx("span",{className:"text-xs text-gray-400",children:t("videos",f)})]}),e.jsx(Dt,{className:"w-4 h-4 text-gray-500"})]}),m&&e.jsxs("div",{ref:w,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>s(Math.max(1,(x||0)-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease videos",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",value:x,onChange:h=>{const y=Math.max(1,parseInt(h.target.value||"0",10)||1);s(y)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of videos"}),e.jsx("button",{onClick:()=>s((x||0)+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase videos",children:e.jsx(Dt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(h=>e.jsx("button",{onClick:()=>{s(h),a(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:h},h))})]})]})},Os=({description:x,setDescription:s,title:f,setTitle:m,MAX_CHARS:a,catalogueStep:w,targetVideos:n,setTargetVideos:h,themes:y,setThemes:I,selectedLanguage:N="English"})=>w===1?e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this catalogue.",N)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const S=document.getElementById("description-input");S&&(S.scrollIntoView({behavior:"smooth",block:"center"}),S.focus(),S.classList.add("jump-highlight"),setTimeout(()=>S.classList.remove("jump-highlight"),900))},children:t("Edit",N)})]})}):w===2?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Catalogue selected — set target videos and themes.",N)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this catalogue.",N)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const S=document.getElementById("description-input");S&&(S.scrollIntoView({behavior:"smooth",block:"center"}),S.focus(),S.classList.add("jump-highlight"),setTimeout(()=>S.classList.remove("jump-highlight"),900))},children:t("Edit",N)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How many videos would you like?",N)}),e.jsx(Us,{value:n,setValue:h,selectedLanguage:N})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("Which themes or categories should we cover?",N)}),e.jsx("textarea",{rows:"4",placeholder:t("List the themes or categories to cover (e.g., 'Breakfast, Lunch, Dinner, Snacks')",N),value:y,onChange:S=>I(S.target.value),className:"w-full p-4 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 outline-none text-base"})]})]}):null,pt=({selectedPrivacy:x,setSelectedPrivacy:s,prevStepCompleted:f=!1,selectedLanguage:m="English"})=>{const a=[{id:"public",label:t("Public",m),icon:Ns,desc:t("Visible to everyone",m),price:null,cost:0},{id:"unlisted",label:t("Unlisted",m),icon:tr,desc:t("Only people with the link",m),price:"+$5.99",cost:5.99},{id:"private",label:t("Private",m),icon:Br,desc:t("Only you",m),price:"+$7.99",cost:7.99}],[w,n]=o.useState(!1),h=o.useRef(null);return e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsx("div",{className:"space-y-2 text-left",children:e.jsxs("div",{className:"relative",ref:h,children:[e.jsx("style",{children:`
                .privacy-outline-svg { position: absolute; inset: 0; pointer-events: none; overflow: visible; }
                .privacy-outline-base { stroke: rgba(226,232,240,1); stroke-width: 1.5; fill: none; stroke-linejoin: round; }

                /* Perimeter for rect(97x37) = 2*(97+37) = 268
                   The short "moving snake" length is increased to 597 (3×199)
                   so the animated gradient band appears longer while still
                   remaining shorter than the full perimeter. */
                /* Tail (gradient) - use the longer moving band length (597) */
                .privacy-outline-accent {
                  stroke: url(#privacyGrad);
                  stroke-width: 3.0;
                  fill: none;
                  stroke-linejoin: round;
                  stroke-linecap: round;
                  /* moving band length (199) — keep <= perimeter so animation is visible */
                  stroke-dasharray: 199;
                  stroke-dashoffset: 0;
                  opacity: 1;
                  transform-origin: center;
                }
                .privacy-outline-accent.run {
                  opacity: 1;
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* moving rect styling (explicit) - prevents small square artifacts at corners */
                .privacy-outline-mover {
                  stroke: url(#privacyGrad);
                  stroke-width: 3.0;
                  fill: none;
                  stroke-linejoin: round;
                  stroke-linecap: round;
                  /* match moving band length so animation is visible */
                  stroke-dasharray: 199;
                  stroke-dashoffset: 0;
                  opacity: 1;
                }
                .privacy-outline-mover.run {
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* Head (solid comet) sits on top of the moving tail and gives a moving point */
                .privacy-outline-head {
                  stroke: var(--color-accent);
                  stroke-width: 4.0;
                  fill: none;
                  stroke-linecap: round;
                  /* head length (24) + gap so total equals the moving band (199) */
                  stroke-dasharray: 24 175; /* 24 + 175 = 199 */
                  stroke-dashoffset: 0;
                  opacity: 1.0;
                }
                .privacy-outline-head.run {
                  opacity: 1;
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* move dashoffset negative to travel clockwise around the rect
                   use the new moving band length (597) for a full loop offset */
                @keyframes privacy-run {
                  from { stroke-dashoffset: 0; }
                  to { stroke-dashoffset: -199; }
                }
              `}),e.jsxs("button",{type:"button",onClick:()=>n(y=>!y),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm relative overflow-visible","aria-haspopup":"listbox","aria-expanded":w,style:{zIndex:1},children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Who should be able to see your video?",m)}),e.jsx("div",{className:"text-sm text-gray-500",children:t((a.find(y=>y.id===x)||{}).label||"Select visibility",m)})]}),e.jsx(be,{className:"w-4 h-4 text-gray-500"})]}),e.jsxs("svg",{className:"privacy-outline-svg",viewBox:"0 0 100 40",preserveAspectRatio:"none","aria-hidden":!0,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"privacyGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"transparent",stopOpacity:"0"}),e.jsx("stop",{offset:"8%",stopColor:"var(--color-accent)",stopOpacity:"0.18"}),e.jsx("stop",{offset:"30%",stopColor:"var(--color-accent)",stopOpacity:"0.95"}),e.jsx("stop",{offset:"80%",stopColor:"var(--color-accent)",stopOpacity:"0.4"}),e.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),e.jsx("clipPath",{id:"privacyClip",children:e.jsx("rect",{x:"2.5",y:"2.5",width:"95",height:"35",rx:"11"})})]}),e.jsx("rect",{x:"1.5",y:"1.5",width:"97",height:"37",rx:"12",className:"privacy-outline-base"})]}),w&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{role:"listbox",className:"divide-y divide-gray-100",children:a.map(y=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":x===y.id,onClick:()=>{s(y.id),n(!1)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),s(y.id),n(!1))},className:"p-3 flex items-start cursor-pointer hover:bg-gray-50",children:[e.jsx(y.icon,{className:`w-5 h-5 mr-3 mt-0.5 ${x===y.id?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:`text-sm font-medium ${x===y.id?"text-gray-900":"text-gray-700"}`,children:t(y.label,m)}),y.price&&e.jsx("div",{className:"text-sm font-normal text-gray-900",children:y.price})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:t(y.desc,m)})]}),x===y.id&&e.jsx("div",{className:"ml-3 mt-0.5",children:e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)]"})})]},y.id))})})]})})})},ht=({title:x,description:s,selectedDeliveryType:f,selectedTones:m,selectedVideoLength:a,customVideoLength:w,selectedPrivacy:n,selectedFrequency:h,customRecurrentDates:y,numberOfEpisodes:I,selectedReleaseSchedule:N,customSeriesDates:S,targetVideos:l,themes:g,uploadedFiles:v,referenceLinks:U,customPrice:W,setCustomPrice:M,editingPrice:T,setEditingPrice:j,priceInput:R,setPriceInput:q,priceInputRef:ee,savePrice:Ee,displayPrice:te,sanitizePriceInput:Re,onEdit:F,onSaveReview:J,selectedLanguage:p="English"})=>{const L=()=>({"short-form":t("Short Form",p),standard:t("Standard",p),extended:t("Extended",p),"long-form":t("Long Form",p)})[a]||a,ye=()=>({public:t("Public",p),unlisted:t("Unlisted",p)+" (+$5.99)",private:t("Private",p)+" (+$9.99)"})[n]||n,[Ie,$e]=o.useState(!1),ve=120,C=s&&s.length>ve;Ie||!C||s&&s.substring(0,ve)+"";const[O,H]=o.useState(null),[Q,G]=o.useState({title:x||"",description:s||"",delivery:f||"",frequency:h||null,length:a||null,customLength:w||"",privacy:n||null,price:typeof W=="number"?W:te||0,tones:m||[],themes:g||""});o.useEffect(()=>{G({title:x||"",description:s||"",delivery:f||"",frequency:h||null,length:a||null,customLength:w||"",privacy:n||null,price:typeof W=="number"?W:te||0,tones:m||[],themes:g||""})},[x,s,f,h,a,w,n,W,m,g]);const le=B=>{if(B==="price"&&typeof M=="function"&&M(Number(Q.price)||0),typeof J=="function")try{J(Q)}catch{}H(null)};return e.jsxs("div",{className:"relative ideas-review-root animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("style",{children:`
        .review-card { border-radius: 14px; }
        .field-edit-actions { display:flex; gap:8px; margin-top:8px; }
      `}),e.jsxs("div",{className:"relative p-5 bg-[var(--surface)] border border-gray-200 review-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("Review Your Request",p)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t("A final look before submission",p)})]}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 border-b border-gray-200 pb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("TITLE",p)}),O!=="title"?e.jsx("button",{onClick:()=>H("title"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xe,{className:"w-4 h-4"})}):null]}),O==="title"?e.jsxs("div",{children:[e.jsx("input",{value:Q.title,onChange:B=>G({...Q,title:B.target.value}),className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),e.jsxs("div",{className:"field-edit-actions",children:[e.jsx("button",{onClick:()=>le("title"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,title:x||""})),H(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]}):e.jsx("p",{className:"text-lg font-semibold text-gray-900","aria-label":"Request title",children:Q.title||x||`(${t("No title",p)})`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("DESCRIPTION",p)}),O!=="description"?e.jsx("button",{onClick:()=>H("description"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xe,{className:"w-4 h-4"})}):null]}),O==="description"?e.jsxs("div",{children:[e.jsx("textarea",{value:Q.description,onChange:B=>G({...Q,description:B.target.value}),rows:4,className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),e.jsxs("div",{className:"field-edit-actions",children:[e.jsx("button",{onClick:()=>le("description"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,description:s||""})),H(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]}):e.jsx("p",{className:"text-gray-700",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Q.description||s||`(${t("No description",p)})`})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("FORMAT",p)}),e.jsx("p",{className:"text-gray-900 font-medium capitalize",children:t(f==="one-time"?"One-Time":f?f.charAt(0).toUpperCase()+f.slice(1):"",p)||Q.delivery||"—"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("LENGTH",p)}),e.jsx("p",{className:"text-gray-900",children:L()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("PRIVACY",p)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-900",children:ye()}),e.jsx("button",{onClick:()=>H("privacy"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xe,{className:"w-4 h-4"})})]}),O==="privacy"&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"public"})),le("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Public",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"unlisted"})),le("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Unlisted",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"private"})),le("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Private",p)})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("BUDGET",p)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["$",Number(Q.price||0).toFixed(2)]}),e.jsx("button",{onClick:()=>H("budget"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xe,{className:"w-4 h-4"})})]}),O==="budget"&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("input",{type:"number",value:Q.price,onChange:B=>G(Ye=>({...Ye,price:B.target.value})),className:"p-2 rounded-lg border"}),e.jsx("button",{onClick:()=>le("price"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,price:te||0})),H(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:F,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:t("Edit Request",p)})})]})]})},ko=()=>{const x=cs(),[s,f]=o.useState(()=>{try{return localStorage.getItem("regaarder_language")||"English"}catch{return"English"}}),m=300,a=10,w=5,[n,h]=o.useState(null),[y,I]=o.useState(!1),[N,S]=o.useState(!1),[l,g]=o.useState(""),[v,U]=o.useState(()=>{try{const r=new URLSearchParams(window.location.search||"");return r.get("q")||r.get("term")||r.get("search")||""}catch{return""}}),[W,M]=o.useState(!1),[T,j]=o.useState(!1),[R,q]=o.useState(""),[ee,Ee]=o.useState([]),[te,Re]=o.useState([]),[F,J]=o.useState(1),[p,L]=o.useState(1),[ye,Ie]=o.useState(null),[$e,ve]=o.useState([]),[C,O]=o.useState(1),[H,Q]=o.useState(5),[G,le]=o.useState(null),[B,Ye]=o.useState([]),[E,Z]=o.useState(1),[At,zt]=o.useState(0),[ae,ie]=o.useState(null),[we,Te]=o.useState(!1),[Fe,ne]=o.useState("0.00"),je=o.useRef(null),[Qe,De]=o.useState(!1),[_t,Me]=o.useState(null),[Ze,Ae]=o.useState(25),[ze,or]=o.useState("creator"),[Yr,Hr]=o.useState(0),Vr=[15,25,50,100],[c,_e]=o.useState(null),[ft,et]=o.useState(null),[He,qe]=o.useState(""),[gt,Wr]=o.useState(!1),[qt,Ps]=o.useState(!1),[$s,Ys]=o.useState(null),[bt,yt]=o.useState(!1),[Lr,vt]=o.useState(!1),[ar,wt]=o.useState(null),[ir,nr]=o.useState(null),[lr,cr]=o.useState(!1);o.useEffect(()=>{if(qt){Wr(!0);try{setTimeout(()=>{rt.current&&rt.current.focus()},80)}catch{}}},[qt]);const[Jr,dr]=o.useState(!1),ce=o.useRef(null),[mr,Bt]=o.useState(!1),V=o.useRef(null),Ut=()=>{try{if(localStorage.getItem("ideas_examples_seen_v1"))return;Bt(!0),localStorage.setItem("ideas_examples_seen_v1","1")}catch{}},[ur,tt]=o.useState(null),[Hs,Ot]=o.useState(!1),de=o.useRef(null),me=o.useRef(null),Pt=o.useRef(null),$t=o.useRef(null),Yt=o.useRef(null);o.useEffect(()=>()=>{$t.current&&(clearTimeout($t.current),$t.current=null),Yt.current&&(clearTimeout(Yt.current),Yt.current=null)},[mr,n]),o.useEffect(()=>{if(v&&v.length>=w){if(ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>dr(!0),1e3),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}try{if(typeof IntersectionObserver<"u"&&Pt.current){const r=new IntersectionObserver(i=>{i.forEach(d=>{if(d.isIntersecting){Ut();try{r.disconnect()}catch{}V.current=null}})},{root:null,rootMargin:"0px 0px 400px 0px",threshold:0});r.observe(Pt.current),V.current=r}else V.current=setTimeout(()=>Ut(),6100)}catch{V.current=setTimeout(()=>Ut(),6100)}}else{if(ce.current&&(clearTimeout(ce.current),ce.current=null),dr(!1),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}Bt(!1)}return()=>{if(ce.current&&(clearTimeout(ce.current),ce.current=null),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}}},[v,w]),o.useEffect(()=>(n?(de.current&&clearTimeout(de.current),me.current&&clearTimeout(me.current),tt(null),Ot(!1),de.current=setTimeout(()=>{const r={series:t("Series selected — now configure episode details.",s),catalogue:t("Catalogue selected — set target videos and themes.",s),recurrent:t("Recurrent selected — choose a delivery frequency.",s),"one-time":t("One-Time selected — next step: Tone & Style.",s)};tt(r[n]||null)},400),me.current=setTimeout(()=>{Ot(!0)},4800)):(de.current&&clearTimeout(de.current),me.current&&clearTimeout(me.current),de.current=null,me.current=null,tt(null),Ot(!1)),()=>{de.current&&(clearTimeout(de.current),de.current=null),me.current&&(clearTimeout(me.current),me.current=null)}),[n]),o.useEffect(()=>{try{let r=document.getElementById("ideas-theme-styles");r||(r=document.createElement("style"),r.id="ideas-theme-styles",document.head.appendChild(r));const i=`
        :root { --brand-gold: var(--color-gold); --color-gold-cream: rgba(255, 242, 199, 1); }
        @keyframes shimmer-gold-premium { 0% { background-position: 100% 0; } 40% { background-position: 0% 0; } 100% { background-position: 0% 0; } }
        .shimmer-gold { background: linear-gradient(100deg, var(--color-gold) 0%, var(--color-gold) 42%, var(--color-gold-cream) 45%, var(--color-gold-cream) 55%, var(--color-gold) 58%, var(--color-gold) 100%); background-size: 300% 100%; animation: shimmer-gold-premium 3s ease-in-out infinite; }
        @keyframes pulse-ring { 0% { box-shadow: 0 0 0 0 var(--color-gold); } 70% { box-shadow: 0 0 0 12px rgba(0,0,0,0); } 100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); } }
        .pulse-price { animation: pulse-ring 2.2s infinite; }

        /* Sweeping text: white overlay that passes over the heading without tinting it. */
        .sweeping-text-container { position: relative; display: inline-block; overflow: hidden; z-index: 1; }
        .sweep-effect { position: absolute; top: 0; left: -40%; height: 100%; width: 60%; pointer-events: none; border-radius: 8px;
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.95) 50%, rgba(255,255,255,0) 100%);
            mix-blend-mode: normal; transform: translateX(0); animation: sweep-anim 2000ms ease-in-out forwards; z-index: 0; }
        @keyframes sweep-anim { 0% { transform: translateX(-120%); opacity: 0; } 8% { opacity: 1; } 85% { transform: translateX(120%); opacity: 1; } 100% { transform: translateX(120%); opacity: 0; } }
        
        /* Ensure the Ideas page elements adopt the page background so inputs and panels blend */
        .ideas-root .bg-white { background-color: var(--surface) !important; box-shadow: none !important; }
        .ideas-root input, .ideas-root textarea, .ideas-root select, .ideas-root .rounded-xl, .ideas-root .rounded-2xl { background-color: #F8F8FA !important; }
        .ideas-root .border-gray-200 { border-color: rgba(15,23,42,0.06) !important; }

        .ideas-root h2, .ideas-root h3, .ideas-root h4, .ideas-root h5, .ideas-root .text-lg, .ideas-root .text-xl, .ideas-root .text-2xl, .ideas-root input, .ideas-root textarea, .ideas-root label {
          font-size: 1rem !important;
          line-height: 1.2 !important;
        }

        /* Exclude the main animated page title (keeps its larger size) */
        .ideas-root .cream-glow-box h1 { font-size: clamp(20px, 6.5vw, 34px) !important; line-height: 1.1 !important; }
        
        /* Payment modal revamp styles - CLASSY & PREMIUM */
        .payment-modal-panel { background: #ffffff; border-radius: 24px; padding: 40px; border: 1px solid rgba(15,23,42,0.04); box-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.12); width: 100%; max-width: 550px; margin: auto; }
        .payment-modal-header { display:flex; align-items:flex-start; justify-content:space-between; gap:20px; margin-bottom: 24px; }
        .payment-modal-title { font-size:24px; font-weight:800; letter-spacing: -0.02em; color: #1e293b; margin:0; line-height: 1.2; }
        .payment-modal-sub { color:#64748b; font-size:15px; margin-top:8px; line-height: 1.6; }
        
        .preset-row { display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-bottom: 24px; }
        .preset-btn { flex: 1; min-width:110px; display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:16px 20px; border-radius:16px; font-weight:700; cursor:pointer; border:1px solid rgba(15,23,42,0.04); transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-size: 18px; }
        .preset-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.05); }
        .preset-btn:active { transform: translateY(0); }
        
        .preset-btn.bg-primary { background: linear-gradient(135deg, var(--color-primary), #7a3af0); color:white; box-shadow: 0 12px 25px -8px rgba(122,58,240,0.4); border: none; }
        .preset-btn.bg-gray { background:#f8fafc; color:#0f172a; border-color: #e2e8f0; }
        
        .amount-row { display:flex; align-items:center; justify-content:space-between; gap:16px; background: #f8fafc; padding: 16px 20px; border-radius: 16px; margin-bottom: 24px; }
        .amount-input { width:120px; padding:12px 16px; border-radius:12px; border:1px solid rgba(15,23,42,0.08); font-size: 18px; font-weight: 600; text-align: right; }
        
        .payment-cta { display:inline-flex; align-items:center; justify-content:center; gap:12px; padding:18px 32px; border-radius:18px; background: linear-gradient(135deg, var(--color-primary), #7a3af0); color:white; font-size: 18px; font-weight:800; box-shadow: 0 20px 40px -10px rgba(122,58,240,0.3); border: none; cursor: pointer; transition: all 0.3s ease; text-decoration: none; }
        .payment-cta:hover { transform: translateY(-2px); box-shadow: 0 25px 50px -12px rgba(122,58,240,0.4); }
        
        .modal-trust { display:flex; align-items:center; justify-content: center; gap:8px; color:#64748b; font-size:13px; margin-top:20px; font-weight: 500; }
        
        /* Provider list improvements */
        .provider-item { padding:14px 18px; border-radius:14px; border:1px solid transparent; cursor:default; transition: background 0.2s; }
        .provider-item.highlight { border-color: rgba(122,58,240,0.12); background: rgba(122,58,240,0.03); }
        .payment-footer { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:18px; }
        
        input[type=range] {
          -webkit-appearance: none; appearance: none; width: 100%; height: 8px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); border-radius: 999px;
        }
        input[type=range]::-webkit-slider-runnable-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; border-radius: 50%; margin-top: -5px; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }
        input[type=range]::-moz-range-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }
        input[type=range]::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }
      `;r.textContent=Ds+i}catch{}},[]);const rt=o.useRef(null),[Be,xr]=o.useState([]),jt=(function(){if(window&&window.__BACKEND_URL__)return window.__BACKEND_URL__;const r=window.location.protocol,i=window.location.hostname;return`${r}//${i}:4000`})();o.useEffect(()=>{try{if(new URLSearchParams(window.location.search).get("payment_success")==="true"){const i=localStorage.getItem("pending_payment_data"),d=new URL(window.location.href);if(d.searchParams.delete("payment_success"),d.searchParams.delete("session_id"),window.history.replaceState({},"",d),i){try{const u=JSON.parse(i);if(!u.backendSynced){console.log("[payment_success] Syncing pending submission"),os(u.amount||0,u).then(()=>{console.log("[payment_success] Sync complete"),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},150)}).catch(b=>{console.error("[payment_success] Sync failed:",b),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},150)});return}}catch{}localStorage.removeItem("pending_payment_data")}setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},300)}}catch(r){console.warn("Failed to handle payment return",r)}},[]),o.useEffect(()=>{const r="ideas_selectedCreator_v1",i=()=>{try{const u=localStorage.getItem(r);if(u){const b=JSON.parse(u);_e(b),(b.photoURL||b.image)&&et(b.photoURL||b.image);const A=b.price&&Number(b.price)>0?Math.max(15,Number(b.price)):15;Ae(A),localStorage.removeItem(r)}}catch(u){console.warn("Failed to load selected creator",u)}};i();const d=()=>i();return window.addEventListener("ideas:creator_selected",d),()=>window.removeEventListener("ideas:creator_selected",d)},[]),o.useEffect(()=>{let r=!1;return(gt||Qe)&&(async()=>{try{const d=await fetch(`${jt}/users`);if(!d.ok)return;const u=await d.json();if(!u||!Array.isArray(u.users))return;const b=()=>{const k=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"];return k[Math.floor(Math.random()*k.length)]},A=u.users.filter(k=>k.isCreator).map(k=>({id:k.id||k.email||k.name,name:k.handle||k.tag||`@${(k.name||"").toLowerCase()}`,displayName:k.name||k.handle||k.tag,photoURL:k.photoURL||k.image||k.avatar,price:k.price||k.rate||0,fallbackColor:b()}));if(r)return;A.length>0&&xr(A)}catch(d){console.warn("Failed to load creators",d)}})(),()=>{r=!0}},[gt,Qe]);const Nt=(()=>{const r=String(He||"").trim();if(!r)return Be;const i=r.startsWith("@")?r.toLowerCase():"@"+r.toLowerCase();return Be.filter(d=>String(d.name||"").toLowerCase().includes(i)||String(d.displayName||"").toLowerCase().includes(r.toLowerCase()))})();o.useEffect(()=>{try{Qe?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="",document.body.style.touchAction="")}catch{}return()=>{try{document.body.style.overflow="",document.body.style.touchAction=""}catch{}}},[Qe]);const Ve=(r,i={})=>{try{console.log("[analytics]",r,i)}catch{}};o.useEffect(()=>{gt&&(qe(""),setTimeout(()=>{rt.current&&rt.current.focus()},240))},[gt]),o.useEffect(()=>{let r=!1;const i=async()=>{try{const d=await fetch(`${jt}/users`);if(!d.ok)return;const u=await d.json();if(!u||!Array.isArray(u.users))return;const b=()=>{const k=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"];return k[Math.floor(Math.random()*k.length)]},A=u.users.filter(k=>k.isCreator).map(k=>({id:k.id||k.email||k.name,name:k.handle||k.tag||`@${(k.name||"").toLowerCase()}`,displayName:k.name||k.handle||k.tag,photoURL:k.photoURL||k.image||k.avatar,price:k.price||k.rate||0,fallbackColor:b()}));if(r)return;A.length>0&&xr(A)}catch(d){console.warn("Failed to load creators",d)}};return bt&&Be.length===0&&i(),()=>{r=!0}},[bt]);const se=typeof ae=="number"?ae:0;o.useEffect(()=>{we&&(ne((se||0).toFixed(2)),setTimeout(()=>{je.current&&je.current.focus()},0))},[we]);const pr=r=>{if(!r)return"";const[i,d]=r.split("."),b=(i.replace(/^0+(?=\d)/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",");return d!==void 0?`${b}.${d}`:b},We=r=>{if(r==null)return"";let i=String(r).replace(/[^0-9.]/g,"");const d=i.split(".");if(d.length>1&&(i=d[0]+"."+d.slice(1).join("")),i.includes(".")){const[u,b]=i.split("."),A=(b||"").slice(0,2);return pr(u)+(A.length?`.${A}`:".")}return pr(i)},Kr=r=>{if(r==null||isNaN(r))return"";const i=Number(r).toFixed(2),[d,u]=i.split(".");return d.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+u},Ne=()=>{const r=parseFloat(String(Fe||"").replace(/,/g,"").replace(/[^0-9.-]/g,"")),i=isNaN(r)?0:r;ie(i),ne(Kr(i)),Te(!1)},[hr,fr]=o.useState(""),st=r=>{try{fr(r)}catch{}};o.useEffect(()=>{if(!hr)return;const r=setTimeout(()=>fr(""),8e3);return()=>clearTimeout(r)},[hr]);const Ht="ideas_customPrice_v1",ot="ideas_selectedCreator_v1";o.useEffect(()=>{try{const r=window.localStorage.getItem(Ht);if(r!=null){const i=parseFloat(r);isNaN(i)||(ie(i),ne(i.toFixed(2)))}}catch{}},[]),o.useEffect(()=>{try{const r=window.localStorage.getItem(ot);if(r){const i=JSON.parse(r);i&&i.id&&(console.log("[ideas] loaded selectedCreator from localStorage:",i),_e(i))}}catch{}},[]),o.useEffect(()=>{const r=()=>{try{if(c&&c.id)return;const d=window.localStorage.getItem(ot);if(!d)return;const u=JSON.parse(d);u&&u.id&&(console.log("[ideas] pageshow/focus read selectedCreator from localStorage:",u),_e(u))}catch{}},i=()=>{document.visibilityState==="visible"&&r()};return window.addEventListener("pageshow",r),window.addEventListener("focus",r),document.addEventListener("visibilitychange",i),()=>{window.removeEventListener("pageshow",r),window.removeEventListener("focus",r),document.removeEventListener("visibilitychange",i)}},[c]),o.useEffect(()=>{if(!c||!c.id||c.photoURL||c.image||c.avatar)return;(async()=>{try{console.log("[ideas] Enriching selectedCreator with image data...",c);const d=await(await fetch("/users")).json();if(!d||!Array.isArray(d.users)){console.warn("[ideas] No users returned from /users");return}let u=d.users.find(b=>b.id===c.id);if(console.log("[ideas] Match by ID:",u),!u){const b=String(c.name||"").replace(/^@/,"").toLowerCase();u=d.users.find(A=>String(A.handle||"").replace(/^@/,"").toLowerCase()===b),console.log("[ideas] Match by handle:",u)}if(u||(u=d.users.find(b=>String(b.name||"").toLowerCase()===String(c.displayName||"").toLowerCase()),console.log("[ideas] Match by displayName:",u)),u){const b=u.photoURL||u.image||u.avatar;console.log("[ideas] Found image URL:",b),b&&_e(A=>({...A,photoURL:b}))}else console.warn("[ideas] Creator not found in users list")}catch(i){console.warn("Failed to enrich creator data with image",i)}})()},[c?.id]),o.useEffect(()=>{if(!c||!c.id){et(null);return}if(c.photoURL||c.image||c.avatar){console.log("[ideas] Using image from selectedCreator:",c.photoURL||c.image||c.avatar),et(c.photoURL||c.image||c.avatar);return}(async()=>{try{console.log("[ideas] selectedCreator missing image, fetching all users...");const d=await(await fetch("/users")).json();if(d&&Array.isArray(d.users)){console.log("[ideas] Got "+d.users.length+" users from backend");let u=d.users.find(b=>b.id===c.id);if(console.log("[ideas] Match by ID:",u?"found":"not found",u?.name),u||(u=d.users.find(b=>String(b.name||"").toLowerCase()===String(c.displayName||c.name||"").toLowerCase()),console.log("[ideas] Match by name:",u?"found":"not found",u?.name)),u){const b=u.image||u.photoURL||u.avatar;console.log("[ideas] Found creator, image URL:",b),et(b||null)}else console.warn("[ideas] Creator not found in users list")}else console.warn("[ideas] No users returned")}catch(i){console.warn("[ideas] Failed to fetch creator image:",i)}})()},[c?.id]),o.useEffect(()=>{try{c&&Et.current&&!kr.current&&setTimeout(()=>{try{Et.current.scrollIntoView({behavior:"smooth",block:"center"}),Et.current.focus({preventScroll:!0}),kr.current=!0,console.log("[ideas] auto-scrolled to description for selectedCreator")}catch(r){console.warn("auto-scroll failed",r)}},120)}catch{}},[c]),o.useEffect(()=>{try{typeof ae=="number"?window.localStorage.setItem(Ht,String(ae)):window.localStorage.removeItem(Ht)}catch{}},[ae]),o.useEffect(()=>{try{c&&c.id?window.localStorage.setItem(ot,JSON.stringify(c)):window.localStorage.removeItem(ot)}catch{}},[c]);const[gr,kt]=o.useState(""),[X,ke]=o.useState([]),[at,it]=o.useState([]),[re,Le]=o.useState(null),[$,ue]=o.useState(null);o.useEffect(()=>{Hr({public:0,unlisted:5.99,private:7.99}[$]||0)},[$]);const[Gr,Xr]=o.useState("Ideas"),[nt,br]=o.useState(!1),[Vs,yr]=o.useState(!1),[Ws,vr]=o.useState(null),Se=n!==null,wr=[{type:"one-time",title:t("One-Time",s),subtitle:t("A single standalone video.",s),Icon:Mt},{type:"recurrent",title:t("Recurrent",s),subtitle:t("A routine delivered daily, weekly, or monthly.",s),Icon:Or},{type:"series",title:t("Series",s),subtitle:t("A focused set of connected videos.",s),Icon:Rs},{type:"catalogue",title:t("Catalogue",s),subtitle:t("A curated mix across different themes.",s),Icon:xs}],Ue=[t("Book Your Next Videos",s)],[Vt,jr]=o.useState(0),[Nr,St]=o.useState(!0),[Qr,Ct]=o.useState(!1),Wt=o.useRef(null),Et=o.useRef(null),kr=o.useRef(!1),[Sr,Zr]=o.useState(null),[Ls,Cr]=o.useState(null),Rt=8e3,Er=2e3,Je=400;o.useEffect(()=>{if(!Ue||Ue.length<2)return;const r=Je+Rt+Er;let i=null,d=null,u=null;const b=()=>{St(!0),d=setTimeout(()=>Ct(!0),Je),u=setTimeout(()=>{Ct(!1),St(!1)},Je+Rt)};return b(),i=setInterval(()=>{jr(A=>(A+1)%Ue.length),b()},r),()=>{clearInterval(i),clearTimeout(d),clearTimeout(u)}},[Ue.length]),o.useEffect(()=>{const r=()=>{try{Wt.current&&Zr(Wt.current.offsetWidth)}catch{}};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[Nr,Vt]),o.useEffect(()=>{try{const r=Tt("--color-gold")||Tt("--brand-gold")||"#CA8A04",i=Tt("--color-gold-600")||Tt("--brand-gold-600")||"#B27000";Cr(`linear-gradient(90deg, ${r}, ${i})`)}catch{Cr("linear-gradient(90deg, #CA8A04, #B27000)")}},[]);const xe=n==="recurrent",pe=n==="series",he=n==="catalogue";let D=!1;n==="one-time"?F===1?D=l.length>=a&&v.trim().length>0:F===2||F===3?D=!0:F===4?D=$!==null:F===5?D=!0:D=!1:xe?p===1?D=l.length>=a&&v.trim().length>0:p===2?ye==="custom"?D=$e.length>0:D=ye!==null:p===3||p===4?D=!0:p===5?D=$!==null:p===6?D=!0:D=!1:pe?C===1?D=l.length>=a&&v.trim().length>0:C===2?G==="custom"?D=H>=1&&B.length>0:D=H>=1&&G!==null:C===3||C===4?D=!0:C===5?D=$!==null:C===6?D=!0:C===7&&(D=!1):he&&(E===1?D=l.length>=a&&v.trim().length>0:E===2?D=At>=1:E===3||E===4?D=!0:E===5?D=$!==null:E===6?D=!0:E===7&&(D=!1));const[es,Rr]=o.useState(!1),Ir=o.useRef(!1);o.useEffect(()=>{if(!Ir.current&&D){Rr(!0);const r=setTimeout(()=>{Rr(!1)},800);return()=>clearTimeout(r)}Ir.current=D},[D]);let Oe=30;if(Se){let r=1,i=5;xe?(r=p,i=6):pe?(r=C,i=6):he?(r=E,i=6):(r=F,i=5),r>=i?Oe=100:Oe=30+(r-1)/(i-1)*70}const Lt=Math.max(0,Math.round((1-Oe/100)*60)),Tr="var(--color-primary)",ts="0 2px 6px rgba(6, 24, 58, 0.18)",Jt=()=>{if(!D){console.error("Cannot proceed: Please complete the required fields.");return}pe?C===1?O(2):C===2?O(3):C===3?O(4):C===4?O(5):C===5?O(6):C===6&&(Me({flow:"series",nextStep:7}),Ae(Math.max(15,se||35)),De(!0)):xe?p===1?L(2):p===2?L(3):p===3?L(4):p===4?L(5):p===5?L(6):p===6&&(Me({flow:"recurrent",nextStep:7}),Ae(Math.max(15,se||35)),De(!0)):he?E===1?Z(2):E===2?Z(3):E===3?Z(4):E===4?Z(5):E===5?Z(6):E===6&&(Me({flow:"catalogue",nextStep:7}),Ae(Math.max(15,se||50)),De(!0)):F===1?J(2):F===2?J(3):F===3?J(4):F===4?J(5):F===5&&(Me({flow:"one-time",nextStep:6}),Ae(Math.max(15,se||25)),De(!0))},rs=()=>{pe?C===1||(C===2?O(1):C===3?O(2):C===4?O(3):C===5?O(4):C===6&&O(5)):xe?p===1||(p===2?L(1):p===3?L(2):p===4?L(3):p===5?L(4):p===6&&L(5)):he?E===1||(E===2?Z(1):E===3?Z(2):E===4?Z(3):E===5?Z(4):E===6&&Z(5)):n==="one-time"&&(F===1||(F===2?J(1):F===3?J(2):F===4?J(3):F===5&&J(4)))},Fr=r=>{N||(tt(null),h(r),S(!0),setTimeout(()=>{Ie(null),ve([]),O(2),Q(5),le(null),Ye([]),Z(2),zt(10),kt(""),Le(null),q(""),Ee([]),Re([]),ue(null),r==="one-time"&&J(2),r==="recurrent"&&L(1),r==="series"&&O(2),r==="catalogue"&&Z(2);const i={series:"Series selected — now configure episode details.",catalogue:"Catalogue selected — set target videos and themes.",recurrent:"Recurrent selected — choose a delivery frequency.","one-time":"One-Time selected — next step: Video Length."};try{tt(i[r]||null)}catch{}S(!1)},1e3))},ss=async()=>{if(console.log("🟢🟢🟢 FREE SUBMISSION CALLED"),console.log("🟢 Title:",v),console.log("🟢 Description:",l),!v||!v.trim()){st("Please enter a title for your request");return}try{const r="ideas_requests_v1",i=`req_${Date.now()}`,d=`${window.location.protocol}//${window.location.hostname}:4000`;let u=null;try{const _=localStorage.getItem("regaarder_user");if(_){const Y=JSON.parse(_);Y&&Y.id&&(u={id:Y.id,name:Y.name||Y.displayName||"User"})}}catch{}u||(u={id:"anonymous",name:"Anonymous User"});const b={id:i,title:v.trim(),description:l||"",delivery:_t?_t.flow:"one-time",amount:0,funding:0,creator:u,createdBy:u.id,createdAt:new Date().toISOString(),meta:{selectedTones:X||[],selectedVideoLength:re||null,selectedPrivacy:$||null},isFreeSubmission:!0},A=window.localStorage.getItem(r),k=A?JSON.parse(A):[];k.unshift(b),window.localStorage.setItem(r,JSON.stringify(k)),console.log("🟢 Saved to localStorage:",b.id);const z=localStorage.getItem("regaarder_token"),Ke={"Content-Type":"application/json"};z&&(Ke.Authorization=`Bearer ${z}`);const fe={id:i,title:b.title,description:b.description,creator:b.creator,createdBy:b.createdBy,meta:b.meta,amount:0,funding:0},dt=z?`${d}/requests`:`${d}/requests/public`;console.log("🟢 Sending to backend:",dt,fe);const P=await fetch(dt,{method:"POST",headers:Ke,body:JSON.stringify(fe)});if(console.log("🟢🟢🟢 Backend response:",P.status,P.statusText),P.ok){const _=await P.json();console.log("🟢🟢🟢 Backend returned:",_);const Y=window.localStorage.getItem(r),oe=Y?JSON.parse(Y):[],ge=oe.findIndex(Ge=>Ge.id===i);ge!==-1&&(oe[ge]={...oe[ge],..._.request,backendSynced:!0},window.localStorage.setItem(r,JSON.stringify(oe))),st("Request submitted successfully!"),U(""),g(""),Me(null),De(!1),wt(b),vt(!0)}else console.error("🔴 Backend save failed:",P.status),st("Failed to save request. Please try again.")}catch(r){console.error("🔴 Free submission error:",r),st("Failed to submit request. Please try again.")}},os=async(r,i=null)=>{const d=i||{},u=_t||(d.flow?{flow:d.flow,nextStep:d.nextStep}:null);if(!u)return;console.log("continuePendingSubmission start",{amount:r,effectivePendingSubmission:u,sourceData:d});const b=typeof r=="number"?r:d.amount||Ze;ie(b);const{flow:A,nextStep:k}=u;try{const z="ideas_requests_v1",Ke=d.id||`req_${Date.now()}`;let fe=null;try{const _=localStorage.getItem("regaarder_user");_&&(fe=JSON.parse(_))}catch{}const dt=fe?{id:fe.id,name:fe.name,image:fe.image||fe.avatar||""}:{id:"anonymous",name:"Anonymous User",image:""},P={id:Ke,title:d.title||v||"",description:d.description||l||"",delivery:A,step:k,amount:b,funding:b,role:d.role||ze,creator:dt,createdBy:dt.id,createdAt:new Date().toISOString(),meta:{selectedTones:d.tones||X||[],selectedVideoLength:d.videoLength||re||null,selectedPrivacy:d.privacy||$||null}};try{const _=window.localStorage.getItem(z),Y=_?JSON.parse(_):[];Y.some(oe=>oe.id===P.id)||(Y.unshift(P),window.localStorage.setItem(z,JSON.stringify(Y)))}catch{}if(console.log("Checking backend sync status:",d.backendSynced),d.backendSynced)try{const _=window.localStorage.getItem(z);if(_){const Y=JSON.parse(_),oe=Y.findIndex(ge=>ge.id===P.id);oe!==-1&&!Y[oe].backendSynced&&(Y[oe].backendSynced=!0,window.localStorage.setItem(z,JSON.stringify(Y)))}}catch{}else try{const _=localStorage.getItem("regaarder_token"),Y={"Content-Type":"application/json"};_&&(Y.Authorization=`Bearer ${_}`),console.log("Attempting backup save to backend in continuePendingSubmission",P.id);const oe=_?`${jt}/requests`:`${jt}/requests/public`,ge=await fetch(oe,{method:"POST",headers:Y,body:JSON.stringify({id:P.id,title:P.title,description:P.description,creator:P.creator,createdBy:P.createdBy,meta:P.meta,amount:P.amount,funding:P.funding})});if(ge.ok){const Ge=await ge.json();console.log("Backup save result:",ge.status,Ge);const ns=Ge&&Ge.request?Ge.request:P;try{const Gt=window.localStorage.getItem(z);let It=Gt?JSON.parse(Gt):[];const Dr=It.findIndex(ls=>ls.id===P.id),Mr={...P,...ns,backendSynced:!0};Dr!==-1?It[Dr]=Mr:It.unshift(Mr),window.localStorage.setItem(z,JSON.stringify(It))}catch{}}}catch(_){console.error("Backup save failed",_)}try{const _=new CustomEvent("ideas:request_created",{detail:P});window.dispatchEvent(_)}catch{}}catch{}U(""),g(""),Ee([]),Re([]),kt(""),ve([]),Ye([]),ie(null);try{localStorage.removeItem("ideas_draft_v1")}catch{}h(null),J(1),O(1),L(1),Z(1),Bt(!1);try{localStorage.setItem("ideas_examples_seen_v1","1")}catch{}st("Request submitted successfully!"),Me(null),De(!1);try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},lt=r=>{if(!(!r||typeof r!="object"))try{r.title!==void 0&&U(r.title),r.description!==void 0&&g(r.description),r.privacy!==void 0&&ue(r.privacy),r.price!==void 0&&ie(Number(r.price)||0),r.delivery!==void 0&&h(r.delivery),r.length!==void 0&&Le(r.length),r.customLength!==void 0&&q(r.customLength),r.frequency!==void 0&&Ie(r.frequency),r.tones!==void 0&&ke(r.tones||[]),r.themes!==void 0&&kt(r.themes||""),r.targetVideos!==void 0&&zt(r.targetVideos),r.files!==void 0&&Ee(r.files||[]),r.links!==void 0&&Re(r.links||[])}catch{}};o.useEffect(()=>{let r=!0,i,d,u;const b=()=>{if(r)return St(!0),i=setTimeout(()=>{Ct(!0)},Je),d=setTimeout(()=>{Ct(!1),St(!1)},Je+Rt),u=setTimeout(()=>{jr(A=>(A+1)%Ue.length),b()},Je+Rt+Er),()=>{clearTimeout(i),clearTimeout(d),clearTimeout(u)}};return b(),()=>{r=!1}},[Ue.length]),o.useEffect(()=>{try{const r=localStorage.getItem("ideas_draft_v1");if(r){const i=JSON.parse(r);i.description&&g(i.description),i.title&&U(i.title)}}catch{}j(!0)},[]),o.useEffect(()=>{if(T)try{const r={description:l,title:v,selectedDeliveryType:n,selectedTones:X,selectedVideoLength:re,selectedPrivacy:$};localStorage.setItem("ideas_draft_v1",JSON.stringify(r))}catch{}},[l,v,n,X,re,$,T]);let ct=Se?"1/1":"0/1";xe?ct=p===6?"6/6":`${p}/6`:pe?ct=C===6?"6/6":`${C}/6`:he?ct=E===6?"6/6":`${E}/6`:n==="one-time"&&(ct=F===5?"5/5":`${F}/5`);const as=n==="one-time"&&(F===2||F===3)||xe&&(p===3||p===4)||pe&&(C===3||C===4)||he&&(E===3||E===4),Kt=pe&&C===7||xe&&p===7||he&&E===7||n==="one-time"&&F===6,is=()=>{if(pe){if(C===1)return t("Continue to Number of Episodes",s);if(C===2)return t("Continue to Video Length",s);if(C===3)return t("Continue to Tone & Style",s);if(C===4)return t("Continue to Privacy",s);if(C===5)return t("Review Request",s);if(C===6)return t("Submit Request",s)}if(he){if(E===1)return t("Continue to Configuration",s);if(E===2)return t("Continue to Video Length",s);if(E===3)return t("Continue to Tone & Style",s);if(E===4)return t("Continue to Privacy",s);if(E===5)return t("Review Request",s);if(E===6)return t("Submit Request",s)}if(xe){if(p===1)return t("Continue to Video Length",s);if(p===2)return t("Continue to Video Length",s);if(p===3)return t("Continue to Tone & Style",s);if(p===4)return t("Continue to Privacy",s);if(p===5)return t("Review Request",s);if(p===6)return t("Submit Request",s)}if(n==="one-time"){if(F===1)return t("Continue to Video Length",s);if(F===2)return t("Continue to Tone & Style",s);if(F===3)return t("Continue to Privacy",s);if(F===4)return t("Review Request",s);if(F===5)return t("Submit Request",s)}return Se?t("Next",s):t("Next",s)};return e.jsxs("div",{className:"min-h-screen flex flex-col app-container",style:{backgroundColor:"#F8F8FA"},children:[e.jsxs("header",{className:"px-5 pt-4 sticky top-0 z-20",style:{backgroundColor:"#F8F8FA",borderBottom:"1px solid rgba(15,23,42,0.03)"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t("Progress",s)}),e.jsxs("span",{className:"text-sm font-normal",style:{color:"var(--color-accent)"},children:[Oe.toFixed(0),"% ",t("complete",s)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden w-full mb-6",style:{marginTop:"10px"},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Oe}%`,background:"linear-gradient(90deg, rgba(var(--color-gold-rgb),0.18), rgba(var(--color-gold-rgb),0.06))",boxShadow:"0 0 3px rgba(var(--color-gold-rgb),0.12)"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Don't lose your progress — 30% complete",s).replace("30%",`${Oe.toFixed(0)}%`)})]}),e.jsxs("main",{className:"ideas-root flex-grow px-5 pb-0 max-w-lg mx-auto w-full",children:[e.jsx("div",{ref:Wt,className:"mt-8 mb-5 rounded-xl text-center cream-glow-box",style:{padding:"18px 28px",background:"radial-gradient(ellipse at center, rgba(var(--color-gold-rgb,203,138,0),0.20) 0%, rgba(var(--color-gold-rgb,203,138,0),0.12) 18%, rgba(var(--color-gold-rgb,203,138,0),0.07) 36%, rgba(var(--color-gold-rgb,203,138,0),0.03) 60%, #F8F8FA 100%), linear-gradient(180deg, rgba(248,248,250,0.66), rgba(248,248,250,0.9))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 10px 30px rgba(255,255,255,0.6), inset 0 -8px 20px rgba(var(--color-gold-rgb,203,138,0),0.03), 0 6px 18px rgba(2,6,23,0.02)",WebkitBackdropFilter:"blur(4px)",backdropFilter:"blur(4px)"},children:e.jsxs("h1",{className:`
                            text-xl sm:text-2xl md:text-[26px] font-normal tracking-tighter leading-normal mx-auto max-w-fit 
                            sweeping-text-container 
                            transition-all ease-out
                            ${Nr?"opacity-100 translate-y-0 duration-[500ms]":"opacity-0 translate-y-1 duration-[500ms]"}
                        `,style:{color:"rgb(var(--color-gold-rgb,203,138,0))",fontWeight:300,fontSize:"clamp(18px, 5vw, 30px)",letterSpacing:"0",lineHeight:1.1,whiteSpace:"nowrap",display:"block",margin:"0 auto",textAlign:"center"},children:[Ue[Vt],Qr&&e.jsx("span",{className:"sweep-effect"},Vt)]})}),!Kt&&Oe<95&&e.jsx("div",{className:"flex items-center justify-center mt-4 mb-8",children:e.jsxs("div",{className:"inline-flex items-center rounded-xl px-4 py-2",style:{background:"#F6F6F8",border:"1px solid rgba(15,23,42,0.015)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.6)",color:"#6B7280",width:Sr?`${Sr}px`:"auto",justifyContent:"center",borderRadius:"12px",paddingLeft:"1.25rem",paddingRight:"1.25rem"},children:[e.jsx(sr,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{className:"text-base font-normal text-gray-600",children:Lt>=60?t("About 1 minute left",s):`${t("About",s)} ${Lt} ${Lt===1?t("second",s):t("seconds",s)} ${t("left",s)}`})]})}),e.jsxs("div",{className:"bg-gray-50 p-4 mb-8 border border-gray-200 rounded-xl flex justify-between items-center transition duration-200",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex-shrink-0 flex items-center justify-center transition-all duration-300",style:{borderColor:Se?"rgba(var(--color-gold-rgb, 203,138,0), 0.20)":"rgb(156 163 175)",backgroundColor:Se?"rgba(var(--color-gold-rgb, 203,138,0), 0.10)":"transparent"},children:Se&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)]",strokeWidth:3})}),e.jsx("span",{className:"text-sm font-medium ml-auto",style:{color:Se?"var(--color-gold-light)":"rgb(156 163 175)"},children:ct})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("label",{htmlFor:"description-input",className:"sr-only",children:["Description ",e.jsx("span",{className:"sr-only",children:"*"})]}),c&&!bt&&e.jsxs("div",{className:"mb-3",style:{zIndex:10,position:"relative"},children:[console.log("[ideas-display] selectedCreator:",c,"selectedCreatorImage:",ft,"creatorsList.length:",Be.length),e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-100 shadow-sm flex items-center justify-between gap-3",style:{position:"relative",zIndex:10},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-full font-semibold text-sm overflow-hidden",children:ft?e.jsx("img",{src:ft,alt:c.name||c.handle,className:"w-full h-full object-cover"}):(()=>{if(!ft&&Be.length>0){const z=Be.find(Ke=>Ke.id===c.id);if(z&&(z.photoURL||z.image||z.avatar))return console.log("[ideas] Found image in creatorsList, updating state"),et(z.photoURL||z.image||z.avatar),e.jsx("img",{src:z.photoURL||z.image||z.avatar,alt:c.name,className:"w-full h-full object-cover"})}const r=String(c.id||c.name||c.handle||""),i=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let d=0;for(let z=0;z<r.length;z++)d=(d<<5)-d+r.charCodeAt(z);const u=i[Math.abs(d)%i.length],A=(c.name||c.handle||"?").toString().trim().replace(/^@+/,""),k=A&&A[0]?A[0]:"?";return e.jsx("div",{style:{background:u,color:"#0f172a"},className:"w-full h-full flex items-center justify-center",children:String(k).toUpperCase()})})()}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t("Requesting to",s)}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:c.name||c.handle})]})]}),e.jsx("div",{className:"ml-4 flex items-center gap-3",children:e.jsx("button",{onClick:()=>{console.log("[ideas] opening creator selection modal"),yt(!0),qe("")},className:"text-sm text-gray-500 hover:text-gray-700 bg-gray-50 border border-transparent hover:border-gray-200 px-3 py-1 rounded-lg",children:t("Change",s)})})]})]}),e.jsxs("div",{className:"relative z-0",children:[e.jsx("textarea",{id:"description-input",ref:Et,rows:"6",placeholder:t("Describe what you'd love to see in this video.",s),value:l,onChange:r=>g(r.target.value.slice(0,m)),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}}),e.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[l.length,"/",m," ",t("char",s)]})]}),l.length>=a&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("label",{htmlFor:"title-input",className:"text-gray-800 font-semibold text-base block tracking-tight",children:[t("Give a title to your video",s)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"title-input",type:"text",placeholder:t("Enter a title...",s),value:v,onChange:r=>U(r.target.value),className:"w-full p-4 mt-2 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}})]})]}),l.length>=a&&v&&v.length>=w&&e.jsx("div",{className:"mb-6",children:e.jsx(qs,{files:ee,setFiles:Ee,links:te,setLinks:Re,selectedLanguage:s})}),l.length>=a&&v&&v.length>=w&&Jr&&e.jsx("div",{className:"relative z-40",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 mt-6",children:e.jsx("h2",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Preferred delivery?",s)})}),mr&&e.jsxs("div",{className:"mb-8 rounded-xl cream-glow-box stagger-animate",style:{padding:"20px",background:"radial-gradient(circle at 18% 20%, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.03) 28%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 6px 12px rgba(var(--color-gold-rgb,203,138,0),0.03)"},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"p-1 rounded-full mr-2 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.04))",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.05)"},children:e.jsx(Xt,{className:"w-6 h-6 text-[var(--color-gold)]"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-700",children:t("Examples to help you choose:",s)})]}),e.jsxs("ul",{className:"list-none space-y-3 pl-0 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("One-Time:",s)})," ",t('"Explain quantum computing," "Review the new iPhone," "My morning routine"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Recurrent:",s)})," ",t('"Daily market updates," "Weekly cooking tips," "Monthly tech news roundup"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Series:",s)})," ",t('"5-part history of Rome," "Learn Spanish in 10 episodes," "Startup journey series"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Catalogue:",s)})," ",t('"50 productivity hacks," "Travel guides for 20 cities," "Complete guitar tutorial library"',s)]})]})]}),e.jsx("div",{className:"mb-8 relative z-40",children:e.jsxs("div",{className:"relative z-40",children:[e.jsxs("button",{type:"button",onClick:()=>I(r=>!r),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm","aria-haspopup":"listbox","aria-expanded":y,children:[e.jsx("div",{className:"flex items-center",children:n?(()=>{const r=wr.find(i=>i.type===n);return e.jsxs(e.Fragment,{children:[e.jsx(r.Icon,{className:"w-5 h-5 mr-3 text-[var(--color-gold)]"}),e.jsx("div",{className:"text-sm font-medium text-gray-800",children:r.title})]})})():e.jsx("div",{className:"text-sm text-gray-500",children:t("Select the format you want",s)})}),e.jsx("svg",{className:"w-4 h-4 text-gray-500",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 8L10 12L14 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),y&&e.jsx("div",{className:"absolute z-30 mt-2 w-full rounded-xl",style:{backgroundColor:"#ffffff",border:"1px solid rgba(243,244,246,1)",boxShadow:"0 8px 20px rgba(2,6,23,0.06)"},children:e.jsx("ul",{ref:Pt,role:"listbox","aria-label":"Delivery formats",className:"divide-y divide-gray-100",children:wr.map(r=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":n===r.type,onClick:()=>{Fr(r.type),I(!1)},onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),Fr(r.type),I(!1))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx(r.Icon,{className:`w-5 h-5 mr-3 ${n===r.type?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(r.title,s)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(r.subtitle,s)})]}),n===r.type&&e.jsx(K,{className:"w-4 h-4 text-[var(--color-gold)]"})]},r.type))})})]})})]})}),l.length>=a&&v&&v.length>=w&&(n==="one-time"&&!N?F===1?e.jsx(As,{description:l,setDescription:g,title:v,setTitle:U,MAX_CHARS:m,selectedLanguage:s}):F===2?e.jsx(xt,{selectedLength:re,setSelectedLength:Le,customLength:R,setCustomLength:q,selectedLanguage:s}):F===3?e.jsx(ut,{selectedTones:X,setSelectedTones:ke,selectedStyles:at,setSelectedStyles:it,selectedLanguage:s}):F===4?e.jsx(pt,{selectedPrivacy:$,setSelectedPrivacy:ue,prevStepCompleted:!0,selectedLanguage:s}):F===5?e.jsx(ht,{title:v,description:l,selectedDeliveryType:n,selectedTones:X,selectedVideoLength:re,customVideoLength:R,uploadedFiles:ee,referenceLinks:te,selectedPrivacy:$,customPrice:ae,setCustomPrice:ie,editingPrice:we,setEditingPrice:Te,priceInput:Fe,setPriceInput:ne,priceInputRef:je,savePrice:Ne,displayPrice:se,sanitizePriceInput:We,onEdit:()=>J(1),onSaveReview:lt,selectedLanguage:s}):e.jsx(mt,{selectedLanguage:s}):n==="recurrent"&&!N?p===3?e.jsx(xt,{selectedLength:re,setSelectedLength:Le,customLength:R,setCustomLength:q,selectedLanguage:s}):p===4?e.jsx(ut,{selectedTones:X,setSelectedTones:ke,selectedStyles:at,setSelectedStyles:it,selectedLanguage:s}):p===5?e.jsx(pt,{selectedPrivacy:$,setSelectedPrivacy:ue,prevStepCompleted:!0,selectedLanguage:s}):p===6?e.jsx(ht,{title:v,description:l,selectedDeliveryType:n,selectedFrequency:ye,customRecurrentDates:$e,selectedTones:X,selectedVideoLength:re,customVideoLength:R,uploadedFiles:ee,referenceLinks:te,selectedPrivacy:$,customPrice:ae,setCustomPrice:ie,editingPrice:we,setEditingPrice:Te,priceInput:Fe,setPriceInput:ne,priceInputRef:je,savePrice:Ne,displayPrice:se,sanitizePriceInput:We,onEdit:()=>L(1),onSaveReview:lt,selectedLanguage:s}):p===7?e.jsx(mt,{selectedLanguage:s}):e.jsx(zs,{description:l,setDescription:g,title:v,setTitle:U,MAX_CHARS:m,MIN_CHARS:a,recurrentStep:p,selectedFrequency:ye,setSelectedFrequency:Ie,selectedTones:X,setSelectedTones:ke,selectedStyles:at,setSelectedStyles:it,selectedPrivacy:$,setSelectedPrivacy:ue,customRecurrentDates:$e,setCustomRecurrentDates:ve,selectedLanguage:s,setRecurrentStep:L,selectedDeliveryType:n,selectedVideoLength:re,customVideoLength:R,uploadedFiles:ee,referenceLinks:te,customPrice:ae,setCustomPrice:ie,editingPrice:we,setEditingPrice:Te,priceInput:Fe,setPriceInput:ne,priceInputRef:je,savePrice:Ne,displayPrice:se,sanitizePriceInput:We,handleSaveReview:lt}):n==="series"&&!N?C===3?e.jsx(xt,{selectedLength:re,setSelectedLength:Le,customLength:R,setCustomLength:q,selectedLanguage:s}):C===4?e.jsx(ut,{selectedTones:X,setSelectedTones:ke,selectedStyles:at,setSelectedStyles:it,selectedLanguage:s}):C===5?e.jsx(pt,{selectedPrivacy:$,setSelectedPrivacy:ue,prevStepCompleted:!0,selectedLanguage:s}):C===6?e.jsx(ht,{title:v,description:l,selectedDeliveryType:n,numberOfEpisodes:H,selectedReleaseSchedule:G,customSeriesDates:B,selectedTones:X,selectedVideoLength:re,customVideoLength:R,uploadedFiles:ee,referenceLinks:te,selectedPrivacy:$,customPrice:ae,setCustomPrice:ie,editingPrice:we,setEditingPrice:Te,priceInput:Fe,setPriceInput:ne,priceInputRef:je,savePrice:Ne,displayPrice:se,sanitizePriceInput:We,onEdit:()=>O(1),onSaveReview:lt,selectedLanguage:s}):C===7?e.jsx(mt,{selectedLanguage:s}):e.jsx(Bs,{description:l,setDescription:g,title:v,setTitle:U,MAX_CHARS:m,seriesStep:C,numberOfEpisodes:H,setNumberOfEpisodes:Q,selectedReleaseSchedule:G,setSelectedReleaseSchedule:le,selectedTones:X,setSelectedTones:ke,customSeriesDates:B,setCustomSeriesDates:Ye,selectedPrivacy:$,setSelectedPrivacy:ue,selectedLanguage:s}):n==="catalogue"&&!N?E===3?e.jsx(xt,{selectedLength:re,setSelectedLength:Le,customLength:R,setCustomLength:q,selectedLanguage:s}):E===4?e.jsx(ut,{selectedTones:X,setSelectedTones:ke,selectedStyles:at,setSelectedStyles:it,selectedLanguage:s}):E===5?e.jsx(pt,{selectedPrivacy:$,setSelectedPrivacy:ue,prevStepCompleted:!0,selectedLanguage:s}):E===6?e.jsx(ht,{title:v,description:l,selectedDeliveryType:n,targetVideos:At,themes:gr,selectedTones:X,selectedVideoLength:re,customVideoLength:R,uploadedFiles:ee,referenceLinks:te,selectedPrivacy:$,customPrice:ae,setCustomPrice:ie,editingPrice:we,setEditingPrice:Te,priceInput:Fe,setPriceInput:ne,selectedLanguage:s,priceInputRef:je,savePrice:Ne,displayPrice:se,sanitizePriceInput:We,onEdit:()=>Z(1),onSaveReview:lt}):E===7?e.jsx(mt,{selectedLanguage:s}):e.jsx(Os,{description:l,setDescription:g,title:v,setTitle:U,MAX_CHARS:m,MIN_CHARS:a,catalogueStep:E,targetVideos:At,setTargetVideos:zt,themes:gr,setThemes:kt,selectedTones:X,setSelectedTones:ke,selectedPrivacy:$,setSelectedPrivacy:ue,selectedLanguage:s}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-8 mt-0",children:[e.jsx("textarea",{rows:"4",placeholder:t('What do you want creators to make (Min {min} characters, e.g., "A single video on...")',s).replace("{min}",a),value:l,onChange:r=>g(r.target.value.slice(0,m)),onBlur:()=>M(!0),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"}}),e.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[l.length,"/",m," char"]}),W&&l.length<a&&e.jsxs("p",{className:"mt-2 text-xs text-red-500",children:["Please enter at least ",a," characters to continue."]})]}),l.length>=a&&e.jsx("div",{})]}))]}),e.jsxs("div",{className:"w-full max-w-lg mx-auto px-5 z-10 pb-28 mt-auto",style:{backgroundColor:"#F8F8FA"},children:[e.jsx("div",{className:"border-t border-gray-200 w-full"}),e.jsx("div",{className:"w-full py-6",children:as?e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("button",{onClick:Jt,className:"w-full h-12 rounded-xl flex items-center justify-center space-x-2 text-[15px] font-medium text-white shadow-sm hover:opacity-90 transition duration-200",style:{backgroundColor:Tr,boxShadow:ts},children:e.jsx("span",{children:t("Continue",s)})}),e.jsx("button",{onClick:Jt,className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:t("Skip",s)})]}):!Kt&&e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:Jt,disabled:!D,className:`
                                    w-full h-12 rounded-xl flex items-center justify-center space-x-2
                                    text-[15px] font-medium transition-all duration-200
                                    ${D?"text-white hover:opacity-95 active:scale-[0.98]":"bg-gray-100 text-gray-400 opacity-70 cursor-not-allowed"}
                                    ${es?"scale-[1.01]":""} 
                                `,style:D?{backgroundColor:Tr,boxShadow:"0 4px 12px rgba(6,24,58,0.16)",color:"white"}:{},children:[e.jsx("span",{children:is()}),!(pe&&C===8)&&!(he&&E===8)&&!(xe&&p===8)&&!(n==="one-time"&&F===7)&&e.jsx(Qt,{className:"w-4 h-4"})]}),Se&&!Kt&&e.jsx("button",{onClick:rs,className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:t("Back",s)})]})})]}),ur&&e.jsxs("div",{className:"mt-3 flex items-center text-sm font-normal text-[var(--color-accent)] animate-in fade-in",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{children:ur})]}),n&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:n==="one-time"?t("Using the Description and Title you entered above for this one-time video.",s):n==="recurrent"?t("Using the Description and Title you entered above for this recurring request.",s):n==="series"?t("Using the Description and Title you entered above for this series.",s):n==="catalogue"?t("Using the Description and Title you entered above for this catalogue.",s):t("Using the Description and Title you entered above for this one-time video.",s)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const r=document.getElementById("description-input");r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),r.focus(),r.classList.add("jump-highlight"),setTimeout(()=>r.classList.remove("jump-highlight"),900));const i=document.getElementById("title-input");i&&setTimeout(()=>{i.focus(),i.classList.add("jump-highlight"),setTimeout(()=>i.classList.remove("jump-highlight"),900)},300)},children:t("Edit",s)})]}),e.jsx("button",{onClick:()=>br(r=>!r),className:`fixed right-5 bottom-36 px-4 py-2 rounded-full shadow-lg text-sm font-normal flex items-center space-x-2 ${nt?"bg-[var(--color-gold)] text-white z-60":"bg-[var(--surface)] text-gray-800 border border-gray-100"}`,style:nt?{border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.22)"}:{},"aria-label":nt?t("Close preview",s):t("See preview",s),children:e.jsx("span",{children:nt?t("Close preview",s):t("See preview",s)})}),nt&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20",onClick:()=>br(!1)}),e.jsx("div",{className:"relative z-50 w-full max-w-3xl mx-auto px-6",style:{maxWidth:"720px"},children:e.jsxs("div",{className:"modal-dialog bg-white p-6 rounded-2xl border border-gray-100 shadow-2xl",style:{maxHeight:"72vh",overflowY:"auto",boxShadow:"0 24px 54px rgba(2,6,23,0.28)"},children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Preview"})}),e.jsx("div",{className:"relative mb-2 overflow-hidden",children:e.jsxs("div",{className:"bg-white p-5 pb-4 rounded-3xl border border-gray-50 relative z-10 preview-card",style:{paddingRight:"20px"},children:[e.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end space-y-1 z-10",children:e.jsx("div",{style:{backgroundColor:"var(--brand-gold)",color:"white",fontWeight:700,padding:"6px 10px",borderRadius:"0 10px 0 10px",fontSize:13},children:we?e.jsx("form",{onSubmit:r=>{r.preventDefault(),Ne()},children:e.jsx("input",{ref:je,type:"text",inputMode:"decimal",pattern:"^\\d*(\\.\\d{0,2})?$",value:Fe,onChange:r=>ne(We(r.target.value)),onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),Ne())},onBlur:()=>Ne(),className:"text-right",style:{background:"transparent",color:"white",border:"none",outline:"none",width:"64px",fontWeight:700}})}):e.jsx("button",{onClick:()=>{ne((se||0).toFixed(2)),Te(!0)},style:{background:"transparent",color:"inherit",border:"none",padding:0},children:"$"+(se||0).toFixed(2)})})}),e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("div",{className:"bg-gray-800 text-white text-xs font-bold px-3 py-1 rounded-full",children:"RANK #"})}),e.jsx("div",{className:"flex items-start mb-4 relative z-10 pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden mr-4 flex-shrink-0 relative bg-gray-100 flex items-center justify-center text-xl font-bold text-gray-700",role:c?"button":void 0,onClick:()=>{c&&(vr(c),yr(!0))},children:c&&(c.photoURL||c.image||c.avatar)?e.jsx("img",{src:c.photoURL||c.image||c.avatar,alt:c.name||c.handle,className:"w-full h-full object-cover"}):(()=>{const r=c&&(c.displayName||c.name)||auth&&auth.user&&(auth.user.name||auth.user.handle)||"Y",i=String(c&&(c.id||c.name||c.handle)||""),d=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let u=0;for(let k=0;k<i.length;k++)u=(u<<5)-u+i.charCodeAt(k);const b=d[Math.abs(u)%d.length],A=r.toString().replace(/@/,"").charAt(0).toUpperCase();return e.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:b,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:A})})()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",role:c?"button":void 0,onClick:()=>{c&&(vr(c),yr(!0))},children:c&&(c.displayName||c.name)||auth&&auth.user&&(auth.user.name||"You")}),e.jsx("p",{className:"text-sm text-gray-500",children:"Just now"})]})]})}),e.jsx("h2",{className:"text-lg font-extrabold text-gray-900 mb-2 leading-tight",style:{overflowWrap:"anywhere",wordBreak:"break-word"},children:v||""}),e.jsx("p",{className:"text-sm text-gray-800 mb-2 break-words",children:l||""}),e.jsxs("div",{className:"border-t border-gray-100 pt-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-3 text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[e.jsx(Zt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"0"})]}),e.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[e.jsx(ps,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:te?.length||0})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[e.jsx(ms,{className:"w-3.5 h-3.5"}),e.jsx("span",{style:{fontSize:"10px"},children:"Boosts"})]})]}),e.jsxs("div",{className:"flex space-x-1.5",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:e.jsx(hs,{className:"w-4 h-4 text-gray-500"})}),e.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:e.jsx(Xt,{className:"w-4 h-4 text-gray-500"})})]})]})]})})]})})]}),Qe&&e.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-white animate-fade-in",children:[e.jsx("div",{className:"absolute top-4 left-8 z-10",children:e.jsx("button",{onClick:()=>{De(!1),Me(null),Ve("payment_cancelled")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(Ur,{size:32})})}),e.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-16 pb-20 px-6 max-w-lg mx-auto w-full",children:[e.jsxs("div",{className:"text-center mb-14",children:[e.jsx("h2",{className:"text-4xl font-black text-gray-900 tracking-tighter mb-4",children:t("Complete Payment",s)}),e.jsx("p",{className:"text-base text-gray-500 leading-relaxed",children:t("Secure your request with a payment to attract top creators.",s)})]}),e.jsxs("div",{className:"mb-14 text-center",children:[e.jsxs("div",{className:"text-7xl font-black text-gray-900 tracking-tighter mb-3 leading-none",children:["$",Number(Ze*(ze==="expert"?1.3:1)+Yr).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),ze==="expert"&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 text-xs font-bold uppercase tracking-wide",children:[e.jsx(Ft,{size:12})," Expert multiplier active (1.3x)"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 w-full mb-12",children:Vr.slice(0,3).map(r=>e.jsxs("button",{onClick:()=>{Ae(r),Ve("preset_selected",{preset:r})},className:`relative group flex flex-col items-center justify-center py-8 px-4 rounded-3xl transition-all duration-300 ${Ze===r?"bg-gradient-to-br from-blue-500 to-purple-500 text-white shadow-2xl shadow-blue-500/40 scale-110":"bg-white/40 backdrop-blur-md border border-white/60 hover:shadow-xl hover:shadow-gray-200/50"}`,children:[e.jsxs("div",{className:"text-3xl font-black tracking-tight",children:["$",r]}),r===25&&e.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full shadow-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl leading-none",children:"✨"})})]},r))}),e.jsx("div",{className:"w-full mb-14",children:(()=>{const r=c&&c.price&&Number(c.price)>0?Math.max(15,Number(c.price)):15;return e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 text-lg font-bold",children:"$"}),e.jsx("input",{type:"number",min:r,value:Ze,onChange:i=>{const d=Math.max(r,Number(i.target.value||0));Ae(d),Ve("custom_amount_input",{amount:d})},className:"w-full pl-11 pr-5 py-4 bg-transparent border-b-2 border-gray-200 hover:border-gray-300 focus:border-blue-500 font-semibold text-gray-900 focus:outline-none transition-all text-lg placeholder-gray-300",placeholder:"Custom amount"}),e.jsxs("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:["Min $",r]})]})})()}),e.jsx("div",{className:"w-full mb-12 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full p-1.5 shadow-md",children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsx("button",{onClick:()=>or("creator"),className:`py-3 px-6 rounded-full text-sm font-bold transition-all duration-200 ${ze==="creator"?"bg-white text-gray-900 shadow-lg shadow-gray-200/50":"text-gray-600 hover:text-gray-900"}`,children:"Standard"}),e.jsxs("button",{onClick:()=>or("expert"),className:`py-3 px-6 rounded-full text-sm font-bold transition-all duration-200 flex items-center justify-center gap-2 ${ze==="expert"?"bg-white text-purple-700 shadow-lg shadow-purple-200/50":"text-gray-600 hover:text-gray-900"}`,children:["Expert ",e.jsx(Ft,{size:16})]})]})}),e.jsxs("div",{className:"w-full mb-12",children:[e.jsx("div",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider mb-4",children:"Target Specific Creator (Optional)"}),c?e.jsxs("div",{className:"flex items-center justify-between w-full border border-blue-200 bg-gradient-to-r from-blue-50/80 to-purple-50/80 rounded-2xl p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-to-br from-blue-400 to-purple-400 flex-shrink-0 shadow-md flex items-center justify-center flex-none",children:[c.photoURL?e.jsx("img",{src:c.photoURL,alt:"",className:"w-full h-full object-cover",onError:r=>{r.target.style.display="none"}}):null,!c.photoURL&&e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-sm font-bold",children:c.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:c.displayName||c.name}),e.jsx("div",{className:"text-xs text-blue-600 font-semibold",children:"Selected Creator"})]})]}),e.jsx("button",{onClick:()=>_e(null),className:"p-2 hover:bg-white/50 rounded-full transition-colors text-gray-400 hover:text-red-500 flex-shrink-0 active:scale-90",children:e.jsx(Ce,{size:18})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-semibold",children:"@"}),e.jsx("input",{ref:rt,type:"text",placeholder:"Search creators...",value:He,onChange:r=>qe(r.target.value.replace(/^@+/,"")),className:"w-full pl-10 pr-10 py-3 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all placeholder-gray-400",autoFocus:qt}),He&&e.jsx("button",{onClick:()=>qe(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ce,{size:18})})]}),He&&e.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur-sm overflow-hidden",children:Nt.length>0?e.jsx("div",{className:"max-h-56 overflow-y-auto space-y-0",children:Nt.slice(0,8).map(r=>e.jsxs("button",{onClick:()=>{_e(r),qe(""),Ve("creator_selected",{creatorId:r.id})},className:"w-full flex items-center gap-3 p-3 hover:bg-blue-50/50 transition-colors text-left border-b border-gray-100 last:border-b-0 active:scale-95",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex-shrink-0 overflow-hidden bg-gradient-to-br from-blue-400 to-purple-400 flex items-center justify-center text-white text-sm font-bold shadow-md",children:r.photoURL?e.jsx("img",{src:r.photoURL,alt:"",className:"w-full h-full object-cover"}):r.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:r.displayName||r.name}),r.price&&e.jsxs("div",{className:"text-xs text-gray-500",children:["$",r.price,"/request"]})]})]},r.id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"😕"}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"No creators found"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})]}),e.jsxs("div",{className:"w-full mt-auto space-y-4",children:[e.jsxs("a",{href:"https://www.paypal.com/ncp/payment/L7D8KYJEZM35L",onClick:()=>{const r=Ze,i=ze==="expert"?Math.round(r*1.3*100)/100:r;Ve("payment_confirmed",{amount:i,role:ze,creator:c?c.id:null})},className:"block w-full py-5 rounded-2xl bg-black text-white text-center font-black text-lg hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl hover:shadow-3xl flex items-center justify-center gap-3 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-black opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("span",{className:"relative flex items-center gap-2 tracking-tight",children:["Pay with PayPal ",e.jsx(Qt,{size:20})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>{Ve("free_submission_clicked"),ss()},className:"text-gray-500 font-semibold hover:text-gray-900 transition-colors py-3 px-4 rounded-lg hover:bg-gray-50 active:scale-95",children:"Submit for free (may take longer or be ignored)"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400 mt-8 pt-6 border-t border-gray-100",children:[e.jsx(Br,{size:12})," Secure encrypted payment • Powered by PayPal"]})]})]})]}),bt&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t("Choose Creator",s)}),e.jsx("button",{onClick:()=>yt(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(Ce,{size:20})})]}),e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),e.jsx("input",{type:"text",placeholder:t("Search creators",s),value:He,onChange:r=>qe(r.target.value.replace(/^@+/,"")),className:"w-full pl-8 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400",autoFocus:!0}),He&&e.jsx("button",{onClick:()=>qe(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(Ce,{size:16,className:"text-gray-400"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:Be.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(fs,{size:40,className:"text-gray-300 mb-3"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t("No creators found",s)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Try a different username",s)})]}):Nt.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(gs,{size:40,className:"text-gray-300 mb-3"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t("No creators found",s)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Try a different username",s)})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:Nt.map(r=>e.jsxs("button",{onClick:()=>{_e(r),yt(!1);try{window.localStorage.setItem(ot,JSON.stringify(r))}catch{}},className:`w-full p-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left ${c?.id===r.id?"bg-blue-50":""}`,children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:r.photoURL?"transparent":r.fallbackColor||"#3b82f6"},children:r.photoURL?e.jsx("img",{src:r.photoURL,alt:r.name,className:"w-full h-full rounded-full object-cover"}):String(r.name).replace("@","").charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.displayName||r.name}),r.price?e.jsxs("div",{className:"text-xs text-gray-500",children:["$",r.price," per request"]}):e.jsx("div",{className:"text-xs text-gray-400",children:"Not set"})]}),c?.id===r.id&&e.jsx(K,{size:18,className:"text-blue-600 flex-shrink-0"})]},r.id))})}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsx("button",{onClick:()=>yt(!1),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:t("Done",s)})})]})}),Lr&&e.jsx(Fs,{onClose:()=>{vt(!1),wt(null),window.location.href="/requests?filter=For You"},onBoostRequest:()=>{vt(!1),nr(ar?.id),wt(null),cr(!0)},onInviteContributors:()=>{vt(!1),wt(null),window.location.href="/requests?filter=For You"},requestData:ar,selectedLanguage:s}),lr&&ir&&e.jsx(us,{isOpen:lr,onClose:()=>{cr(!1),nr(null)},requestId:ir,detailedRank:{totalInfluence:0},onGiveLikeFree:()=>{},selectedLanguage:s}),e.jsx(Ms,{active:Gr,onChange:Xr,selectedLanguage:s})]})};export{ko as default};
