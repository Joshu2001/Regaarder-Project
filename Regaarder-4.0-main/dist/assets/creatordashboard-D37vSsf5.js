import{f as fs,r as a,j as e,X as bs,u as vs,g as t,L as Ft,R as ve}from"./index-CVpeJt5r.js";import js from"./requests-rlcbzNlw.js";import{P as ys,I as It}from"./plus-B2qsc_e7.js";import{C as Ot}from"./clock-Clk2R5Bv.js";import{L as $t}from"./link-C5BiIL4g.js";import{T as ws}from"./trash-2-C0fUJBdd.js";import{T as Ns}from"./trophy-B6ARzuD2.js";import{S as jt}from"./star-Ct5jkxqC.js";import{Z as ks}from"./zap-D3cpQfAR.js";import{T as Tt}from"./trending-up-mGbPZiS9.js";import{F as yt,P as Vt,M as Cs}from"./pencil-g6xkndFt.js";import{V as Ne}from"./video-g_CfZ7rK.js";import{L as Ut}from"./line-chart-De6GxN94.js";import{U as Et}from"./upload-D5uJ3rPA.js";import{L as zt}from"./lightbulb-CiqIREr2.js";import{H as Dt}from"./headphones-V0dNDd0l.js";import{C as wt}from"./copy-D_vIZ8Yg.js";import{C as rs}from"./chevron-down-BE4G8gtO.js";import{U as Ss}from"./user-C0MhDQ_m.js";import{A as ls}from"./alert-circle-DjLYJAb8.js";import{C as Rs}from"./check-circle-CFytANEI.js";import{C as Ps}from"./chevron-up-BbBNP1U0.js";import{P as Ms}from"./pin-5oTSJJMj.js";import{M as Ts}from"./more-vertical-BgeKnT49.js";import{G as Us}from"./globe-DjozuD0D.js";import{L as Es}from"./link-2-B3x9-HsI.js";import{F as zs}from"./file-B3gM_qIE.js";import{H as ts}from"./home-CvLImcbo.js";import"./index-D0kfEeGw.js";import"./alert-triangle-CeZI845W.js";import"./search-CaENiY_g.js";import"./check-circle-2-KWG9nFgZ.js";import"./calendar-Dgvo3biF.js";import"./sparkles-BJTVvyzR.js";import"./dollar-sign-CusqA2OL.js";import"./heart-FmZF942U.js";import"./message-square-CzTA8czP.js";import"./chevrons-up-DZlqvdJg.js";import"./bookmark-Dx5-nucN.js";import"./heart-off-CscNCYZy.js";import"./share-2-w2wdnr9U.js";import"./send-UL50upYV.js";const At=fs("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),ss=({videoFile:M,isPublic:g,onOverlaysChange:j,getTranslation:c,selectedLanguage:n})=>{const[p,C]=a.useState([]),[w,l]=a.useState(0),[U,I]=a.useState(0),[B,q]=a.useState(null),[z,E]=a.useState(!1),[O,te]=a.useState(!1),[x,P]=a.useState({timeSec:0,durationSec:3,type:"link",url:"",imageFile:null,imagePreview:null,linkText:"Visit Link",linkColor:"#FFD700",positionX:20,positionY:20}),$=a.useRef(null),ie=a.useRef(null),ke=a.useRef(null);a.useEffect(()=>{if(!M)return;const d=URL.createObjectURL(M),m=document.createElement("video");return m.src=d,m.onloadedmetadata=()=>{I(m.duration),l(0)},()=>{URL.revokeObjectURL(d)}},[M]),a.useEffect(()=>{if(!$.current||!ie.current)return;const d=ie.current,m=d.getContext("2d"),v=$.current,Y=()=>{(v.readyState===v.HAVE_FUTURE_DATA||v.readyState===v.HAVE_ENOUGH_DATA)&&(d.width=v.videoWidth,d.height=v.videoHeight,m.drawImage(v,0,0))};return v.addEventListener("seeked",Y),Y(),()=>{v.removeEventListener("seeked",Y)}},[w]);const je=d=>{const m=d.target.files?.[0];if(m){const v=new FileReader;v.onload=Y=>{P(X=>({...X,imageFile:m,imagePreview:Y.target.result}))},v.readAsDataURL(m)}},pe=()=>{if(x.type==="link"&&(!x.url||!x.linkText)){alert(c("Please fill in the link URL and text",n));return}if(x.type==="image"&&!x.imagePreview){alert(c("Please select an image",n));return}const d={id:Date.now(),timeSec:Math.round(w*10)/10,durationSec:Math.max(.5,x.durationSec),type:x.type,positionX:x.positionX||20,positionY:x.positionY||20,...x.type==="link"?{url:x.url,linkText:x.linkText,linkColor:x.linkColor}:{imageData:x.imagePreview,imageName:x.imageFile?.name}},m=[...p,d];C(m),j(m),ce()},$e=d=>{if(B!==d)return;if(x.type==="link"&&(!x.url||!x.linkText)){alert(c("Please fill in the link URL and text",n));return}if(x.type==="image"&&!x.imagePreview){alert(c("Please select an image",n));return}const m=[...p];m[d]={...m[d],timeSec:Math.round(w*10)/10,durationSec:Math.max(.5,x.durationSec),type:x.type,positionX:x.positionX||20,positionY:x.positionY||20,...x.type==="link"?{url:x.url,linkText:x.linkText,linkColor:x.linkColor}:{imageData:x.imagePreview,imageName:x.imageFile?.name}},C(m),j(m),q(null),ce()},ot=d=>{const m=p.filter((v,Y)=>Y!==d);C(m),j(m)},L=d=>{const m=p[d];q(d),l(m.timeSec),P({timeSec:m.timeSec,durationSec:m.durationSec||3,type:m.type,url:m.type==="link"?m.url:"",imageFile:null,imagePreview:m.type==="image"?m.imageData:null,linkText:m.type==="link"?m.linkText:"Visit Link",linkColor:m.type==="link"?m.linkColor:"#FFD700",positionX:m.positionX||20,positionY:m.positionY||20}),E(!0)},ce=()=>{P({timeSec:0,durationSec:3,type:"link",url:"",imageFile:null,imagePreview:null,linkText:"Visit Link",linkColor:"#FFD700",positionX:20,positionY:20}),E(!1),te(!1)};return g?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:c("Add Interactive Overlays",n)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c("Add clickable links or images that appear at specific moments in your video",n)})]}),!z&&e.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center gap-2 px-3 py-2 bg-[var(--color-gold)] text-white rounded-lg hover:opacity-90",children:[e.jsx(ys,{size:16}),e.jsx("span",{className:"text-sm",children:c("Add Overlay",n)})]})]}),e.jsxs("div",{className:"bg-black rounded-lg overflow-hidden mb-4",children:[e.jsxs("div",{className:"aspect-video bg-gray-900 relative flex items-center justify-center",style:{cursor:O?"crosshair":"default"},onClick:d=>{if(!O||!ie.current)return;const m=ie.current.getBoundingClientRect(),v=d.clientX-m.left,Y=d.clientY-m.top;P(X=>({...X,positionX:Math.max(0,Math.min(v,m.width-100)),positionY:Math.max(0,Math.min(m.height-Y,m.height-50))})),te(!1)},children:[e.jsx("canvas",{ref:ie,className:"max-w-full max-h-full",style:{width:"100%",height:"100%",objectFit:"contain"}}),e.jsx("video",{ref:$,src:M?URL.createObjectURL(M):void 0,currentTime:w,style:{display:"none"}}),p.map((d,m)=>w>=d.timeSec&&w<d.timeSec+d.durationSec?d.type==="link"?e.jsxs("div",{className:"absolute px-4 py-2 rounded-lg border-2 text-white font-semibold cursor-pointer transition-transform hover:scale-105",style:{left:`${d.positionX||20}px`,bottom:`${d.positionY||20}px`,backgroundColor:`${d.linkColor}33`,borderColor:d.linkColor},children:["ðŸ”— ",d.linkText]},d.id):e.jsx("div",{className:"absolute rounded-lg overflow-hidden border-2 border-white shadow-lg",style:{left:`${d.positionX||20}px`,bottom:`${d.positionY||20}px`},children:e.jsx("img",{src:d.imageData,alt:"Overlay",className:"w-32 h-auto max-h-32 object-contain"})},d.id):null)]}),e.jsxs("div",{className:"bg-gray-800 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ot,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"range",min:"0",max:U,step:"0.1",value:w,onChange:d=>{const m=parseFloat(d.target.value);l(m),$.current&&($.current.currentTime=m)},className:"flex-1 cursor-pointer"}),e.jsxs("span",{className:"text-sm text-gray-300 w-16 text-right",children:[Math.floor(w),"s / ",Math.floor(U),"s"]})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2",children:Array.from({length:Math.min(20,Math.ceil(U))}).map((d,m)=>{const v=m/20*U;return e.jsx("div",{onClick:()=>{l(v),$.current&&($.current.currentTime=v)},className:`w-12 h-9 rounded cursor-pointer flex-shrink-0 border-2 transition-colors ${Math.abs(w-v)<.5?"border-[var(--color-gold)]":"border-gray-600"} hover:border-[var(--color-gold)]`,style:{backgroundColor:"rgba(255, 255, 255, 0.1)"}},m)})})]})]}),z&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:c(B!==null?"Edit Overlay":"New Overlay",n)}),e.jsx("button",{onClick:ce,className:"text-gray-400 hover:text-gray-600",children:e.jsx(bs,{size:20})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:c("Time:",n)}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[Math.round(w*10)/10,"s ",c("(adjust timeline above)",n)]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:c("Position on Video",n)}),e.jsx("button",{onClick:()=>te(!O),className:`w-full px-3 py-2 rounded-lg border-2 transition-colors mb-3 text-sm font-semibold ${O?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)] text-[var(--color-gold)]":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"}`,children:c(O?"Click on preview to set position":"Click to position on video",n)}),e.jsxs("div",{className:"flex gap-2 text-xs text-gray-600",children:[e.jsxs("span",{children:["â†– X: ",Math.round(x.positionX),"px"]}),e.jsxs("span",{children:["â†“ Y: ",Math.round(x.positionY),"px"]})]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:c("Display Duration (seconds)",n)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"range",min:"0.5",max:"30",step:"0.5",value:x.durationSec,onChange:d=>P(m=>({...m,durationSec:parseFloat(d.target.value)})),className:"flex-1 cursor-pointer"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900 w-12 text-right",children:[x.durationSec,"s"]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:c("How long the overlay appears on screen",n)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:c("Overlay Type",n)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(d=>({...d,type:"link",imagePreview:null})),className:`flex-1 p-3 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ${x.type==="link"?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"}`,children:[e.jsx($t,{size:18}),e.jsx("span",{className:"text-sm font-semibold",children:c("Link",n)})]}),e.jsxs("button",{onClick:()=>P(d=>({...d,type:"image",url:""})),className:`flex-1 p-3 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ${x.type==="image"?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"}`,children:[e.jsx(It,{size:18}),e.jsx("span",{className:"text-sm font-semibold",children:c("Image",n)})]})]})]}),x.type==="link"&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c("Link URL",n)}),e.jsx("input",{type:"url",placeholder:"https://example.com",value:x.url,onChange:d=>P(m=>({...m,url:d.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c("Button Text",n)}),e.jsx("input",{type:"text",placeholder:c("e.g., Visit Link, Learn More",n),value:x.linkText,onChange:d=>P(m=>({...m,linkText:d.target.value.slice(0,50)})),maxLength:"50",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[x.linkText.length,"/50"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c("Button Color",n)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:x.linkColor,onChange:d=>P(m=>({...m,linkColor:d.target.value})),className:"w-12 h-10 rounded-lg cursor-pointer"}),e.jsx("span",{className:"text-sm text-gray-600",children:x.linkColor})]})]})]}),x.type==="image"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:c("Upload Image",n)}),e.jsx("input",{ref:ke,type:"file",accept:"image/*",onChange:je,className:"hidden"}),e.jsx("div",{onClick:()=>ke.current?.click(),className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center cursor-pointer hover:bg-gray-100 transition-colors",children:x.imagePreview?e.jsxs("div",{children:[e.jsx("img",{src:x.imagePreview,alt:"Preview",className:"max-h-20 mx-auto mb-2"}),e.jsx("div",{className:"text-xs text-gray-600",children:c("Click to change image",n)})]}):e.jsxs("div",{children:[e.jsx(It,{size:32,className:"mx-auto text-gray-300 mb-2"}),e.jsx("div",{className:"text-sm text-gray-600",children:c("Click to select image",n)}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:c("PNG, JPG or WebP",n)})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:B!==null?()=>$e(B):pe,className:"flex-1 px-4 py-2 bg-[var(--color-gold)] text-white rounded-lg font-semibold hover:opacity-90",children:c(B!==null?"Update Overlay":"Add Overlay",n)}),e.jsx("button",{onClick:ce,className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-50",children:c("Cancel",n)})]})]}),p.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[c("Overlays",n)," (",p.length,")"]}),p.map((d,m)=>e.jsxs("div",{className:`p-3 rounded-lg border-2 transition-colors cursor-pointer ${B===m?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>{B===m?L(m):(l(d.timeSec),$.current&&($.current.currentTime=d.timeSec))},children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"text-2xl flex-shrink-0",children:d.type==="link"?"ðŸ”—":"ðŸ–¼ï¸"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:d.type==="link"?d.linkText:c("Image Overlay",n)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["@ ",d.timeSec,"s (",d.durationSec,"s)",d.type==="link"&&` â€¢ ${d.url}`,d.type==="image"&&` â€¢ ${d.imageName}`]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-100",children:[e.jsx("button",{onClick:v=>{v.stopPropagation(),L(m)},className:"flex-1 px-3 py-2 text-sm bg-[var(--color-gold)] text-white rounded-lg hover:opacity-90 font-medium transition-opacity",children:c("Edit",n)}),e.jsxs("button",{onClick:v=>{v.stopPropagation(),ot(m)},className:"px-3 py-2 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium transition-colors flex items-center gap-2",children:[e.jsx(ws,{size:16}),e.jsx("span",{children:c("Delete",n)})]})]})]},d.id))]})]}):e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ”’"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:c("Video Overlays Available for Public Videos Only",n)}),e.jsx("div",{className:"text-sm text-blue-800 mt-1",children:c("Interactive overlays (links & images) can only be added to public videos. Change your video visibility to Public above to enable this feature.",n)})]})]})})},Ds={},As={display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},Lt=({size:M=20,className:g="",strokeWidth:j=2,...c})=>{const n=M,p=Math.round(n*.55);return e.jsxs("span",{style:{position:"relative",display:"inline-block",width:n,height:n},className:g,...c,children:[e.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:j,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{style:{position:"absolute",right:-2,bottom:-2,width:p,height:p,display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx("svg",{width:p,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:Math.max(1,Math.round(j-.5)),strokeLinecap:"round",strokeLinejoin:"round"})})})]})},Bt=({message:M,duration:g=2e3,bottom:j=!0})=>{const[c,n]=a.useState(!!M),[p,C]=a.useState(!1),[w,l]=a.useState(0),U=a.useRef(0),I=a.useRef(null);a.useEffect(()=>{let P=null;return M?(n(!0),C(!1),P=setTimeout(()=>C(!0),g)):c&&C(!0),()=>{P&&clearTimeout(P)}},[M,g]),a.useEffect(()=>{if(p){const P=setTimeout(()=>n(!1),260);return()=>clearTimeout(P)}},[p]);const B=P=>{U.current=P.touches[0].clientX},q=P=>{const ie=P.touches[0].clientX-U.current;l(ie)},z=()=>{Math.abs(w)>80?C(!0):l(0)},E=P=>{U.current=P.clientX,I.current&&(I.current.style.cursor="grabbing")},O=P=>{if(U.current===0)return;const $=P.clientX-U.current;l($)},te=()=>{Math.abs(w)>80?C(!0):l(0),U.current=0,I.current&&(I.current.style.cursor="grab")};if(!c)return null;const x=j?"bottom-6 left-1/2 transform -translate-x-1/2":"top-1/2 left-1/2";return e.jsxs("div",{className:`fixed ${x} z-50 pointer-events-auto ${p?"toast-exit":"toast-enter"}`,style:j?{}:{transform:"translate(-50%, -50%)"},children:[e.jsx("style",{children:`
                /* Bottom toast: slide up/out */
                @keyframes toastInUp { from { transform: translateY(14px) scale(0.98); opacity: 0 } to { transform: translateY(0) scale(1); opacity: 1 } }
                @keyframes toastOutDown { from { transform: translateY(0) scale(1); opacity: 1 } to { transform: translateY(12px) scale(0.98); opacity: 0 } }
                /* Center toast: scale/fade */
                @keyframes toastInCenter { from { transform: scale(0.96); opacity: 0 } to { transform: scale(1); opacity: 1 } }
                @keyframes toastOutCenter { from { transform: scale(1); opacity: 1 } to { transform: scale(0.96); opacity: 0 } }
                /* Top slide down animation */
                @keyframes toastSlideDown {
                    from {
                        opacity: 0;
                        transform: translateY(-20px) scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }

                .toast-enter { animation: ${j?"toastInUp 280ms cubic-bezier(.2,.8,.2,1) both":"toastSlideDown 400ms cubic-bezier(.16,1,.3,1) both"}; }
                .toast-exit { animation: ${j?"toastOutDown 220ms cubic-bezier(.2,.8,.2,1) both":"toastOutCenter 180ms cubic-bezier(.2,.8,.2,1) both"}; }
            `}),e.jsxs("div",{ref:I,className:"bg-white text-sm px-4 py-2 rounded-md shadow-lg flex items-center gap-3 cursor-grab select-none",style:{minWidth:220,transform:`translateX(${w}px)`,transition:w===0?"transform 0.3s ease-out":"none"},onTouchStart:B,onTouchMove:q,onTouchEnd:z,onMouseDown:E,onMouseMove:O,onMouseUp:te,onMouseLeave:te,children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"#10B981",flex:"0 0 auto"},children:e.jsx("svg",{width:"16",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("div",{className:"text-gray-900",children:M})]})]})},Ls=({isOpen:M,onClose:g,requestData:j={},selectedLanguage:c="English"})=>{if(!M||!j)return null;const n=j.meta||{},p=({label:C,value:w,icon:l=null})=>{let U=null;return Array.isArray(w)?U=w.length>0?w.join(", "):t("Not provided",c):typeof w=="object"&&w!==null?U=JSON.stringify(w):w!=null&&w!==""?U=String(w):U=t("Not provided",c),e.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-gray-200 last:border-b-0",children:[l&&e.jsx(l,{size:18,className:"text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:C}),e.jsx("p",{className:`text-sm leading-relaxed break-words ${!U||U===t("Not provided",c)?"text-gray-400 italic":"text-gray-800"}`,children:U})]})]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:g,style:{animation:"fadeIn 280ms ease-out"}}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4",onClick:C=>C.target===C.currentTarget&&g(),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",style:{animation:"slideUp 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
                        @keyframes slideUp { from { transform: translateY(30px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }
                    `}),e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t("Request Details",c)}),e.jsx("button",{onClick:g,className:"p-1 hover:bg-white rounded-lg transition text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full"}),t("Basic Information",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Title",c),value:j.title}),e.jsx(p,{label:t("Description",c),value:j.description}),e.jsx(p,{label:t("Requester",c),value:j.requesterName||j.creator?.name})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full"}),t("Video Preferences",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Video Length",c),value:n.selectedVideoLength}),e.jsx(p,{label:t("Custom Length",c),value:n.customVideoLength}),e.jsx(p,{label:t("Tones",c),value:n.selectedTones}),e.jsx(p,{label:t("Styles",c),value:n.selectedStyles})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full"}),t("Delivery Schedule",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Delivery Type",c),value:n.selectedDeliveryType}),e.jsx(p,{label:t("Frequency",c),value:n.selectedFrequency}),e.jsx(p,{label:t("Release Schedule",c),value:n.selectedReleaseSchedule}),e.jsx(p,{label:t("Custom Dates",c),value:n.customRecurrentDates}),e.jsx(p,{label:t("Series Dates",c),value:n.customSeriesDates})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),t("Series Information",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Number of Episodes",c),value:n.numberOfEpisodes}),e.jsx(p,{label:t("Target Videos",c),value:n.targetVideos})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-yellow-500 rounded-full"}),t("Content & Privacy",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Themes",c),value:n.themes}),e.jsx(p,{label:t("Privacy",c),value:n.selectedPrivacy})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),t("Creator Preferences",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Selected Creator",c),value:n.selectedCreator}),e.jsx(p,{label:t("Creator Type",c),value:n.creatorSelectionType}),e.jsx(p,{label:t("Expert Type",c),value:n.expertType})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full"}),t("Budget & Resources",c)]}),e.jsxs("div",{className:"space-y-3 pl-5",children:[e.jsx(p,{label:t("Custom Price",c),value:n.customPrice?`$${n.customPrice}`:null}),e.jsx(p,{label:t("Uploaded Files",c),value:n.uploadedFiles&&Array.isArray(n.uploadedFiles)&&n.uploadedFiles.length>0?`${n.uploadedFiles.length} ${t("file(s)",c)}`:null}),e.jsx(p,{label:t("Reference Links",c),value:n.referenceLinks})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:e.jsx("button",{onClick:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition",children:t("Close",c)})})]})})]})},Fs=({title:M="A night tour of taipei",requesterName:g="AllVater",requesterRole:j=t("Requester",(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),requesterAvatar:c=null,currentStep:n=1,requestId:p=null,requestData:C=null,onClose:w=()=>{},onUpdateProgress:l=()=>{},onUnclaim:U=()=>{},pendingReuploadItem:I=null,clearPendingReupload:B=()=>{}})=>{const[q,z]=a.useState(!1),[E,O]=a.useState(!1),[te,x]=a.useState(!1),[P,$]=a.useState(!1),[ie,ke]=a.useState(!1),[je,pe]=a.useState(()=>{try{return parseInt(localStorage.getItem("detailsHintCount")||"0",10)}catch{return 0}}),[$e,ot]=a.useState(""),[L,ce]=a.useState(null),[d,m]=a.useState(null),[v,Y]=a.useState(null),[X,Ce]=a.useState(null),[nt,Nt]=a.useState(!1),[qt,ge]=a.useState(0),[Je,G]=a.useState(""),[Ge,Ke]=a.useState(!1),[Se,V]=a.useState(""),[i,Re]=a.useState(()=>(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English");a.useEffect(()=>{const s=()=>{const o=localStorage.getItem("regaarder_language")||"English";Re(o)};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),a.useEffect(()=>{try{const s=parseInt(localStorage.getItem("detailsHintCount")||"0",10);if(s<2){ke(!0);const o=s+1;pe(o),localStorage.setItem("detailsHintCount",String(o))}}catch{}},[]);const[_,Pe]=a.useState(M||""),[de,ct]=a.useState(""),kt=["Travel","Education","Entertainment","Music","Sports"],[Me,Ze]=a.useState(!1),Qe=a.useRef(null),[oe,et]=a.useState(!1),me=a.useRef(null),[J,dt]=a.useState("public"),[se,mt]=a.useState(""),Ct=["Narration","Interview","Vlog","Explainer","Other"],[Te,Be]=a.useState(null),[tt,fe]=a.useState(""),xt=a.useRef(null),[st,Ve]=a.useState(""),[Ue,Ee]=a.useState(!1),[F,rt]=a.useState("one-time"),ze=[{key:"one-time",label:t("One-Time",i),fullLabel:t("One-Time Video",i),desc:t("Single video delivery",i),icon:"ðŸŽ¬"},{key:"recurrent",label:t("Recurrent",i),desc:t("Ongoing video series",i),icon:"ðŸ”"},{key:"series",label:t("Series",i),desc:t("Fixed episode count",i),icon:"ðŸŽžï¸"},{key:"catalogue",label:t("Catalogue",i),desc:t("Collection of videos",i),icon:"ðŸ“"}],[qe,r]=a.useState(!1),h=a.useRef(null),f=ze.find(s=>s.key===F)||ze[0],b=["Request Received","Under Review","In Production","Preview Ready","Published","Completed"],[K,T]=a.useState(!1),[D,xe]=a.useState(!1),re=a.useRef(null),St=a.useRef(null),[as,Ye]=a.useState(!1),[ut,De]=a.useState(1),[Yt,ht]=a.useState({x:0,y:0}),Rt=a.useRef(null),Pt=a.useRef(null),lt=a.useRef(!1),ye=a.useRef({x:0,y:0}),Xe=a.useRef({initialDist:null,initialScale:1}),pt=a.useRef(null),[le,gt]=a.useState(0),[ft,_e]=a.useState([]);a.useEffect(()=>{try{const s=typeof localStorage<"u"&&localStorage.getItem("publishedItems");if(s){const o=JSON.parse(s);Array.isArray(o)&&_e(o)}}catch{}},[]),a.useEffect(()=>{try{typeof localStorage<"u"&&localStorage.setItem("publishedItems",JSON.stringify(ft||[]))}catch{}},[ft]);const Xt=5,_t=5,[we,at]=a.useState(null),[Z,ne]=a.useState("form"),[ae,We]=a.useState(null),[He,Wt]=a.useState([]),[is,Ht]=a.useState("CreatorName"),[Jt,Gt]=a.useState(null);a.useEffect(()=>{},[]),a.useEffect(()=>{try{const s=typeof window<"u"&&(window.__PROFILE__||window.__CREATOR__||window.creatorProfile||window.profile||window.currentUser);if(s&&typeof s=="object"){Ht(s.name||s.username||s.handle||"CreatorName"),Gt(s.handle||s.username||null);return}const o=["creatorProfile","profile","user","currentUser"];for(const u of o){const k=typeof localStorage<"u"&&localStorage.getItem(u);if(k)try{const S=JSON.parse(k);if(S&&typeof S=="object"){Ht(S.name||S.username||S.handle||"CreatorName"),Gt(S.handle||S.username||null);return}}catch{}}}catch{}},[]);const os=s=>{s.preventDefault(),Zt(s.clientX,s.clientY)},ns=s=>{lt.current&&Qt(s.clientX,s.clientY)},Kt=()=>{es()},cs=s=>{if(s.touches){if(s.touches.length===1){const o=s.touches[0];Zt(o.clientX,o.clientY)}else if(s.touches.length===2){const o=s.touches[0],u=s.touches[1],k=Math.hypot(u.clientX-o.clientX,u.clientY-o.clientY);Xe.current.initialDist=k,Xe.current.initialScale=ut,ye.current={x:(o.clientX+u.clientX)/2,y:(o.clientY+u.clientY)/2}}}},ds=s=>{if(s.touches){if(s.touches.length===1){const o=s.touches[0];lt.current&&Qt(o.clientX,o.clientY)}else if(s.touches.length===2){const o=s.touches[0],u=s.touches[1],k=Math.hypot(u.clientX-o.clientX,u.clientY-o.clientY),S=Xe.current.initialDist||k,W=k/S,ue=Math.max(.2,Math.min(3,Xe.current.initialScale*W)),be=(o.clientX+u.clientX)/2,y=(o.clientY+u.clientY)/2,R=be-ye.current.x,N=y-ye.current.y;ht(Q=>({x:Q.x+R,y:Q.y+N})),ye.current={x:be,y},De(ue),s.preventDefault()}}},ms=s=>{(!s.touches||s.touches.length===0)&&(es(),Xe.current.initialDist=null)},xs=()=>{const s=Pt.current,o=Rt.current;if(s&&o){s.getBoundingClientRect();const u=o.getBoundingClientRect();let k=u.width,S=k*9/16;S>u.height&&(S=u.height,k=S*16/9);const W=Math.min(k/s.naturalWidth,S/s.naturalHeight),ue=Math.max(.1,Math.min(3,W));De(ue)}else De(1);ht({x:0,y:0}),Xe.current={initialDist:null,initialScale:1}},Ae=()=>{pt.current&&(clearInterval(pt.current),pt.current=null)},bt=s=>{Ae(),De(o=>Math.max(.2,Math.min(3,+(o+s).toFixed(3)))),pt.current=setInterval(()=>{De(o=>Math.max(.2,Math.min(3,+(o+s).toFixed(3))))},120)};a.useEffect(()=>()=>{d&&URL.revokeObjectURL(d),X&&URL.revokeObjectURL(X)},[d,X]),a.useEffect(()=>{const s=o=>{h.current&&!h.current.contains(o.target)&&r(!1)};return qe&&(document.addEventListener("mousedown",s),document.addEventListener("touchstart",s)),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[qe]),a.useEffect(()=>{const s=o=>{Qe.current&&!Qe.current.contains(o.target)&&Ze(!1)};return Me&&(document.addEventListener("mousedown",s),document.addEventListener("touchstart",s)),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[Me]),a.useEffect(()=>{const s=o=>{me.current&&!me.current.contains(o.target)&&et(!1)};return oe&&(document.addEventListener("mousedown",s),document.addEventListener("touchstart",s)),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[oe]),a.useEffect(()=>{if(!Se)return;const s=setTimeout(()=>V(""),2e3);return()=>clearTimeout(s)},[Se]);const us=()=>{try{const s=window&&window.location?window.location.origin:"https://app.example.com",o=(_||M||"your-video").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,60)||"your-video";return`${s}/videos/${o}`}catch{return"https://app.example.com/videos/your-video"}},hs=async()=>{const s=us();try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(s);else{const o=document.createElement("textarea");o.value=s,o.setAttribute("readonly",""),o.style.position="fixed",o.style.left="-9999px",document.body.appendChild(o),o.select(),o.setSelectionRange(0,o.value.length);const u=document.execCommand("copy");if(document.body.removeChild(o),!u)throw new Error("execCommand returned false")}Ke(!0),V(t("Copied",i)),setTimeout(()=>Ke(!1),1200)}catch{try{window.prompt&&window.prompt("Copy this link",s),V(t("Copy ready â€” paste manually",i)),setTimeout(()=>V(""),2e3)}catch{V(t("Copy failed",i)),setTimeout(()=>V(""),1500)}}},Zt=(s,o)=>{lt.current=!0,ye.current={x:s,y:o}};a.useEffect(()=>{if(I)try{const s=I;Pe(s.title||""),Ce(s.thumbnail||null),ct(s.category||de||""),mt(s.scriptType||se||""),s.openInForm?(We(null),ne("form"),Ee(!!s.isReupload),z(!0)):(We({title:s.title||"",thumbnail:s.thumbnail||null,time:null,format:s.format||F,category:s.category||de,scriptType:s.scriptType||se}),ne("preview"),Ee(!0),z(!0))}catch(s){console.warn("Failed to open reupload preview",s)}finally{try{B()}catch{}}},[I]),a.useEffect(()=>{},[]);const Qt=(s,o)=>{if(!lt.current)return;const u=s-ye.current.x,k=o-ye.current.y;ye.current={x:s,y:o},ht(S=>({x:S.x+u,y:S.y+k}))},es=()=>{lt.current=!1},ps=async()=>{try{const s=Pt.current,o=Rt.current;if(!s||!o)return;const u=s.getBoundingClientRect(),k=o.getBoundingClientRect();let S=k.width,W=S*9/16;W>k.height&&(W=k.height,S=W*16/9);const ue=k.left+(k.width-S)/2,be=k.top+(k.height-W)/2,y=ue-u.left,R=be-u.top,N=S,Q=W,ee=y/u.width*s.naturalWidth,Le=R/u.height*s.naturalHeight,Fe=N/u.width*s.naturalWidth,A=Q/u.height*s.naturalHeight,H=1280,he=Math.round(H*9/16),it=document.createElement("canvas");it.width=H,it.height=he;const Ie=it.getContext("2d");Ie.fillStyle="#fff",Ie.fillRect(0,0,H,he),Fe>0&&A>0?Ie.drawImage(s,ee,Le,Fe,A,0,0,H,he):Ie.drawImage(s,0,0,s.naturalWidth,s.naturalHeight,0,0,H,he);const Oe=it.toDataURL("image/jpeg",.9);Ce(Oe);try{const vt=await(await fetch(Oe)).blob(),gs=new File([vt],"thumbnail.jpg",{type:vt.type});Y(gs)}catch{}Ye(!1),De(1),ht({x:0,y:0})}catch(s){console.warn("Thumbnail adjust failed",s),Ye(!1)}};return e.jsxs("div",{className:"rounded-2xl border border-[#F3E8D0] bg-white p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:E?e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center flex-shrink-0",children:c?e.jsx("img",{src:c,alt:g,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-xs text-gray-500",children:g.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:g}),e.jsx("div",{className:"text-xs text-gray-400",children:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>$(!0),className:"text-xs bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1.5 rounded-md transition font-medium",title:"View full request details",children:t("Details",i)}),e.jsx("div",{className:"text-sm text-gray-600 font-medium whitespace-nowrap",children:"$0"})]})]}):e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:M}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["$",0 .toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})]})]}),e.jsxs("button",{onClick:()=>$(!0),className:"text-xs bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1.5 rounded-md transition font-medium ml-3 relative flex-shrink-0",title:"View full request details",style:{...ie&&{boxShadow:"0 0 0 0 rgba(147, 51, 234, 0.7)",animation:"pulse-hint 2s infinite"}},children:[t("Details",i),ie&&e.jsxs("div",{className:"absolute -top-56 right-0 translate-x-12 w-64 bg-white rounded-xl shadow-2xl border-2 p-4 z-50 animate-fade-in-up",style:{borderColor:"rgba(147, 51, 234, 0.8)",backgroundColor:"rgba(147, 51, 234, 0.95)"},children:[e.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 rotate-45",style:{backgroundColor:"rgba(147, 51, 234, 0.95)",borderRight:"2px solid rgba(147, 51, 234, 0.95)",borderBottom:"2px solid rgba(147, 51, 234, 0.95)"}}),e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-bold text-white flex items-center gap-1",children:[e.jsx("span",{children:"ðŸ‘ï¸"})," ",t("View Details",i)]}),e.jsx("p",{className:"text-sm text-white mt-2 leading-snug font-medium",children:t("Click to see all request information including delivery type, tones, styles, and more",i)})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),ke(!1)},className:"text-white hover:text-gray-100 flex-shrink-0 mt-0.5 font-bold text-lg leading-none opacity-80 hover:opacity-100 transition","aria-label":"Close hint",children:"Ã—"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>O(!E),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition",title:E?"Expand":"Collapse",children:E?e.jsx(rs,{size:20}):e.jsx(Ps,{size:20})}),!C?.sourceTab&&e.jsx("button",{onClick:()=>x(!0),className:"text-gray-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition",title:"Unclaim request",children:"âœ•"})]})]}),!E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center",children:c?e.jsx("img",{src:c,alt:g,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-sm text-gray-500",children:g.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:g}),e.jsx("div",{className:"text-xs text-gray-400",children:j})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t("Status Tracker",i)}),(()=>{const s=b.findIndex(u=>u==="Preview Ready")+1,o=n===s;return e.jsx("button",{onClick:()=>z(!0),className:"bg-[var(--color-gold)] text-white px-4 py-2 rounded-lg shadow-sm flex items-center gap-2",children:o?e.jsxs(ve.Fragment,{children:[e.jsx(jt,{size:14,className:"mr-1"}),e.jsx("span",{className:"font-semibold text-[13px]",children:t("Publish Video",i)})]}):e.jsxs(ve.Fragment,{children:[e.jsx("span",{className:"text-[14px]",children:"â†’"}),e.jsx("span",{className:"font-semibold text-[13px]",children:t("Update Progress",i)})]})})})()]}),e.jsxs("div",{className:"mt-5 border-l-2 border-gray-100 pl-6",children:[e.jsx("style",{children:`
                    @keyframes pulseRing {
                        0% { transform: scale(1); opacity: 0.9; box-shadow: 0 0 0 0 rgba(0,0,0,0.06); }
                        50% { transform: scale(1.45); opacity: 0.55; box-shadow: 0 12px 28px 0 rgba(0,0,0,0.08); }
                        100% { transform: scale(1); opacity: 0.9; box-shadow: 0 0 0 0 rgba(0,0,0,0.06); }
                    }
                    .pulse-ring { animation: pulseRing 1.4s ease-out infinite; border-radius: 9999px; }
                `}),b.map((s,o)=>{const u=o+1,k=u===n,S=u<n||K&&u===b.length;return e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("div",{className:"absolute -left-10 top-0",children:S?e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center shadow-md",children:e.jsx("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M1 5L5 8L13 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):k?e.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[e.jsx("span",{className:"absolute inset-0 rounded-full",style:{background:"rgba(203,138,0,0.08)"}}),e.jsx("span",{className:"absolute inset-0 rounded-full pulse-ring",style:{background:"rgba(107,114,128,0.08)"}}),e.jsx("div",{className:"relative w-8 h-8 rounded-full bg-[var(--color-gold)] flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-[13px] font-semibold text-white",children:u})})]}):e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{border:"2px solid #E5E7EB",background:"#fff"},children:e.jsx("span",{className:"text-[13px] text-gray-500 font-semibold",children:u})})}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-semibold ${k?"text-[var(--color-gold-darker)]":S?"text-gray-500":"text-gray-900"}`,children:t(s,i)}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"â€”"})]})]},s)})]}),q&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>z(!1)}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 z-10 max-h-[80vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:n===5||Ue?e.jsxs(ve.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-[22px] text-[var(--color-gold)]",children:"âœ¨"}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Publish Your Video",i)})]}),e.jsx("div",{className:"text-sm text-gray-400 mt-2",children:t("Upload your video, add interactive elements, and publish to the community",i)})]}),e.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),Z!=="preview"&&e.jsxs("div",{className:"mt-4 rounded-lg border border-[var(--color-gold-light)] bg-[var(--color-gold-light-bg)] p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-[var(--color-gold-cream)] flex items-center justify-center text-[var(--color-gold)]",children:"ðŸŽ¬"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--color-gold-darker)]",children:t("Publishing Request",i)}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[t("Requester",i),": ",g," Â· ",t("Creator: You",i)]})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{type:"button",onClick:()=>r(s=>!s),"aria-haspopup":"listbox","aria-expanded":qe,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:f?.icon}),e.jsx("div",{className:F?"text-gray-900":"text-gray-400",children:f?.fullLabel||f?.label})]}),e.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),qe&&e.jsx("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2 px-3",children:t("Select Video Format",i)}),e.jsx("div",{className:"flex flex-col",children:ze.map(s=>{const o=s.key===F;return e.jsxs("button",{onClick:()=>{rt(s.key),r(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center justify-between ${o?"bg-[var(--color-gold-light-bg)]":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-white flex items-center justify-center text-[20px]",children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.label}),e.jsx("div",{className:"text-xs text-gray-500",children:s.desc})]})]}),o&&e.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},s.key)})})]})})]})})]}),Z==="preview"&&ae&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"mx-5 mb-5 bg-white rounded-xl shadow-lg transition-shadow duration-300 overflow-visible",children:[e.jsxs("div",{className:"relative w-full pb-[75%]",children:[e.jsx("img",{src:(Z==="preview"?ae:we)?.thumbnail||X||"https://placehold.co/600x400/333333/ffffff?text=Video+Image+Unavailable",alt:(Z==="preview"?ae:we)?.title||_||"Published thumbnail",className:"absolute top-0 left-0 w-full h-full object-cover rounded-t-xl"}),(Z==="preview"?ae:we)?.pinned&&(Z==="preview"?ae:we)?.pinnedDays&&e.jsxs("div",{className:"absolute top-3 left-3 flex items-center rounded-lg px-2 py-1 shadow-md",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:[e.jsx(Ms,{size:14,className:"text-red-500 mr-1"}),e.jsxs("span",{className:"text-sm font-bold text-white",children:[(Z==="preview"?ae:we)?.pinnedDays,"d"]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("div",{className:"relative flex items-center rounded-lg px-2 py-1 shadow-md text-sm font-semibold text-black",style:{backgroundColor:"var(--color-gold)"},children:[e.jsx(Vt,{size:14,className:"text-black mr-1"}),"Requested"]})})}),e.jsx("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-70 rounded-lg px-2 py-1",children:e.jsx("span",{className:"text-sm font-bold text-white",children:(Z==="preview"?ae:we)?.time||t("Just now",i)})})]}),e.jsxs("div",{className:"p-4 relative",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",style:As,children:(Z==="preview"?ae:we)?.title||_||t("Untitled",i)}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1 leading-5",children:[t("by",i)," ",e.jsx("button",{className:"font-medium underline hover:text-gray-800",style:{color:"var(--color-gold)",background:"transparent",padding:0},onClick:s=>{s.stopPropagation();try{Jt?window.location.href=`/creatorprofile.jsx?handle=${encodeURIComponent(Jt)}`:window.location.href="/creatorprofile.jsx"}catch(o){console.warn("Navigation failed",o)}},children:is})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[(Z==="preview"?ae:we)?.date||t("Just now",i)," Â· ",t("Requested by",i),e.jsx("button",{className:"text-gray-600 font-medium underline hover:text-gray-800 ml-1 bg-transparent p-0",children:g})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(Ts,{size:20})})})]})]}),e.jsxs("div",{className:"flex justify-center p-2 pt-0",children:[e.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),e.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),e.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),e.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"})]})]})}),Se&&e.jsx(Bt,{message:Se,bottom:!0}),Z==="form"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[t("Upload Video",i)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:re,type:"file",accept:"video/mp4,video/quicktime,video/webm",className:"hidden",onChange:s=>{const o=s.target.files&&s.target.files[0];if(o){ce(o);const u=URL.createObjectURL(o);m(u)}}}),e.jsx("div",{onClick:()=>re.current&&re.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-44 flex items-center justify-center cursor-pointer",children:d?e.jsx("video",{src:d,className:"max-h-[160px] max-w-full",controls:!0}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-[var(--color-gold-light-bg)] mx-auto mb-3 flex items-center justify-center text-[var(--color-gold)]",children:e.jsx(Ne,{size:20,className:"text-[var(--color-gold)]"})}),e.jsx("div",{children:t("Click to upload video",i)}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t("MP4, MOV or WebM Â· Max 500MB",i)})]})}),L&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[t("Selected:",i)," ",L.name," (",Math.round(L.size/1024/1024)," MB)"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[t("Video Thumbnail",i)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:St,type:"file",accept:"image/*",className:"hidden",onChange:s=>{const o=s.target.files&&s.target.files[0];if(o){Y(o);const u=URL.createObjectURL(o);Ce(u)}}}),e.jsx("div",{onClick:()=>St.current&&St.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-32 flex items-center justify-center cursor-pointer overflow-hidden bg-white",children:X?e.jsx("img",{src:X,alt:"Video thumbnail preview",className:"object-cover w-full h-full",loading:"lazy"}):e.jsxs("div",{className:"text-gray-400 flex flex-col items-center justify-center",children:[e.jsx(It,{size:36,className:"text-gray-300 mb-2"}),e.jsx("div",{children:t("Click to upload thumbnail",i)})]})}),v&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[t("Selected:",i)," ",v.name," (",Math.round(v.size/1024)," KB)"]}),X&&e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"button",onClick:()=>Ye(!0),className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-200 bg-white text-sm",children:t("Adjust thumbnail",i)})}),as&&X&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Ye(!1)}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 z-10 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"font-semibold",children:t("Adjust Thumbnail",i)}),e.jsx("button",{onClick:()=>Ye(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{ref:Rt,className:"w-full h-64 bg-gray-100 overflow-hidden relative touch-action-none",style:{borderRadius:8},onMouseDown:os,onMouseUp:Kt,onMouseMove:ns,onMouseLeave:Kt,onTouchStart:cs,onTouchMove:ds,onTouchEnd:ms,children:[e.jsx("img",{ref:Pt,src:X,alt:"Adjustable thumbnail",loading:"lazy",style:{position:"absolute",left:"50%",top:"50%",transform:`translate(-50%, -50%) translate(${Yt.x}px, ${Yt.y}px) scale(${ut})`,transformOrigin:"center center",userSelect:"none",touchAction:"none",maxWidth:"none"}}),e.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"90%",aspectRatio:"16/9",border:"2px dashed rgba(255,255,255,0.9)",boxShadow:"0 0 0 100vmax rgba(0,0,0,0.45)",borderRadius:8,pointerEvents:"none"}})]})}),e.jsxs("div",{className:"w-40 flex-shrink-0 flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600",children:t("Zoom",i)}),e.jsx("input",{type:"range",min:"0.2",max:"3",step:"0.05",value:ut,onChange:s=>De(Number(s.target.value)),className:"w-full mt-1"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(ut*100),"%"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onMouseDown:()=>bt(-.1),onMouseUp:()=>Ae(),onMouseLeave:()=>Ae(),onTouchStart:()=>bt(-.1),onTouchEnd:()=>Ae(),className:"px-3 py-2 bg-gray-100 rounded-md",children:"-"}),e.jsx("button",{onMouseDown:()=>bt(.1),onMouseUp:()=>Ae(),onMouseLeave:()=>Ae(),onTouchStart:()=>bt(.1),onTouchEnd:()=>Ae(),className:"px-3 py-2 bg-gray-100 rounded-md",children:"+"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("button",{onClick:xs,className:"w-full px-3 py-2 rounded-md border border-gray-200 bg-white mb-2",children:t("Reset",i)}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("button",{onClick:ps,className:"w-full bg-[var(--color-gold)] text-white px-3 py-2 rounded-md",children:t("Save",i)}),e.jsx("button",{onClick:()=>Ye(!1),className:"w-full mt-2 px-3 py-2 rounded-md border border-gray-200 bg-white",children:t("Cancel",i)})]})]})]})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[t("Video Title",i)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:_,onChange:s=>{const o=s.target.value.slice(0,100);Pe(o)},placeholder:t("Add a title for your video",i),className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[_.length,"/100 ",t("characters",i)]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[t("Category",i)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",ref:Qe,children:[e.jsxs("button",{type:"button",onClick:()=>Ze(s=>!s),"aria-haspopup":"listbox","aria-expanded":Me,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[e.jsx("span",{className:de?"text-gray-900":"text-gray-400",children:t(de||"Select a category for your video",i)}),e.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Me&&e.jsx("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto",children:kt.map(s=>{const o=s===de;return e.jsxs("button",{type:"button",onClick:()=>{ct(s),Ze(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between ${o?"bg-[var(--color-gold-light-bg)]":""}`,children:[e.jsx("span",{className:"text-sm text-gray-900",children:t(s,i)}),o&&e.jsx("span",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},s)})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:t("How it appears",i)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{type:"button",onClick:()=>dt("public"),className:`text-left p-4 rounded-lg border ${J==="public"?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Us,{size:20,className:"text-[var(--color-gold-darker)] mt-1"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"font-semibold",children:t("Public",i)}),e.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded-full bg-[var(--color-gold-cream)] text-[var(--color-gold-darker)] border border-[var(--color-gold)] whitespace-nowrap",children:t("Recommended",i)})]}),e.jsx("div",{className:"text-xs text-gray-500",children:t("Video appears on home page after completion. Best for maximum reach.",i)})]})]}),e.jsx("div",{children:J==="public"&&e.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})})]})}),e.jsx("button",{type:"button",onClick:()=>dt("unlisted"),className:`text-left p-4 rounded-lg border ${J==="unlisted"?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Es,{size:20,className:"text-gray-700 mt-1"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"font-semibold",children:t("Unlisted",i)}),e.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded-full bg-[var(--color-gold-cream)] text-[var(--color-gold-darker)] border border-[var(--color-gold)] whitespace-nowrap",children:t("For Review",i)})]}),e.jsx("div",{className:"text-xs text-gray-500",children:t("Shareable via link only. Not visible on home page.",i)})]})]}),e.jsx("div",{children:J==="unlisted"&&e.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})})]})}),e.jsx("button",{type:"button",onClick:()=>dt("private"),className:`text-left p-4 rounded-lg border ${J==="private"?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{size:20,className:"text-gray-700 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t("Private",i)}),e.jsx("div",{className:"text-xs text-gray-500",children:t("Only visible to you and the requester.",i)})]})]}),J==="private"&&e.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"rounded-lg border border-[var(--color-gold-light)] bg-[var(--color-gold-light-bg)] p-4 mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($t,{size:20,className:"text-[var(--color-gold-darker)] mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-[var(--color-gold-darker)]",children:t("Your Video Link",i)}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("âœ¨ A permanent link will be generated when you publish",i)})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:hs,className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-md",children:Ge?e.jsx(wt,{size:16,className:"text-[var(--color-gold-darker)]"}):e.jsx($t,{size:16,className:"text-[var(--color-gold-darker)]"})})})]}),e.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[t("Script Type",i)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mb-4",ref:me,children:[e.jsxs("button",{type:"button",onClick:()=>et(s=>!s),"aria-haspopup":"listbox","aria-expanded":oe,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[e.jsx("span",{className:se?"text-gray-900":"text-gray-400",children:t(se||"Select the script style used",i)}),e.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),oe&&e.jsx("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto",children:Ct.map(s=>{const o=s===se;return e.jsxs("button",{type:"button",onClick:()=>{mt(s),et(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between ${o?"bg-[var(--color-gold-light-bg)]":""}`,children:[e.jsx("span",{className:"text-sm text-gray-900",children:t(s,i)}),o&&e.jsx("span",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},s)})})]}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[t("Upload Script File",i)," ",e.jsx("span",{className:"text-xs text-gray-400",children:t("Optional",i)})]})}),e.jsx("input",{ref:xt,type:"file",accept:".txt,.doc,.docx,.pdf",className:"hidden",onChange:s=>{const o=s.target.files&&s.target.files[0];o&&Be(o)}}),e.jsx("div",{onClick:()=>xt.current&&xt.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-36 flex items-center justify-center cursor-pointer overflow-hidden bg-white",children:Te?e.jsxs("div",{className:"text-sm text-gray-700",children:[t("Selected:",i)," ",Te.name," (",Math.round(Te.size/1024)," KB)"]}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-[var(--color-gold-light-bg)] mx-auto mb-3 flex items-center justify-center text-[var(--color-gold)]",children:e.jsx(zs,{size:20,className:"text-[var(--color-gold)]"})}),e.jsx("div",{className:"font-medium",children:t("Upload Script File",i)}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t("TXT, DOC, DOCX, or PDF Â· Max 10MB",i)})]})})]}),se==="Other"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:t("Please describe the script type",i)}),e.jsx("input",{value:tt,onChange:s=>fe(s.target.value),placeholder:t("Describe the script type",i),className:"w-full p-3 border border-gray-200 rounded-lg text-sm"})]}),e.jsx(ss,{videoFile:L,isPublic:J==="public",onOverlaysChange:Wt,getTranslation:t,selectedLanguage:i})]}),Z==="overlays"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Add Interactive Elements",i)}),e.jsx("div",{className:"text-sm text-gray-400 mt-2",children:t("Make your video more engaging with clickable links and images",i)})]})}),e.jsx(ss,{videoFile:L,isPublic:!0,onOverlaysChange:Wt,getTranslation:t,selectedLanguage:i})]})]}):e.jsxs(ve.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Advance Request Status",i)}),e.jsx("div",{className:"text-sm text-gray-400",children:t("Update the status and notify the requester",i)})]}),e.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 my-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-400",children:t("Current Status",i)}),e.jsx("div",{className:"text-lg font-semibold mt-2",children:t(b[Math.max(0,n-1)],i)})]}),e.jsx("div",{className:"text-2xl text-gray-400",children:"â†’"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-400",children:t("Next Status",i)}),e.jsx("div",{className:"text-lg font-semibold mt-2",children:t(n<b.length?b[n]:b[b.length-1],i)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Progress Update Message (Optional)",i)}),e.jsx("textarea",{value:$e,onChange:s=>ot(s.target.value),placeholder:t("Add a custom message for the requester...",i),className:"w-full mt-2 p-3 border border-gray-200 rounded-lg min-h-[120px] text-sm"})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg flex items-start gap-3",children:[e.jsx("div",{className:"text-blue-600",children:"ðŸ””"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[g," ",t("will be notified via email and app notification",i)]})]}),e.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>{if(n===b.length){try{l(n,$e)}catch{}z(!1),T(!0),xe(!0),setTimeout(()=>{xe(!1)},3e3);return}const s=Math.min(b.length,n+1);try{l(s,$e)}catch{}z(!1)},disabled:n>b.length,className:`w-full px-4 py-3 rounded-lg text-white font-semibold ${n>b.length?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[e.jsx("span",{className:"mr-2",children:"âœ”"}),n===b.length?t("Update Progress",i):n===b.length-1?t("Publish Video",i):t("Update Status",i)]}),e.jsx("button",{onClick:()=>z(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:t("Cancel",i)})]})]})}),(n===5||Ue)&&e.jsxs("div",{className:"p-4 border-t bg-white",children:[Je&&e.jsx("div",{className:"text-sm text-red-600 mb-3",children:t(Je,i)}),Z==="form"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:async()=>{if(G(""),!L){G("Please upload a video before continuing.");return}if(!v){G("Please upload a thumbnail before continuing.");return}if(!_||_.trim().length===0){G(t("Please add a video title before continuing.",i));return}if(!de){G(t("Please select a category for your video.",i));return}if(F==="one-time"&&le>=1){G("This one-time video has already been published.");return}if(F==="series"&&le>=Xt){G("Series limit reached");return}if(F==="catalogue"&&le>=_t){G("Catalogue limit reached");return}We({title:_,file:L,thumbnail:X||(v?typeof v=="string"?v:v.name:null),time:"Just now",format:F,category:de,scriptType:se}),ne(J==="public"?"overlays":"preview")},disabled:F==="one-time"&&le>=1||F==="series"&&le>=Xt||F==="catalogue"&&le>=_t,className:"w-full bg-[var(--color-gold)] text-white px-4 py-3 rounded-lg font-semibold mb-3",children:t("Next: Preview",i)}),e.jsx("button",{onClick:()=>z(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:t("Cancel",i)})]}):Z==="overlays"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{ne("preview")},className:"w-full bg-[var(--color-gold)] text-white px-4 py-3 rounded-lg font-semibold mb-3",children:t("Next: Preview",i)}),e.jsx("button",{onClick:()=>ne("form"),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white mb-3",children:t("Back",i)}),e.jsx("button",{onClick:()=>z(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:t("Cancel",i)})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:async()=>{const s=ae||{title:_,file:L,thumbnail:v?v.name:null,format:F};G("");const o=s.file||L||null,u=o&&o.name||"",k=o&&o.size||0,S=o&&o.type||"",W=(s.title||_||"").trim(),ue=W.toLowerCase();let be=null;if(Ue||(be=ft&&ft.find(y=>{if(!y)return!1;const R=(y.title||"").toString().trim().toLowerCase(),N=y.fileName||"",Q=y.fileSize||0;return R===ue&&N===u&&Q===k})),be){G(t("Duplicate upload detected. This video has already been uploaded.",i));return}if(Ue&&(!st||st.trim().length===0)){G(t("Please provide a short change note describing the re-upload.",i));return}Nt(!0),ge(0);try{for(let R=10;R<=100;R+=10)await new Promise(N=>setTimeout(N,80)),ge(R);const y={id:Date.now().toString()+"-"+Math.random().toString(36).slice(2),title:W||_,titleNormalized:ue,fileName:u,fileSize:k,fileType:S,thumbnail:s.thumbnail||(v?v.name:null),time:Date.now(),format:s.format||F,changeNote:st||null,appearance:J,privateLink:J==="private"?`${window.location.origin}/?vid=${Date.now().toString()+"-"+Math.random().toString(36).slice(2)}`:null,overlays:He&&Array.isArray(He)?He:[]};try{const R=window&&window.__BACKEND_URL__||"http://localhost:4000",N=localStorage.getItem("regaarder_token");console.log("Uploading files to backend:",{backend:R,hasToken:!!N,hasVideo:!!L,hasThumbnail:!!v});let Q=X;if(v&&v instanceof File){const A=new FormData;A.append("photo",v);const H=await fetch(`${R}/creator/photo`,{method:"POST",headers:N?{Authorization:`Bearer ${N}`}:{},body:A});H.ok?(Q=(await H.json()).url,console.log("Thumbnail uploaded:",Q)):console.warn("Thumbnail upload failed, using preview")}let ee=d;if(L&&L instanceof File){const A=new FormData;A.append("video",L);const H=await fetch(`${R}/creator/intro-video`,{method:"POST",headers:N?{Authorization:`Bearer ${N}`}:{},body:A});H.ok?(ee=(await H.json()).url,console.log("Video uploaded:",ee)):console.warn("Video upload failed, using preview")}let Le="0:00";if(L)try{const A=document.createElement("video");A.preload="metadata";const H=URL.createObjectURL(L);A.src=H,await new Promise((he,it)=>{const Ie=setTimeout(()=>{URL.revokeObjectURL(H),he()},5e3);A.onloadedmetadata=()=>{clearTimeout(Ie);const Oe=Math.floor(A.duration),Mt=Math.floor(Oe/60),vt=Oe%60;Le=`${Mt}:${vt.toString().padStart(2,"0")}`,console.log("Video duration calculated:",Le),URL.revokeObjectURL(H),he()},A.onerror=Oe=>{clearTimeout(Ie),console.warn("Video metadata load error:",Oe),URL.revokeObjectURL(H),he()}})}catch(A){console.warn("Could not calculate video duration:",A)}const Fe=await fetch(`${R}/videos/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:""},body:JSON.stringify({title:W||_,thumbnail:Q||null,videoUrl:ee||null,category:de||"General",format:s.format||F,time:Le,requester:g||null,overlays:He&&Array.isArray(He)?He:[]})});if(Fe.ok){const A=await Fe.json();console.log("Video published successfully:",A),V(t("Video published! Refresh home page to see it.",i))}else{console.error("Failed to publish video to backend. Status:",Fe.status);const A=await Fe.text();console.error("Error details:",A),V(t("Publishing failed. Please try again.",i))}}catch(R){console.error("Error publishing video to backend:",R)}if(s.format==="recurrent"){const R=le+1;gt(R),_e(N=>[...N,y]),at(y),V(`${t("Published video",i)} #${R}`),J==="private"&&y.privateLink&&(setPrivateLink(y.privateLink),setShowPrivateLinkModal(!0)),ce(null),d&&(URL.revokeObjectURL(d),m(null)),Ce(null),Y(null),Be(null),fe(""),We(null),ge(0),ne("form")}else if(s.format==="series"){const N=le+1;gt(N),_e(Le=>[...Le,y]),at(y),V(`${t("Published episode",i)} #${N}`),J==="private"&&y.privateLink&&(setPrivateLink(y.privateLink),setShowPrivateLinkModal(!0));const Q=(W||_||"").replace(/\s*\(Part\s*\d+\)\s*$/i,"").trim(),ee=Q?`${Q} (Part ${N+1})`:`Part ${N+1}`;Pe(ee),ce(null),d&&(URL.revokeObjectURL(d),m(null)),Ce(null),Y(null),Be(null),fe(""),We(null),ge(0),ne("form"),Ee(!1),Ve("")}else if(s.format==="catalogue"){const R=le+1;gt(R),_e(N=>[...N,y]),at(y),V(`${t("Published item",i)} #${R}`),J==="private"&&y.privateLink&&(setPrivateLink(y.privateLink),setShowPrivateLinkModal(!0)),ce(null),d&&(URL.revokeObjectURL(d),m(null)),Ce(null),Y(null),Be(null),fe(""),We(null),ge(0),ne("form"),Ee(!1),Ve("")}else{if(Ue&&I&&I.id){const R=I.id;y.id=R,_e(N=>N&&N.some(ee=>ee&&ee.id===R)?N.map(ee=>ee&&ee.id===R?y:ee):[...N||[],y]),at(y),V(t("Updated published video",i));try{l(Math.min(b.length,n+1),`Re-uploaded video:${y.fileName} thumb:${y.thumbnail||""}`)}catch{}}else{const R=le+1;gt(R),_e(N=>[...N,y]),at(y);try{l(Math.min(b.length,n+1),`Uploaded video:${y.fileName} thumb:${y.thumbnail||""}`)}catch{}}ne("form"),Ee(!1),Ve("")}}finally{Nt(!1),ge(0)}},disabled:nt,className:`w-full ${nt?"bg-gray-300 cursor-not-allowed":"bg-[var(--color-gold)] text-white"} px-4 py-3 rounded-lg font-semibold mb-3`,children:nt?"Uploading "+qt+"%":(()=>{const s=le+1,o=ae&&ae.format||F;return o==="recurrent"?e.jsxs(ve.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish video #",s]}):o==="series"?e.jsxs(ve.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish episode #",s]}):o==="catalogue"?e.jsxs(ve.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish item #",s]}):e.jsxs(ve.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"âœ¨"}),le===0?"Publish Video":"Published"]})})()}),e.jsx("button",{onClick:()=>{ne("form")},className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:"Back"})]})]})]})]}),D&&e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
                    @keyframes confettiFall {
                        0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
                        100% { transform: translateY(110vh) rotate(360deg); opacity: 0.95; }
                    }
                    @keyframes confettiSwing {
                        0% { transform: translateY(0) translateX(0) rotate(0deg); }
                        50% { transform: translateY(20px) translateX(8px) rotate(90deg); }
                        100% { transform: translateY(0) translateX(0) rotate(180deg); }
                    }
                `}),e.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none overflow-hidden",children:(()=>{const s=["#F59E0B","#10B981","#3B82F6","#EF4444","#8B5CF6","#06B6D4"],o=[];for(let u=0;u<28;u++){const k=Math.round(Math.random()*100),S=Math.round(Math.random()*800),W=1400+Math.round(Math.random()*800),ue=6+Math.round(Math.random()*8),be=10+Math.round(Math.random()*12),y=s[u%s.length];o.push(e.jsx("div",{style:{position:"absolute",left:`${k}%`,top:"-8%",width:ue,height:be,background:y,borderRadius:2,transformOrigin:"center",animation:`confettiFall ${W}ms cubic-bezier(.2,.7,.2,1) ${S}ms forwards`,opacity:.95}},u))}return o})()}),e.jsx(Bt,{message:"Your video has been successfully completed. We're proud of you !",bottom:!1,duration:3500})]}),te&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50",onClick:()=>x(!1)}),e.jsx("div",{className:"relative bg-white rounded-3xl shadow-2xl p-6 max-w-sm mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(ls,{size:32,className:"text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t("Unclaim Request?",i)}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:t("Are you sure you want to stop working on this request? It will become available for other creators to claim.",i)}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:async()=>{try{const s=localStorage.getItem("regaarder_token"),o=window&&window.__BACKEND_URL__||"http://localhost:4000";if(s){const u=await fetch(`${o}/claims`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({requestId:p||M,title:M})});if(u.ok)x(!1),U(p||M),console.log("Request successfully unclaimed");else{const k=await u.json();console.error("Failed to unclaim request:",u.status,k),alert(`Failed to unclaim: ${k.error||"Unknown error"}`)}}}catch(s){console.error("Unclaim failed",s),alert("Error unclaiming request: "+s.message)}},className:"w-full bg-red-600 text-white font-semibold py-3 rounded-lg hover:bg-red-700 transition",children:t("Yes, Unclaim",i)}),e.jsx("button",{onClick:()=>x(!1),className:"w-full border border-gray-200 text-gray-900 font-semibold py-3 rounded-lg hover:bg-gray-50 transition",children:t("Keep Working",i)})]})]})})]}),e.jsx(Ls,{isOpen:P,onClose:()=>$(!1),requestData:C,selectedLanguage:i})]})]})},Is=({selectedLanguage:M="English"})=>{const[g,j]=a.useState("Home"),c=a.useRef(!1),n=[{name:"Home",icon:"home"},{name:"Requests",icon:"requests"},{name:"Ideas",icon:"pencil"},{name:"More",icon:"more"}],p="rgb(107 114 128)";return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:n.map(C=>{const w=C.name===g,l=w?{color:"var(--color-gold)"}:{color:p},U=w?"font-semibold":"font-normal";let I={};w&&(I.textShadow="0 0 8px var(--color-gold-light)");const B=q=>{try{if(q==="Home"){window.location.href="/home.jsx";return}if(q==="Requests"){window.location.href="/requests.jsx";return}if(q==="Ideas"){window.location.href="/ideas.jsx";return}if(q==="More"){window.location.href="/more.jsx";return}}catch(z){console.warn("Navigation failed",z)}};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:I,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onMouseDown:()=>{j(C.name),c.current||(c.current=!0,B(C.name))},onTouchStart:()=>{j(C.name),c.current||(c.current=!0,B(C.name))},onClick:q=>{if(c.current){c.current=!1,q.preventDefault();return}j(C.name),B(C.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:(()=>{const z={home:ts,requests:yt,pencil:Vt,more:Cs}[C.icon]||ts,E=w?{color:"var(--color-gold)"}:{color:p};return e.jsx(z,{size:22,strokeWidth:1,style:E})})()}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${U}`,style:l,children:t(C.name,M)})]})},C.name)})})})},Rr=()=>{const M=vs(),[g,j]=a.useState("Overview"),[c,n]=a.useState(!1);a.useEffect(()=>{try{const h=new URLSearchParams(window.location.search).get("tab");h&&p.includes(h)&&j(h)}catch(r){console.error("Error parsing URL params:",r)}},[]),a.useEffect(()=>{const r=h=>{try{const f=h.detail;if(f){j("Claims");const b={id:f.requestId,title:f.title,requesterName:f.requesterName,requesterAvatar:f.requesterAvatar,funding:f.funding,description:f.description,currentStep:f.currentStep||1,claimedAt:f.claimedAt};O(K=>K.some(T=>T.id===b.id)?K:[b,...K]),ke(!1)}}catch(f){console.error("Error handling claim event:",f)}};return window.addEventListener("request:claimed",r),()=>window.removeEventListener("request:claimed",r)},[]);const p=["Overview","Requests","Claims","Published","Analytics","Upload","Insights","Support","Templates"],[C,w]=a.useState(""),[l,U]=a.useState(()=>(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English");a.useEffect(()=>{const r=()=>{const h=localStorage.getItem("regaarder_language")||"English";U(h)};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]);const[I,B]=a.useState(null),[q,z]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("regaarder_token");if(!h)return;const f=await fetch("http://localhost:4000/users/me",{headers:{Authorization:`Bearer ${h}`}});if(f.ok){const b=await f.json();b.user&&(B(b.user.userPlan||null),z((b.user.userPlan||"").toLowerCase()==="procreator"))}}catch(h){console.warn("Error fetching user plan:",h)}})()},[]);const[E,O]=a.useState(()=>{try{const r=typeof localStorage<"u"&&localStorage.getItem("claimedRequests");return r?JSON.parse(r):[]}catch{return[]}});a.useEffect(()=>{try{typeof localStorage<"u"&&localStorage.setItem("claimedRequests",JSON.stringify(E))}catch{}},[E]),a.useEffect(()=>{const r=h=>{if(h.key==="claimedRequests")try{const f=h.newValue;O(f?JSON.parse(f):[])}catch{}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]);const[te,x]=a.useState(null),[P,$]=a.useState({}),[ie,ke]=a.useState(!1),[je,pe]=a.useState(()=>{try{if(typeof localStorage<"u"){const r=localStorage.getItem("publishedItems");return r?JSON.parse(r):[]}}catch{}return[]}),[$e,ot]=a.useState(!1),[L,ce]=a.useState(null),[d,m]=a.useState(""),[v,Y]=a.useState(null),[X,Ce]=a.useState(null),[nt,Nt]=a.useState(!1),[qt,ge]=a.useState([]),[Je,G]=a.useState(""),[Ge,Ke]=a.useState(null),[Se,V]=a.useState(null),[i,Re]=a.useState(null),_=r=>{V(r)},Pe=()=>{V(null)};a.useRef({active:!1,startX:0,startY:0,lastX:0}),a.useEffect(()=>{const r=h=>{if(h.key==="publishedItems")try{pe(h.newValue?JSON.parse(h.newValue):[])}catch{}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),a.useEffect(()=>{if(g==="Published")try{const r=localStorage.getItem("publishedItems");pe(r?JSON.parse(r):[])}catch{}},[g]);const de=r=>{try{pe(r),typeof localStorage<"u"&&localStorage.setItem("publishedItems",JSON.stringify(r))}catch{}},ct=r=>{try{Ke(r);const h=je.filter(f=>f.id!==r);de(h),G(t("Deleted",l)),setTimeout(()=>G(""),1800)}finally{setTimeout(()=>Ke(null),300)}},kt=r=>{const h="reupload-"+Date.now(),f={id:h,title:r?.title||t("Untitled",l),requesterName:r?.requesterName||t("Requester",l),requesterAvatar:r?.requesterAvatar||null,currentStep:5,isReupload:!0,sourceTab:"Published"};O(b=>[f,...b]),x({...r,targetClaimId:h,sourceTab:"Published"})},Me=()=>{const r="upload-"+Date.now(),h={id:r,title:"",requesterName:t("You",l),requesterAvatar:null,currentStep:5,isReupload:!1};O(f=>[h,...f]),x({title:"",thumbnail:null,openInForm:!0,isReupload:!1,targetClaimId:r}),j("Claims")},Ze=r=>{j("Claims"),r&&typeof r=="object"&&O(h=>h.some(f=>f.id===r.id)?h:[r,...h])},Qe=(r,h,f)=>{const b=E.find(T=>T.id===f);O(T=>T.map(D=>D.id===f?{...D,currentStep:r}:D)),r>=6&&b&&setTimeout(()=>{O(D=>D.filter(xe=>xe.id!==f));const T={id:b.id,title:b.title,description:b.description,funding:b.funding,requesterName:b.requesterName,requesterAvatar:b.requesterAvatar,format:b.format,completedAt:Date.now(),currentStep:r,originalClaim:b};pe(D=>[T,...D])},2e3);try{ge(T=>{const D=Array.isArray(T)?T.slice():[];if(!f)return D;const xe=D.findIndex(re=>re&&re.id===f);if(xe!==-1){const re={...D[xe]||{},currentStep:r};return D.splice(xe,1,re),D}return D})}catch(T){console.warn("Update claim stats error",T)}j("Claims"),console.log("Status updated to",r,"message:",h);try{const T=localStorage.getItem("regaarder_token"),D=f;if(T&&D){const xe=window&&window.__BACKEND_URL__||"http://localhost:4000";fetch(`${xe}/requests/${D}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({step:r,message:h})}).then(re=>{re.ok&&setToastMessage("Status updated & requester notified")}).catch(re=>console.error("Status update failed",re))}}catch(T){console.error("Failed to update status on server",T)}try{const T=typeof localStorage<"u"&&localStorage.getItem("publishedItems");T&&pe(JSON.parse(T))}catch{}},oe=a.useRef(!1),[et,me]=a.useState(!1),[J,dt]=a.useState(!1),[se,mt]=a.useState(!0),[Ct,Te]=a.useState(!1),[Be,tt]=a.useState(!1),[fe,xt]=a.useState(null),[st,Ve]=a.useState(!1),[Ue,Ee]=a.useState(()=>{try{return!localStorage.getItem("creatorDashboardWelcomeSeen")}catch{return!0}}),F=()=>{Ee(!1);try{localStorage.setItem("creatorDashboardWelcomeSeen","true")}catch{}},rt=(C||"").toString().trim().toLowerCase(),ze=[{id:"earnings",title:t("Total Earnings",l),jsx:e.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:e.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:e.jsx(Ns,{size:22,className:"text-white",fill:"white"})}),e.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:t("Total Earnings",l)})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),e.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:t("Start earning today",l)})]})]})},"earnings")},{id:"requests",title:t("Active Requests",l),jsx:e.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:e.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:t("Active Requests",l)}),e.jsx("span",{className:"px-2.5 py-1 rounded-full text-white text-[10px] font-bold shadow-md",style:{background:"var(--color-purple)"},children:t("NEW",l)})]})}),(()=>{try{const r=(E||[]).length,h=(E||[]).reduce((b,K)=>b+(Number(K.funding)||0),0),f=r===1?t("active request",l):t("active requests",l);return e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none",children:r}),e.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:r?`${r} ${f}`:t("No active requests",l)})]})}catch{return e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none",children:"0"}),e.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:t("No active requests",l)})]})}})()]})},"requests")},{id:"rating",title:t("Avg Rating",l),jsx:e.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:e.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:e.jsx(jt,{size:22,className:"text-white",fill:"white"})}),e.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:t("Avg Rating",l)})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),e.jsx("span",{className:"text-[14px] text-gray-600 font-medium",children:t("Not rated yet â­",l)})]})]})},"rating")},{id:"response",title:t("Response Time",l),jsx:e.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:e.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:e.jsx(ks,{size:22,className:"text-white",fill:"white"})}),e.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:t("Response Time",l)})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),e.jsx("span",{className:"text-[14px] text-gray-600 font-medium",children:t("Start responding âš¡",l)})]})]})},"response")}],qe=rt?[...ze.filter(r=>r.title.toLowerCase().includes(rt)),...ze.filter(r=>!r.title.toLowerCase().includes(rt))]:ze;return e.jsxs("div",{"data-creatordashboard-root":!0,className:"w-full max-w-[640px] mx-auto min-h-screen bg-white font-sans relative overflow-y-auto",style:{...Ds,paddingBottom:"calc(115px + env(safe-area-inset-bottom))"},children:[e.jsx("div",{className:"-mx-6 -mt-6 pt-10 pb-10",style:{background:"var(--color-purple)",borderTop:"3px solid var(--color-purple)",borderLeft:"3px solid var(--color-purple)",borderRight:"3px solid var(--color-purple)",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:e.jsxs("div",{className:"relative px-6",children:[e.jsxs("button",{onClick:()=>n(!c),className:"w-full px-5 py-3 rounded-2xl border-2 flex items-center justify-between font-semibold text-[15px] shadow-md transition-all",style:{backgroundColor:"var(--color-purple)",color:"white",borderColor:"var(--color-purple)",opacity:.95},onBlur:r=>{r.currentTarget.parentElement.contains(r.relatedTarget)||setTimeout(()=>n(!1),150)},children:[e.jsxs("span",{className:"flex items-center gap-2",children:[g==="Overview"&&e.jsx(Tt,{size:18}),g==="Requests"&&e.jsx(yt,{size:18}),g==="Claims"&&e.jsx(Lt,{size:18}),g==="Published"&&e.jsx(Ne,{size:18}),g==="Analytics"&&e.jsx(Ut,{size:18}),g==="Upload"&&e.jsx(Et,{size:18}),g==="Insights"&&e.jsx(zt,{size:18}),g==="Support"&&e.jsx(Dt,{size:18}),g==="Templates"&&e.jsx(wt,{size:18}),t(g,l)]}),e.jsx(rs,{size:20,className:"transition-transform",style:{transform:c?"rotate(180deg)":"rotate(0deg)"}})]}),c&&e.jsxs("div",{className:"absolute top-full left-5 right-5 mt-2 rounded-2xl border-2 shadow-2xl z-50",style:{background:"var(--color-purple)",borderColor:"var(--color-purple)"},children:[e.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),mt(!se)},className:"px-3 py-2 rounded-lg text-[12px] font-bold shadow text-center flex-shrink-0 transition-all",style:{background:se?"rgb(187, 247, 208)":"rgb(254, 202, 202)",color:se?"rgb(22, 101, 52)":"rgb(127, 29, 29)",border:"none"},children:t(se?"Available":"Unavailable",l)}),e.jsxs("button",{className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-700 text-[12px] font-medium flex items-center justify-center shadow-sm flex-shrink-0 bg-white",onClick:()=>{try{localStorage.setItem("redirectBackTo","creatorDashboard"),M("/settings"),n(!1)}catch(r){console.warn("Navigation failed",r)}},children:[e.jsx(jt,{size:14,className:"mr-1"}),t("Settings",l)]}),e.jsxs("button",{className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-700 text-[12px] font-medium flex items-center justify-center shadow-sm flex-shrink-0 bg-white",onMouseDown:()=>{if(me(!0),!oe.current){oe.current=!0;try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch(r){console.warn("Navigation failed",r)}}},onTouchStart:()=>{if(me(!0),!oe.current){oe.current=!0;try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch{}}},onClick:r=>{if(oe.current){oe.current=!1,r.preventDefault(),me(!1);return}me(!1);try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch(h){console.warn("Navigation failed",h)}},onMouseUp:()=>me(!1),onTouchEnd:()=>me(!1),children:[e.jsx(Ss,{size:14,className:"mr-1"}),t("Profile",l)]})]}),p.map(r=>{const h=g===r;return e.jsxs("button",{onClick:()=>{j(r),n(!1)},className:`w-full px-5 py-3 text-left text-[15px] font-semibold flex items-center gap-3 transition-colors ${h?"bg-var(--color-purple-light-bg)":"hover:bg-purple-600"}`,style:h?{color:"white",background:"rgba(255, 255, 255, 0.15)"}:{color:"white"},children:[(()=>{switch(r){case"Overview":return e.jsx(Tt,{size:18});case"Requests":return e.jsx(yt,{size:18});case"Claims":return e.jsx(Lt,{size:18});case"Published":return e.jsx(Ne,{size:18});case"Analytics":return e.jsx(Ut,{size:18});case"Upload":return e.jsx(Et,{size:18});case"Insights":return e.jsx(zt,{size:18});case"Support":return e.jsx(Dt,{size:18});case"Templates":return e.jsx(wt,{size:18});default:return null}})(),t(r,l)]},r)})]})]})}),Ue&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:F}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[e.jsx("button",{onClick:F,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-[var(--color-gold)] flex items-center justify-center shadow-md",children:e.jsx(Ne,{size:24,className:"text-white"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Welcome to Creator Dashboard",l)})})]}),e.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-6",children:t("Manage your video requests and grow your audience. Track your earnings, respond to requests, and publish amazing content all in one place.",l)}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(yt,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:t("Browse Requests",l)}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:t("Find video requests that match your skills",l)})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(Ne,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:t("Create & Publish",l)}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:t("Upload your videos and track their performance",l)})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(jt,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:t("Earn Money",l)}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:t("Get paid for fulfilling video requests",l)})]})]})]}),e.jsx("button",{onClick:F,className:"w-full bg-[var(--color-gold)] text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:t("Get Started",l)})]})]}),Ct&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Te(!1)}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[e.jsx("button",{onClick:()=>Te(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-red-100 flex items-center justify-center shadow-md",children:e.jsx(ls,{size:24,className:"text-red-600"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Creator Unavailable",l)})})]}),e.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-6",children:t("This creator is unavailable right now. You can check back later or send your request to another creator.",l)}),e.jsx("button",{onClick:()=>Te(!1),className:"w-full bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:t("Got It",l)})]})]}),Be&&fe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>tt(!1)}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[e.jsx("button",{onClick:()=>tt(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-purple-100 flex items-center justify-center shadow-md",children:e.jsx(Ft,{size:24,className:"text-purple-600"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:t("Private Video Published",l)})})]}),e.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-4",children:t("Your video has been published as private. Share this link with the requester to let them view it.",l)}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:t("Private Video Link",l)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:fe,readOnly:!0,className:"flex-1 bg-white border border-gray-200 rounded px-3 py-2 text-sm text-gray-900 font-mono"}),e.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(fe),Ve(!0),setTimeout(()=>Ve(!1),2e3)}catch{window.prompt&&window.prompt("Copy this link",fe)}},className:"px-3 py-2 bg-purple-600 text-white rounded text-sm font-semibold hover:bg-purple-700 transition-colors",children:st?"âœ“":t("Copy",l)})]})]}),e.jsx("button",{onClick:()=>tt(!1),className:"w-full bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:t("Done",l)})]})]}),e.jsx("div",{className:"mt-0 -mx-6 px-0 py-6",style:{backgroundColor:"var(--color-purple)",minHeight:"280px",borderLeft:"3px solid var(--color-purple)",borderRight:"3px solid var(--color-purple)",borderBottom:"3px solid var(--color-purple)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px"},children:e.jsx("div",{className:"overflow-x-auto hide-scrollbar snap-x snap-mandatory flex gap-4",style:{WebkitOverflowScrolling:"touch",paddingLeft:"20px",paddingRight:"20px",scrollPaddingLeft:"20px"},children:qe.map(r=>r.jsx)})}),g==="Requests"?e.jsx("div",{className:"mt-7",children:e.jsx(js,{onClaim:Ze,onData:ge})}):g==="Claims"?e.jsxs("div",{className:"px-6 mt-7 pb-20",children:[e.jsx("h3",{className:"text-[18px] font-semibold text-gray-900 mb-4",children:t("Active Claims",l)}),(()=>{const r=(E||[]).length,h=(E||[]).reduce((f,b)=>f+(Number(b.funding)||0),0);return e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[t("Active requests:",l)," ",e.jsx("span",{className:"font-semibold text-gray-900",children:r})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t("Potential earnings:",l)," ",e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",h.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})]})]})]})})(),E.length===0?e.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx(Lt,{size:32,className:"text-[var(--color-gold)]"})}),e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:t("No Active Claims",l)}),e.jsx("p",{className:"text-sm text-gray-600 text-center max-w-sm mb-6",children:t("Claim a request from the Requests tab to start working on it and track your progress here.",l)}),e.jsx("button",{onClick:()=>j("Requests"),className:"px-5 py-2 rounded-lg font-semibold text-white transition-all hover:opacity-90 shadow-md",style:{backgroundColor:"var(--color-gold)"},children:t("Browse Requests",l)})]}):e.jsx("div",{className:"space-y-6",children:E.map((r,h)=>{const f=E.length>2&&h>0,b=P[r.id]!==!1?f:!1;return e.jsxs("div",{children:[E.length>2&&h>0&&e.jsxs("button",{onClick:()=>$(K=>({...K,[r.id]:!b})),className:"text-sm text-[var(--color-gold)] font-semibold mb-2 flex items-center gap-2 hover:opacity-80",children:[b?"â–¶":"â–¼"," ",r.title]}),!b&&e.jsx(Fs,{title:r.title,requesterName:r.requesterName,requesterAvatar:r.requesterAvatar,currentStep:r.currentStep||1,requestId:r.id,requestData:r,onClose:()=>{},onUpdateProgress:(K,T)=>{Qe(K,T,r.id)},onUnclaim:K=>{O(T=>T.filter(D=>D.id!==K))},pendingReuploadItem:te&&te.targetClaimId===r.id?te:null,clearPendingReupload:()=>x(null)},r.id||Math.random())]},r.id||Math.random())})})]}):g==="Published"?e.jsxs("div",{className:"px-6 mt-7",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:t("Published",l)}),e.jsx("button",{onClick:()=>{j("Upload")},className:"text-[var(--color-gold)] font-medium",children:t("Upload New",l)})]}),je&&je.length>0?e.jsx("div",{className:"space-y-4",children:je.map(r=>e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-[var(--color-gold-light-bg)] shadow-sm flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 h-12 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:r.thumbnail?e.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover"}):e.jsx(Ne,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:r.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(r.time||r.completedAt||Date.now()).toLocaleString()," ",r.changeNote?`â€¢ ${t("Updated:",l)} ${r.changeNote}`:""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>kt(r),className:"px-3 py-1 rounded-md border border-gray-200 text-sm text-gray-700",children:t("Re-upload",l)}),e.jsx("button",{onClick:()=>Re(r),onMouseDown:()=>_(r.id),onTouchStart:()=>_(r.id),onMouseUp:Pe,onMouseLeave:Pe,onTouchEnd:Pe,disabled:Ge===r.id,className:`px-3 py-1 rounded-md text-sm transition-colors duration-150 ${Ge===r.id?"bg-red-100 text-red-400 border border-red-100 cursor-not-allowed":Se===r.id?"bg-red-50 text-red-700 border border-red-200":"border border-red-200 text-red-600"}`,children:Ge===r.id?t("Deleting...",l):Se===r.id?t("Delete",l):t("Delete",l)})]})]},r.id))}):e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[160px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:e.jsx(Ne,{size:24,className:"text-[var(--color-gold)]"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:t("No Published Videos Yet",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px]",children:t("Your published videos will appear here",l)})]}),i&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Re(null)}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 z-10 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:t("Delete Published Video?",l)}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:t("This action cannot be undone. Are you sure you want to delete this video?",l)})]}),e.jsx("button",{onClick:()=>Re(null),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-16 h-10 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:i.thumbnail?e.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover"}):e.jsx(Ne,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:i.title}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(i.time).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{ct(i.id),Re(null),V(null)},className:"flex-1 px-4 py-2 rounded-lg bg-red-600 text-white",children:t("Delete",l)}),e.jsx("button",{onClick:()=>{Re(null),V(null)},className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 bg-white",children:t("Cancel",l)})]})]})]}),Je&&e.jsx(Bt,{message:Je,bottom:!0})]}):g==="Upload"?e.jsx("div",{className:"px-6 mt-7",children:q?e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:e.jsx(Et,{size:24,className:"text-[var(--color-gold)]"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:t("Upload",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px] mb-6",children:t("Upload videos independently without waiting for requests. Available exclusively for Premium creators.",l)}),e.jsx("div",{className:"flex flex-col gap-3 items-center",children:(()=>{try{return(je||[]).length<1?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Me,className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:t("Upload Video",l)}),e.jsx("button",{onClick:()=>j("Published"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] text-gray-700 bg-white",children:t("View Published",l)})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center max-w-[320px] text-sm text-gray-700",children:t("You have reached the free upload limit. Subscribe to upload more videos.",l)}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:()=>{M("/sponsorship")},className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white",children:t("Subscribe",l)}),e.jsx("button",{onClick:()=>j("Published"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] bg-white",children:t("View Published",l)})]})]})}catch{return e.jsx("button",{onClick:Me,className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:t("Upload Video",l)})}})()})]}):e.jsxs("div",{className:"rounded-2xl bg-white border border-gray-200 shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:e.jsx(Ft,{size:24,className:"text-gray-400"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:t("Pro Feature",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px] mb-6",children:t("Upload videos independently without waiting for requests. This feature is exclusive to Pro Creators. Upgrade to unlock independent uploads.",l)}),e.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[e.jsx("button",{onClick:()=>{M("/sponsorship")},className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:t("Upgrade to Pro",l)}),e.jsx("button",{onClick:()=>j("Claims"),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 bg-white",children:t("Fulfill Requests Instead",l)})]})]})}):g==="Insights"?e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:e.jsx(zt,{size:24,className:"text-[var(--color-gold)]"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:t("Insights Coming Soon",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px] mb-6",children:t("Complete your first few requests to unlock personalized insights, tips, and recommendations to grow your creator business.",l)}),e.jsxs("button",{className:"flex items-center gap-3 bg-[var(--color-gold)] text-white px-6 py-3 rounded-lg shadow-md",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:t("Complete Your Profile",l)})]})]})}):g==="Support"?e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:e.jsx(Dt,{size:24,className:"text-[var(--color-gold)]"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:t("We're Here to Help",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px] mb-6",children:t("Get personalized support for everything from technical issues to creative guidance. Our creator success team is dedicated to your growth.",l)}),e.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-[360px]",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] rounded-lg px-4 py-3",children:[e.jsx(Ot,{size:16,className:"text-[var(--color-accent-text)]"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[t("Avg response:",l)," ",e.jsx("span",{className:"font-semibold",children:t("2 hours",l)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] rounded-lg px-4 py-3",children:[e.jsx(Rs,{size:16,className:"text-[var(--color-accent-text)]"}),e.jsx("div",{className:"text-sm text-gray-700",children:t("98% satisfaction rate",l)})]})]})]})}):g==="Templates"?e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:e.jsx(wt,{size:24,className:"text-[var(--color-gold)]"})})}),e.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-1",children:t("Response Templates",l)}),e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:t("Coming Soon",l)}),e.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px]",children:t("Save and reuse templates for common responses, video scripts, and messages to streamline your workflow.",l)})]})}):g==="Analytics"?e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-6 min-h-[260px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:t("Analytics",l)}),e.jsx("p",{className:"text-[13px] text-gray-500 mt-1",children:t("Track performance metrics across your videos and requests",l)})]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] text-gray-900 font-semibold text-[13px] shadow-sm h-9",children:[e.jsx(At,{size:16,className:"mr-1 text-[var(--color-accent-text)]"}),t("Export",l)]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] p-5 flex flex-col items-start justify-center min-h-[160px]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:e.jsx(Ut,{size:20,className:"text-[var(--color-gold)]"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t("Views & Watch Time",l)}),e.jsx("div",{className:"text-[13px] text-gray-400",children:t("No data available yet",l)})]})]}),e.jsx("div",{className:"text-[14px] text-gray-500",children:t("Accept and publish videos to start collecting analytics like views, watch time, and engagement.",l)})]}),e.jsxs("div",{className:"flex-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] p-5 flex flex-col items-start justify-center min-h-[160px]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:e.jsx(Tt,{size:20,className:"text-[var(--color-gold)]"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t("Growth",l)}),e.jsx("div",{className:"text-[13px] text-gray-400",children:t("No growth data yet",l)})]})]}),e.jsx("div",{className:"text-[14px] text-gray-500",children:t("Complete requests and share videos to begin tracking follower and audience growth.",l)})]})]}),e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>j("Requests"),className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:t("View Requests",l)}),e.jsx("button",{onClick:()=>j("Upload"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] text-gray-700 bg-white",children:t("Upload Video",l)})]})]})}):e.jsxs(ve.Fragment,{children:[e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[e.jsxs("div",{className:"flex justify-between w-full mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[18px] font-semibold text-gray-900",children:t("Performance Metrics",l)}),e.jsx("div",{className:"text-[14px] text-gray-400 font-normal",children:t("Track your success over time",l)})]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] text-gray-900 font-semibold text-[15px] shadow-sm h-10",children:[e.jsx(At,{size:20,className:"mr-1 text-[var(--color-accent-text)]"}),t("Export",l)]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:e.jsx(At,{size:40,className:"text-[var(--color-accent-text)]"})}),e.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:t("No data to display yet",l)}),e.jsx("div",{className:"text-[14px] text-gray-400 font-normal text-center",children:t("Start accepting and completing requests to see your performance metrics",l)})]})]})}),e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[e.jsx("div",{className:"text-[18px] font-semibold text-gray-900 mb-6 self-start",children:t("Recent Activity",l)}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:e.jsx(Ot,{size:40,className:"text-[var(--color-accent-text)]"})}),e.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:t("No active requests in progress",l)}),e.jsx("div",{className:"text-[14px] text-gray-400 font-normal",children:t("Accept requests from the marketplace to see activity here",l)})]})]})}),e.jsx("div",{className:"px-6 mt-7",children:e.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[e.jsx("div",{className:"text-[18px] font-semibold text-gray-900 mb-6 self-start",children:t("Earnings Overview",l)}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-[32px] text-[var(--color-accent-text)] font-bold",children:"$"})}),e.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:t("No earnings yet",l)}),e.jsx("div",{className:"text-[14px] text-gray-400 font-normal text-center",children:t("Complete your first video request to start earning",l)})]})]})})]}),e.jsx(Is,{selectedLanguage:l})]})};export{Rr as default};
