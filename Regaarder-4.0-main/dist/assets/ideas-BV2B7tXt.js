import{f as lt,j as e,X as ze,g as t,u as ls,r as a,C as ee,P as Br,L as cs}from"./index-CyI0DKux.js";import{C as ds}from"./check-circle-BkyJo699.js";import{F as ms}from"./folder-15GzUg7A.js";import{C as ur}from"./clock-Jd78ie9v.js";import{L as ir}from"./lightbulb-C6vbUIWA.js";import{A as Pr}from"./arrow-right-DMAGUXeC.js";import{H as nr}from"./heart-BabZlOnX.js";import{M as us}from"./message-square-DCSuxfB-.js";import{C as xs}from"./chevrons-up-XGc2ZVam.js";import{B as ps}from"./bookmark-jhuTf_1k.js";import{T as Ur}from"./target-CcaRi4Vx.js";import{U as or}from"./users-Dlljh6Fa.js";import{C as Ot}from"./crown-B5h4qPi3.js";import{A as hs}from"./alert-circle-CSLsr3WI.js";import{S as lr}from"./sparkles-BDNlsOyZ.js";import{S as fs}from"./search-h0urzO3J.js";import{F as cr,P as nt,M as gs}from"./pencil-DkfZ8MSJ.js";import{L as dr}from"./link-BG2GiBQh.js";import{B as bs}from"./briefcase-CbqO_155.js";import{T as Or}from"./trending-up-DROUWhyn.js";import{B as $r}from"./book-open-Dxtscycx.js";import{U as ys}from"./user-AwJceWtz.js";import{S as vs}from"./shield-v6goKAac.js";import{C as Ie}from"./chevron-down-MI-YxQHj.js";import{G as ws}from"./globe-4d7Fq_un.js";import{D as js}from"./dollar-sign-ghy9fNy-.js";import{C as mr}from"./calendar-BjNnOqQ1.js";import{C as $t}from"./chevron-up-CQhYk7-b.js";import{H as Ns}from"./home-Cy3Aw4Uo.js";import{C as ks}from"./chevron-left-C5bLqwK2.js";import{C as Ss}from"./chevron-right-DQErn1YO.js";const Cs=lt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Pt=lt("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),Es=lt("ListVideo",[["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}],["path",{d:"m16 12 5 3-5 3v-6Z",key:"zpskkp"}]]),Is=lt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Yr=lt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Rs=lt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);function Ts({onClose:x,onBoostRequest:s,onInviteContributors:g,selectedLanguage:m,requestData:i}){const j=async()=>{try{const n=`${t("Check out this request on Regaarder!",m)}

${t("Title",m)}: ${i?.title||"Request"}
${t("Requester",m)}: ${i?.requesterName||"Unknown"}

${t("Help boost this request and earn rewards by contributing! Visit Regaarder to see more.",m)}`;navigator.share?await navigator.share({title:i?.title||"Check out this request on Regaarder!",text:n,url:window.location.href}):(await navigator.clipboard.writeText(n),alert(t("Share message copied to clipboard!",m)))}catch(n){console.error("Share failed:",n),g&&g()}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(ze,{size:24})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(ds,{size:32,className:"text-green-600"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-3",children:t("Free Request Submitted",m)}),e.jsx("p",{className:"text-gray-600 text-sm text-center mb-6 leading-relaxed",children:t("Free requests may take longer to reach creators, as paid requests are prioritized. To increase visibility, you can boost your request at any time or invite others to contribute.",m)}),e.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg mb-3 transition-colors",children:t("Boost Request",m)}),e.jsx("button",{onClick:j,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold py-3 rounded-lg transition-colors",children:t("Invite Contributors",m)})]})})}const Fs=`:root {
  --brand-gold: #ca8a04;
  --brand-gold-600: #B27000;
  --brand-gold-700: #8F5900;
  --brand-gold-soft: rgba(203,138,0,0.12);
  --brand-gold-light: rgba(203,138,0,0.4);
/* Focused input inside provider chooser: subtle thin gold glow */
.provider-card input:focus, .creator-search-input:focus {
    outline: none;
    border-color: var(--brand-gold-600);
    0% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }
    50% { box-shadow: 0 18px 40px rgba(6,24,58,0.12); }
    100% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }
}
.provider-card.selected { animation: card-subtle-pulse 1000ms ease-out; }

/* Edge fade removed for choose creator list clarity */
.provider-carousel-wrap { position: relative; }
.provider-carousel-wrap::before, .provider-carousel-wrap::after {
    display: none !important;
}

/* Hide temporary rebuilt chooser to avoid duplicates */
.choose-creator-new { display: none !important; }

/* Expanded provider card (choose creator) */
.provider-card.expanded { min-height: 180px; }
/* Expanded body: fade + slight lift for a smooth premium feel */
.provider-card .expanded-body {
    max-height: 560px;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-6px);
    transition: max-height 320ms ease, opacity 260ms ease, transform 260ms cubic-bezier(0.22,1,0.36,1);
}
.provider-card.expanded .expanded-body {
    opacity: 1;
    transform: translateY(0);
}
/* Unified Search Bar Container - Following home.jsx pattern */

.creator-search-row {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #ffffff;
    border: 1px solid rgba(15,23,42,0.1);
    border-radius: 12px;
    padding: 10px 14px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    transition: all 0.2s ease;
    margin-bottom: 16px;
}
.creator-search-row:focus-within {
    border-color: var(--brand-gold-600);
    box-shadow: 0 4px 16px rgba(203,138,0,0.12);
}

/* Input Wrapper */
.creator-search-input-wrap {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    min-width: 0;
}

/* Prefix @ */
.creator-search-prefix {
    position: absolute;
    left: 6px; /* Nudge inward */
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    font-weight: 600;
    color: rgba(15,23,42,0.4);
    pointer-events: none;
    z-index: 2;
}

/* Input Field - EXACT copy of home.jsx pattern */
.creator-search-input {
    flex: 1;
    background: transparent !important;
    border: none !important;
    outline: none !important;
    padding: 0 0 0 24px !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    color: #000000 !important; /* Force black */
    min-width: 0 !important;
    height: 24px !important; /* Fixed height to ensure visibility */
    line-height: 24px !important; /* Center text vertically */
    box-shadow: none !important;
    border-radius: 0 !important;
    width: auto !important;
    max-width: none !important;
    caret-color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    z-index: 10 !important;
    position: relative !important;
}
.creator-search-input::placeholder { 
    color: #000000 !important; 
    opacity: 0.5 !important;
}

/* Clear X Button */
.creator-search-clear {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(15,23,42,0.5);
    cursor: pointer;
    transition: all 0.15s;
}
.creator-search-clear:hover { 
    background: rgba(15,23,42,0.06); 
    color: #ef4444; 
}

/* Save Button */
.creator-search-save {
    flex-shrink: 0;
    height: 32px;
    padding: 0 14px;
    border-radius: 8px;
    background: var(--color-primary);
    color: #fff;
    border: none;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.15s;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.creator-search-save:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(122,58,240,0.25);
}

/* Make selected pill not overlap the input */
.creator-selected-pill { display: inline-block; margin-bottom: 8px !important; background: transparent !important; color: #0f172a !important; z-index: 220 !important; }

/* Force overflow visible to allow dropdown bleeding and ensure layering */
.provider-carousel-wrap,
.provider-carousel,
.provider-card,
.provider-card.expanded,
.expanded-body,
.provider-card .expanded-body {
    overflow: visible !important;
}

/* Ensure the expanded card floats above siblings (preventing next card from covering the dropdown) */
.provider-card.expanded {
    z-index: 60;
    position: relative;
    border-color: transparent; /* remove inner white border */
    background: transparent; /* let modal background show through */
    box-shadow: none;
}

/* Ensure non-expanded cards stay below */
.provider-card:not(.expanded) {
    z-index: 1;
}

/* Remove any pseudo-element overlays or fades that could cloud content */
.provider-card::before,
.provider-card::after,
.provider-card .card-info::before,
.provider-card .card-info::after,
.provider-carousel-wrap::before,
.provider-carousel-wrap::after {
    display: none !important;
    content: none !important;
}

/* Ensure the selected pill is fully visible and readable */
.creator-selected-pill {
    position: relative;
    z-index: 999 !important;
    box-shadow: 0 2px 6px rgba(6,24,58,0.08) !important;
    background: #374151 !important; /* dark gray */
    border: 1px solid rgba(0,0,0,0.12) !important;
    color: #ffffff !important; /* white text for contrast */
    font-weight: 700 !important;
    padding: 6px 10px !important;
    margin-bottom: 8px !important;
    border-radius: 9999px !important;
    font-size: 13px !important;
    display: inline-block;
    line-height: 1 !important;
}

/* Card header styling - ensure title/sub are visible */
.provider-card .card-info,
.provider-card .card-title,
.provider-card .card-sub {
    background: transparent !important;
    box-shadow: none !important;
    position: relative;
    z-index: 2 !important;
    pointer-events: auto !important;
}

.provider-card .card-title {
    color: #0f172a !important;
    font-weight: 700 !important;
    font-size: 14px !important;
}
.provider-card .card-sub {
    color: #6b7280 !important;
    font-size: 12px !important;
}

/* Ensure expanded body and search row sit above card header */
.expanded-body {
    position: relative;
    z-index: 100 !important;
    background: transparent !important;
}

.creator-search-row {
    position: relative;
    z-index: 101 !important;
    background: transparent !important;
}

/* Input wrapper: keep relative and reserve space for clear button */
.creator-search-input-wrap {
    position: relative;
    z-index: 102 !important;
    background: transparent !important;
    flex: 1 1 auto;
    min-width: 0;
    padding-right: 0; /* Handled dynamically via inline style */
}

/* Clear button position adjusted so it doesn't overlap Save */
.creator-search-clear {
    position: absolute;
    right: 12px; /* inside the input wrap */
    top: 50%;
    transform: translateY(-50%);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(15,23,42,0.5);
    cursor: pointer;
    z-index: 110;
}

/* Ensure Save button sits to the right of the input and has margin */
.creator-search-save {
    margin-left: 8px !important;
}

/* Force the card-info to not overflow or cover expanded content */
.provider-card.expanded .card-info {
    position: static !important;
    overflow: visible !important;
    max-height: none !important;
}


/* Expanded List Area - The "Dropdown Card" */
.choose-creator-list {
    position: relative; /* Back to relative to avoid clipping issues */
    margin-left: 0;
    margin-right: 0;
    width: 100%;
    max-height: 320px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    margin-top: 12px;
    background: transparent;
    border-top: none;
    border-bottom: none;
    box-shadow: none;
    border-radius: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
    z-index: 100;
}

/* Ensure the container is relative so absolute positioning works relative to it */
.creator-search-row {
    /* ... existing styles ... */
    z-index: 51; /* Search bar above dropdown */
    margin-bottom: 0; /* Connect to the list */
}

/* Fix input visibility */
.creator-search-input {
    color: #0f172a !important; /* Force dark color */
    opacity: 1 !important;
}

/* List Item */
.creator-row {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(15,23,42,0.04);
    background: transparent;
    border-radius: 0;
    box-shadow: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background 0.15s ease;
    cursor: pointer;
}
.creator-row:last-child { border-bottom: none; }
.creator-row:hover {
    background: rgba(15,23,42,0.03);
    transform: none; /* remove scaling */
    box-shadow: none;
    z-index: 1;
}
.creator-row.selected {
    background: rgba(122,58,240,0.06);
    border-color: transparent;
    box-shadow: inset 3px 0 0 var(--color-primary); /* Left accent */
}

/* Avatar */
.creator-avatar {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    border-radius: 50% !important;
    margin-right: 12px;
    font-size: 16px;
    font-weight: 700;
    color: #fff;
    overflow: hidden;
    position: relative;
    display: flex; align-items: center; justify-content: center;
}
.creator-avatar img { width: 100%; height: 100%; object-fit: cover; }

.creator-name { flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 2px; }
.creator-display { font-weight: 600; color: #0f172a; font-size: 14px; line-height: 1.2; letter-spacing: -0.01em; }
.creator-role-label { font-size: 12px; color: #64748b; font-weight: 500; }

/* Clear button inside input */
.input-clear {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: rgba(15,23,42,0.5);
    padding: 6px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 140ms ease, color 140ms ease;
}
.input-clear:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.7); }

/* Close button inside focused header */
.close-focus-btn { color: rgba(15,23,42,0.6); padding: 6px; border-radius: 8px; display:inline-flex; align-items:center; justify-content:center; }
.close-focus-btn:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.9); }
        /* Position the close button inside the focused card */
        .provider-card.focused-card .close-focus-btn {
          position: absolute;
          right: 12px;
          top: 12px;
          z-index: 30;
          background: transparent;
          color: rgba(15,23,42,0.6);
        }

/* No-results premium styling */
.no-results { color: var(--muted); will-change: opacity, transform; animation: fade-scale 320ms cubic-bezier(0.22,1,0.36,1) both; }
.no-results-illustration svg { width: 72px; height: 72px; display: block; }
.no-results-title { color: var(--deep-navy); }
.no-results-sub { color: #9CA3AF; }

/* Fade + gentle scale entrance for premium feel */
@keyframes fade-scale {
    0% { opacity: 0; transform: scale(0.98) translateY(-6px); }
    60% { opacity: 1; transform: scale(1.01) translateY(0); }
    100% { opacity: 1; transform: scale(1) translateY(0); }
}

/* Input prefix styling removed (unused) */

/* Styles removed to fix conflict with unified search bar */

/* Mobile optimizations for search bar */
@media (max-width: 640px) {
    .creator-search-row {
        padding-left: 10px !important;
        padding-right: 10px !important;
        gap: 6px !important;
    }
    .creator-search-save {
        padding-left: 8px !important;
        padding-right: 8px !important;
        font-size: 13px !important;
        height: 32px !important;
        margin-left: 0 !important; /* Save space */
    }
    .creator-search-input {
        font-size: 14px !important;
        padding-left: 22px !important; /* Slightly reduce left padding for @ */
    }
}

/* Preset most-popular badge */
.most-popular-badge {
    position: absolute;
    top: -8px;
    right: -8px; /* push outside the button so it doesn't overlap the amount */
    background: var(--brand-gold-600);
    color: var(--on-gold);
    font-weight: 700;
    font-size: 9px; /* smaller */
    padding: 3px 6px; /* smaller */
    border-radius: 9999px;
    box-shadow: 0 6px 16px rgba(203,138,0,0.06);
    z-index: 3;
}

/* Refund modal styles removed (UI simplified) */

/* Preset button helpers for spacing and premium feel */
.preset-btn { min-width: 88px; display: inline-flex; align-items: center; justify-content: center; padding-left: 18px; padding-right: 18px; border-radius: 14px; }

/* Creator selected pill (override duplicate) */
.creator-selected-pill {
    display: inline-block;
    padding: 6px 10px !important;
    background: #333333 !important; /* Dark grey */
    border-radius: 9999px;
    font-size: 13px !important;
    color: #ffffff !important; /* Force white text */
    font-weight: 700 !important;
    box-shadow: 0 2px 6px rgba(0,0,0,0.12) !important;
}

/* --- Preview Card Responsive Fixes ---
   Keeps footer icons (bookmark/lightbulb) within the card on small screens
*/
.preview-card { overflow: visible; }

@media (max-width: 640px) {
    /* Reduce right padding so icons sit inside rounded edge */
    .preview-card { padding-right: 20px !important; }

    /* Nudge footer icons slightly toward the card edge so they visually sit on the rounded boundary */
    .preview-footer-icons { margin-right: -8px; }

    /* Inline (step-6) preview needs a stronger nudge than modal so there's more distance from the boosts icon */
    .inline-preview-footer-icons { margin-right: -51px; }

    /* Make footer icon buttons slightly smaller so they don't overflow */
    .preview-footer-icons > div {
        padding: 6px !important;
        min-width: 34px;
        height: 34px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .preview-footer-icons svg {
        width: 16px !important;
        height: 16px !important;
    }

    /* Slightly stronger nudge on very small phones */
    @media (max-width: 420px) {
        .preview-footer-icons { margin-right: -10px; }
        .inline-preview-footer-icons { margin-right: -59px; }
        .claim-button { right: 6px !important; }
    }

    /* Keep the rotated CLAIM tab inside the card on small widths */
    .claim-button { right: 8px !important; }
}

`,Bt=(x,s)=>{try{const g=getComputedStyle(document.documentElement).getPropertyValue(x);return g?g.trim():s||""}catch{return s||""}},Ds=({selectedLanguage:x="English"})=>{const[s,g]=a.useState("Ideas");a.useEffect(()=>{window.setFooterTab&&(window.currentFooterSetTab=g)},[]);const m=[{name:"Home",Icon:Ns},{name:"Requests",Icon:cr},{name:"Ideas",Icon:nt},{name:"More",Icon:gs}],i="rgb(107, 114, 128)",j={paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},n=h=>{const T={Home:"home",Requests:"requests",Ideas:"ideas",More:"more"}[h];window.setFooterTab&&window.setFooterTab(T),g(h)};return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:j,children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:m.map(h=>{const v=h.name===s,T=v?{color:"var(--color-gold)"}:{color:i},k=v?"font-semibold":"font-normal",C=v?{textShadow:"0 0 8px var(--color-gold-light)"}:{};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:C,children:e.jsxs("button",{onClick:()=>n(h.name),className:"p-2 rounded-md focus:outline-none",children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(h.Icon,{size:22,strokeWidth:1,style:T})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${k}`,style:T,children:t(h.name,x)})]})},h.name)})})})},ft=({selectedLanguage:x="English"})=>{const[s,g]=a.useState(!1);return a.useEffect(()=>{g(!0);const m=setTimeout(()=>g(!1),5e3);return()=>clearTimeout(m)},[]),e.jsxs("div",{className:"space-y-8",children:[s&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(40)].map((m,i)=>e.jsx("div",{style:{position:"absolute",left:`${Math.random()*100}%`,top:"-20px",width:"8px",height:"8px",backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(Math.random()*5)],animation:`confetti-fall ${2+Math.random()*3}s linear forwards`,animationDelay:`${Math.random()*2}s`,borderRadius:Math.random()>.5?"50%":"0"}},i))}),e.jsxs("div",{className:`
                    fixed top-6 left-1/2 transform -translate-x-1/2 w-[90%] max-w-sm
                    bg-[var(--surface)] px-4 py-3 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-100
                    flex items-start space-x-3 z-50 transition-all duration-500
                    ${s?"translate-y-0 opacity-100":"-translate-y-20 opacity-0"}
                `,children:[e.jsx("div",{className:"bg-green-500 rounded-full p-1 flex-shrink-0 mt-0.5",children:e.jsx(ee,{className:"w-3 h-3 text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-900 leading-tight",children:t("Request Created",x)}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:t("Your request has been successfully created.",x)})]}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 p-0.5 -mr-1",children:e.jsx(ze,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center text-lg font-semibold text-gray-700",children:[e.jsx(ee,{className:"w-5 h-5 mr-2 text-gold-small"}),e.jsx("span",{className:"tracking-tight",children:t("New options unlocked!",x)})]}),e.jsxs("div",{className:"relative rounded-xl cream-glow-box p-6 cursor-pointer hover:shadow-lg transition duration-200",role:"button",tabIndex:0,onClick:()=>{try{window.location.href="advertisewithus.jsx"}catch{}},onKeyDown:m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();try{window.location.href="advertisewithus.jsx"}catch{}}},style:{background:"radial-gradient(circle at 12% 18%, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.22)",boxShadow:"inset 0 8px 24px rgba(var(--color-gold-rgb,203,138,0),0.05), 0 10px 30px rgba(6,24,58,0.06)",backgroundBlendMode:"screen, screen, normal, normal"},children:[e.jsx("span",{style:{position:"absolute",left:12,top:8,width:44,height:44,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",filter:"blur(10px)",opacity:.95,pointerEvents:"none"}}),e.jsx("span",{style:{position:"absolute",right:18,top:28,width:58,height:58,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.03))",filter:"blur(14px)",opacity:.9,pointerEvents:"none"}}),e.jsx("span",{style:{position:"absolute",left:"38%",bottom:6,width:36,height:36,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.02))",filter:"blur(8px)",opacity:.95,pointerEvents:"none"}}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"p-3 rounded-full mr-4 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.06))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.12)",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.06)"},children:e.jsx(js,{className:"w-6 h-6 text-[var(--color-gold)]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800",children:t("Sponsor Content on Regaarder",x)}),e.jsx("p",{className:"text-sm text-gray-500",children:t("For brands & businesses",x)})]})]}),e.jsx(Pr,{className:"w-6 h-6 text-[var(--color-gold)]"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-6",children:t("Reach millions of engaged viewers through authentic creator partnerships. Tap here to explore our transparent sponsorship system.",x)}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:t("Transparent Pricing",x)}),e.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:t("Direct Brand-Creator Connection",x)})]})]})]})},As=({description:x,setDescription:s,title:g,setTitle:m,MAX_CHARS:i,showAdvanced:j,selectedLanguage:n="English"})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Format selected! Now add details.",n)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this one-time video.",n)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const h=document.getElementById("description-input");h&&(h.scrollIntoView({behavior:"smooth",block:"center"}),h.focus(),h.classList.add("jump-highlight"),setTimeout(()=>h.classList.remove("jump-highlight"),900));const v=document.getElementById("title-input");v&&setTimeout(()=>{v.focus(),v.classList.add("jump-highlight"),setTimeout(()=>v.classList.remove("jump-highlight"),900)},300)},children:t("Edit",n)})]})]}),_s=({description:x,setDescription:s,title:g,setTitle:m,MAX_CHARS:i,MIN_CHARS:j,recurrentStep:n,selectedFrequency:h,setSelectedFrequency:v,selectedTones:T,setSelectedTones:k,selectedStyles:C,setSelectedStyles:l,selectedPrivacy:f,setSelectedPrivacy:y,customRecurrentDates:z,setCustomRecurrentDates:W,selectedLanguage:_="English",setRecurrentStep:F,selectedDeliveryType:N,selectedVideoLength:I,customVideoLength:O,uploadedFiles:ae,referenceLinks:Be,customPrice:oe,setCustomPrice:Oe,editingPrice:D,setEditingPrice:K,priceInput:p,setPriceInput:J,priceInputRef:ge,savePrice:$e,displayPrice:Pe,sanitizePriceInput:Re,handleSaveReview:E})=>{const P=[{type:"daily",title:t("Daily",_),subtitle:t("New videos delivered every day",_),Icon:ur},{type:"weekly",title:t("Weekly",_),subtitle:t("New videos delivered every week",_),Icon:Yr},{type:"monthly",title:t("Monthly",_),subtitle:t("New videos delivered every month",_),Icon:mr},{type:"custom",title:t("Custom",_),subtitle:t("Set a custom delivery schedule",_),Icon:mr}];return n===1?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Frequency selection unlocked!",_)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this recurring request.",_)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const Y=document.getElementById("description-input");Y&&(Y.scrollIntoView({behavior:"smooth",block:"center"}),Y.focus(),Y.classList.add("jump-highlight"),setTimeout(()=>Y.classList.remove("jump-highlight"),900))},children:t("Edit",_)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("How often would you like creators to deliver new videos?",_)}),e.jsx("p",{className:"text-sm text-gray-500",children:t("Creators will plan their uploads according to your chosen rhythm.",_)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Hr,{options:P,selected:h,setSelected:v,selectedLanguage:_}),h==="custom"&&e.jsx("div",{className:"mt-3",children:e.jsx(Vr,{selectedDates:z,setSelectedDates:W,selectedLanguage:_})})]})]}):n===3?e.jsx(gt,{selectedTones:T,setSelectedTones:k,selectedStyles:C,setSelectedStyles:l,selectedLanguage:_}):n===4?e.jsx(bt,{selectedLanguage:_}):n===5?e.jsx(yt,{selectedPrivacy:f,setSelectedPrivacy:y,selectedLanguage:_}):n===6?e.jsx(vt,{title:g,description:x,selectedDeliveryType:N,selectedFrequency:h,customRecurrentDates:z,selectedTones:T,selectedVideoLength:I,customVideoLength:O,uploadedFiles:ae,referenceLinks:Be,selectedPrivacy:f,selectedLanguage:_,customPrice:oe,setCustomPrice:Oe,editingPrice:D,setEditingPrice:K,priceInput:p,setPriceInput:J,priceInputRef:ge,savePrice:$e,displayPrice:Pe,sanitizePriceInput:Re,onEdit:()=>F(1),onSaveReview:E,selectedLanguage:_}):n===8?e.jsx(ft,{}):null},gt=({selectedTones:x,setSelectedTones:s,selectedStyles:g,setSelectedStyles:m,selectedLanguage:i="English"})=>{const[j,n]=a.useState(!1),[h,v]=a.useState(!1);a.useRef(null);const T=a.useRef(null),k=a.useRef(null);a.useRef(null),a.useRef(null);const C=a.useRef(null),l=[{id:"professional",label:t("Professional",i),Icon:bs},{id:"casual",label:t("Casual",i),Icon:Cs},{id:"inspirational",label:t("Inspirational / Motivational",i),Icon:Or},{id:"humorous",label:t("Humorous / Lighthearted",i),Icon:Rs},{id:"emotional",label:t("Emotional / Heartfelt",i),Icon:nr},{id:"analytical",label:t("Analytical / Educational",i),Icon:$r}],f=[{id:"dramatic",label:t("Dramatic / Cinematic",i),Icon:Pt},{id:"sarcastic",label:t("Sarcastic / Satirical",i),Icon:Is},{id:"romantic",label:t("Romantic / Soothing",i),Icon:ys},{id:"bold",label:t("Bold / Controversial",i),Icon:vs},{id:"serious",label:t("Serious / Neutral",i),Icon:Ur},{id:"experimental",label:t("Experimental / Artistic",i),Icon:Br},{id:"hopeful",label:t("Hopeful / Reflective",i),Icon:lr}],y=N=>{x.includes(N)?s(x.filter(I=>I!==N)):x.length<2&&(s([...x,N]),n(!1))},z=[{id:"cinematic",label:t("Cinematic",i),Icon:Pt},{id:"minimal",label:t("Minimal",i),Icon:Br},{id:"documentary",label:t("Documentary",i),Icon:$r},{id:"animated",label:t("Animated",i),Icon:lr},{id:"vibrant",label:t("Vibrant",i),Icon:Or},{id:"intimate",label:t("Intimate",i),Icon:nr}],W=N=>{g.includes(N)?m(g.filter(I=>I!==N)):(m([N]),v(!1))};a.useEffect(()=>{const N=O=>{try{if(!j)return;const ae=C.current;if(!ae)return;ae.contains(O.target)||n(!1)}catch{}},I=O=>{O.key==="Escape"&&j&&n(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N,{passive:!0}),document.addEventListener("keydown",I),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N),document.removeEventListener("keydown",I)}},[j]);const _=()=>x.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose tone",i)}):e.jsx("div",{className:"flex items-center space-x-2",children:x.map(N=>{const I=[...l,...f].find(O=>O.id===N);return I?e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsx(I.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),e.jsx("span",{className:"text-sm text-gray-800 font-medium",children:I.label.split(" ")[0]})]},N):null})}),F=()=>{if(!g||g.length===0)return e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose style",i)});const N=g[0],I=z.find(O=>O.id===N);return I?e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsx(I.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),e.jsx("span",{className:"text-sm text-gray-800 font-medium",children:I.label.split(" ")[0]})]})}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Choose style",i)})};return e.jsxs("div",{ref:C,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[e.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),e.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Choose Your Tone & Style",i)})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>n(N=>!N),"aria-haspopup":"listbox","aria-expanded":j,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"flex items-center",children:_()}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),j&&e.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[e.jsx("ul",{ref:T,role:"listbox","aria-label":"Tone",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:[...l,...f].map(N=>{const I=!x.includes(N.id)&&x.length>=2;return e.jsxs("li",{role:"option","aria-selected":x.includes(N.id),tabIndex:I?-1:0,onClick:()=>!I&&y(N.id),onKeyDown:O=>{!I&&(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),y(N.id))},className:`flex items-center p-3 hover:bg-gray-50 cursor-pointer ${I?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(N.Icon,{className:`w-5 h-5 mr-3 ${x.includes(N.id)?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:N.label})}),x.includes(N.id)&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)]"})]},N.id)})}),e.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:t("Tip: choose up to two tones. Selected tones help creators match style.",i)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>v(N=>!N),"aria-haspopup":"listbox","aria-expanded":h,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"flex items-center",children:F()}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),h&&e.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[e.jsx("ul",{ref:k,role:"listbox","aria-label":"Style",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:z.map(N=>{const I=g.includes(N.id);return e.jsxs("li",{role:"option","aria-selected":I,tabIndex:0,onClick:()=>W(N.id),onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),W(N.id))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer ",children:[e.jsx(N.Icon,{className:`w-5 h-5 mr-3 ${I?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:N.label})}),I&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)]"})]},N.id)})}),e.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:t("Tip: choose a style to help communicate visual approach.",i)})]})]})]})]})},bt=({selectedLength:x,setSelectedLength:s,customLength:g,setCustomLength:m,selectedLanguage:i="English"})=>{const j=[{id:"short-form",label:t("Short Form",i),duration:t("15 sec – 1 min",i),description:t("Quick insights, reactions, jokes, highlights – TikTok/Reel style",i)},{id:"standard",label:t("Standard",i),duration:t("2–5 min",i),description:t("Mini explanations, challenges, creative short stories, tutorials",i)},{id:"extended",label:t("Extended",i),duration:t("6–15 min",i),description:t("Deeper dives, analyses, vlogs, storytime, discussions",i)},{id:"long-form",label:t("Long Form",i),duration:t("16–30+ min",i),description:t("Documentaries, interviews, or in-depth guides",i)},{id:"custom",label:t("Custom",i),duration:t("User defined",i),description:t("Let creators decide what fits best",i)}];return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),e.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("How long should your video be?",i)})]}),!localStorage.getItem("ideas_examples_seen_v1")&&e.jsxs("div",{className:"rounded-xl cream-glow-box p-5",style:{background:"radial-gradient(circle at 16% 16%, rgba(var(--color-gold-rgb,203,138,0),0.08), rgba(var(--color-gold-rgb,203,138,0),0.02) 26%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.10)",boxShadow:"inset 0 4px 12px rgba(var(--color-gold-rgb,203,138,0),0.02)"},children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ir,{className:"w-5 h-5 text-[var(--color-gold)] mr-2"}),e.jsx("h3",{className:"text-sm font-normal text-gray-700",children:t("Examples for video length:",i)})]}),e.jsxs("ul",{className:"space-y-2 text-xs text-gray-600 list-none pl-0",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Short Form (15s–1m):",i)})," ",t("Quick tips, reactions, TikTok/Reels-style content",i)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Standard (2–5m):",i)})," ",t("Tutorials, challenges, product demos, reviews",i)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Extended (6–15m):",i)})," ",t("Deep dives, vlogs, detailed explanations, discussions",i)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Long Form (16–30m+):",i)})," ",t("Documentaries, interviews, masterclasses, podcasts",i)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800",children:t("Custom:",i)})," ",t("Let creators choose based on your content",i)]})]})]}),e.jsx(Ms,{lengths:j,selectedLength:x,setSelectedLength:s,customLength:g,setCustomLength:m,selectedLanguage:i})]})},Ms=({lengths:x,selectedLength:s,setSelectedLength:g,customLength:m,setCustomLength:i,selectedLanguage:j="English"})=>{const[n,h]=a.useState(!1),v=a.useRef(null),T=a.useRef(null);a.useEffect(()=>{const l=f=>{n&&(v.current&&v.current.contains(f.target)||T.current&&T.current.contains(f.target)||h(!1))};return document.addEventListener("mousedown",l),document.addEventListener("touchstart",l),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("touchstart",l)}},[n]);const k=l=>{g(l),h(!1)},C=x.find(l=>l.id===s);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:T,type:"button","aria-haspopup":"listbox","aria-expanded":n,onClick:()=>h(l=>!l),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"text-left",children:[C?e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(C.label,j)}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Select preferred video length",j)}),e.jsx("div",{className:"text-xs text-gray-400",children:C?t(C.duration,j):""})]}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),n&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{ref:v,role:"listbox","aria-label":"Video lengths",className:"divide-y divide-gray-100",children:x.map(l=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===l.id,onClick:()=>k(l.id),onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),k(l.id))},className:`p-3 flex items-start cursor-pointer hover:bg-gray-50 ${s===l.id?"bg-[var(--color-gold-cream)]":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${s===l.id?"text-gray-900":"text-gray-800"}`,children:t(l.label,j)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(l.duration,j)}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:t(l.description,j)}),l.id==="custom"&&s==="custom"&&e.jsx("div",{className:"mt-3",onClick:f=>f.stopPropagation(),children:e.jsx("input",{type:"text",placeholder:t("Enter desired length (e.g. 45 mins)",j),value:m,onChange:f=>i(f.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all",autoFocus:!0})})]}),s===l.id&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},l.id))})})]})},Hr=({options:x,selected:s,setSelected:g,selectedLanguage:m="English"})=>{const[i,j]=a.useState(!1),n=a.useRef(null),h=a.useRef(null);a.useEffect(()=>{const k=C=>{i&&(n.current&&n.current.contains(C.target)||h.current&&h.current.contains(C.target)||j(!1))};return document.addEventListener("mousedown",k),document.addEventListener("touchstart",k),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("touchstart",k)}},[i]);const v=k=>{g(k),j(!1)},T=x.find(k=>k.type===s);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:h,type:"button","aria-haspopup":"listbox","aria-expanded":i,onClick:()=>j(k=>!k),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"text-left",children:[T?e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(T.title,m)}):e.jsx("div",{className:"text-sm text-gray-500",children:t("Select frequency",m)}),e.jsx("div",{className:"text-xs text-gray-400",children:T?t(T.subtitle,m):""})]}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),i&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{ref:n,role:"listbox","aria-label":"Frequency options",className:"divide-y divide-gray-100",children:x.map(k=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===k.type,onClick:()=>v(k.type),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),v(k.type))},className:`p-3 flex items-start cursor-pointer hover:bg-gray-50 ${s===k.type?"bg-[var(--color-gold-cream)]":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${s===k.type?"text-gray-900":"text-gray-800"}`,children:t(k.title,m)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(k.subtitle,m)})]}),s===k.type&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},k.type))})})]})},qs=({files:x,setFiles:s,links:g,setLinks:m,selectedLanguage:i="English"})=>{const j=a.useRef(null),[n,h]=a.useState(""),v=l=>{l.target.files&&l.target.files.length>0&&s([...x,...Array.from(l.target.files)])},T=()=>{n.trim()&&(m([...g,n.trim()]),h(""))},k=l=>{s(x.filter((f,y)=>y!==l))},C=l=>{m(g.filter((f,y)=>y!==l))};return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{onClick:()=>j.current.click(),className:"border-2 border-dashed border-gray-200 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:bg-[var(--bg)] transition-colors cursor-pointer bg-[var(--surface)]",children:[e.jsx("input",{type:"file",multiple:!0,className:"hidden",ref:j,onChange:v}),e.jsx("div",{className:"p-3 bg-gray-100 rounded-full mb-3",children:e.jsx(cr,{className:"w-6 h-6 text-gray-500"})}),e.jsx("h3",{className:"text-sm font-normal text-gray-700",children:t("Upload reference files",i)}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Images, videos, PDFs, documents",i)})]}),x.length>0&&e.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:x.map((l,f)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(cr,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 truncate",children:l.name})]}),e.jsx("button",{onClick:()=>k(f),className:"text-gray-400 hover:text-red-500 ml-2",children:e.jsx(ze,{className:"w-4 h-4"})})]},f))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:t("Add reference links",i)+"...",value:n,onChange:l=>h(l.target.value),onKeyDown:l=>l.key==="Enter"&&T(),className:"flex-1 p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all"}),e.jsx("button",{onClick:T,className:"p-4 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),g.length>0&&e.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:g.map((l,f)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(dr,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-blue-600 truncate underline",children:l})]}),e.jsx("button",{onClick:()=>C(f),className:"text-gray-400 hover:text-red-500 ml-2",children:e.jsx(ze,{className:"w-4 h-4"})})]},f))})]})},Vr=({selectedDates:x,setSelectedDates:s,selectedLanguage:g="English"})=>{const[m,i]=a.useState(new Date),j=f=>new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),n=f=>new Date(f.getFullYear(),f.getMonth(),1).getDay(),h=f=>{const y=new Date(m.getFullYear(),m.getMonth(),f).toDateString();x.includes(y)?s(x.filter(z=>z!==y)):s([...x,y])},v=j(m),T=n(m),k=Array.from({length:v},(f,y)=>y+1),C=Array.from({length:T},(f,y)=>y),l=[t("January",g),t("February",g),t("March",g),t("April",g),t("May",g),t("June",g),t("July",g),t("August",g),t("September",g),t("October",g),t("November",g),t("December",g)];return e.jsxs("div",{className:"mt-4 p-4 bg-[var(--surface)] rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>i(new Date(m.getFullYear(),m.getMonth()-1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:e.jsx(ks,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[l[m.getMonth()]," ",m.getFullYear()]}),e.jsx("button",{onClick:()=>i(new Date(m.getFullYear(),m.getMonth()+1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:e.jsx(Ss,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map((f,y)=>e.jsx("div",{className:"text-xs font-medium text-gray-400",children:f},y))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[C.map(f=>e.jsx("div",{},`blank-${f}`)),k.map(f=>{const y=new Date(m.getFullYear(),m.getMonth(),f).toDateString(),z=x.includes(y);return e.jsx("div",{onClick:W=>{W.stopPropagation(),h(f)},className:`
                                h-8 w-8 flex items-center justify-center rounded-full text-sm cursor-pointer transition-colors
                                ${z?"bg-[var(--color-gold)] text-white":"hover:bg-[var(--bg)] text-gray-700"}
                            `,children:f},f)})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500 text-center",children:[x.length," dates selected"]})]})},zs=({description:x,setDescription:s,title:g,setTitle:m,MAX_CHARS:i,seriesStep:j,numberOfEpisodes:n,setNumberOfEpisodes:h,selectedReleaseSchedule:v,setSelectedReleaseSchedule:T,customSeriesDates:k,setCustomSeriesDates:C,selectedLanguage:l="English"})=>{const f=[{id:"all-at-once",label:t("All at once",l),icon:Pt},{id:"weekly",label:t("Weekly",l),icon:ur},{id:"monthly",label:t("Monthly",l),icon:mr},{id:"custom",label:t("Custom Dates",l),icon:nt}],[y,z]=a.useState(!1),W=a.useRef(null),_=a.useRef(null);return a.useEffect(()=>{const F=N=>{y&&(W.current&&W.current.contains(N.target)||_.current&&_.current.contains(N.target)||z(!1))};return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[y]),j===1?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this series.",l)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const F=document.getElementById("description-input");F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),F.focus(),F.classList.add("jump-highlight"),setTimeout(()=>F.classList.remove("jump-highlight"),900))},children:t("Edit",l)})]})}):j===2?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Format selected! Now detail your series.",l)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this series.",l)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const F=document.getElementById("description-input");F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),F.focus(),F.classList.add("jump-highlight"),setTimeout(()=>F.classList.remove("jump-highlight"),900));const N=document.getElementById("title-input");N&&setTimeout(()=>{N.focus(),N.classList.add("jump-highlight"),setTimeout(()=>N.classList.remove("jump-highlight"),900)},300)},children:t("Edit",l)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How many episodes would you like?",l)}),e.jsxs("div",{className:"relative",style:{maxWidth:220},children:[e.jsxs("button",{ref:_,type:"button",onClick:()=>z(F=>!F),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-4 h-4 text-gray-500"}),e.jsx("div",{className:"text-lg font-semibold",children:n}),e.jsx("span",{className:"text-xs text-gray-400",children:t("episodes",l)})]}),e.jsx($t,{className:"w-4 h-4 text-gray-500"})]}),y&&e.jsxs("div",{ref:W,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>h(Math.max(1,n-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease episodes",children:e.jsx(Ie,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",value:n,onChange:F=>{const N=Math.max(1,parseInt(F.target.value||"0",10)||1);h(N)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of episodes"}),e.jsx("button",{onClick:()=>h(n+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase episodes",children:e.jsx($t,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(F=>e.jsx("button",{onClick:()=>{h(F),z(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:F},F))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How often would you like personalized videos delivered?",l)}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick a rhythm creators should follow (daily, weekly, monthly, or custom)."}),e.jsx("div",{className:"w-full",children:e.jsx(Hr,{options:f.map(F=>({type:F.id,title:F.label,subtitle:F.label})),selected:v,setSelected:T,selectedLanguage:l})}),v==="custom"&&e.jsx(Vr,{selectedDates:k,setSelectedDates:C})]})]}):null},Bs=({value:x,setValue:s,selectedLanguage:g="English"})=>{const[m,i]=a.useState(!1),j=a.useRef(null),n=a.useRef(null);return a.useEffect(()=>{const h=v=>{m&&(j.current&&j.current.contains(v.target)||n.current&&n.current.contains(v.target)||i(!1))};return document.addEventListener("mousedown",h),document.addEventListener("touchstart",h),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("touchstart",h)}},[m]),e.jsxs("div",{className:"relative",style:{maxWidth:220},children:[e.jsxs("button",{ref:n,type:"button",onClick:()=>i(h=>!h),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-4 h-4 text-gray-500"}),e.jsx("div",{className:"text-lg font-semibold",children:x}),e.jsx("span",{className:"text-xs text-gray-400",children:t("videos",g)})]}),e.jsx($t,{className:"w-4 h-4 text-gray-500"})]}),m&&e.jsxs("div",{ref:j,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>s(Math.max(1,(x||0)-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease videos",children:e.jsx(Ie,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",value:x,onChange:h=>{const v=Math.max(1,parseInt(h.target.value||"0",10)||1);s(v)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of videos"}),e.jsx("button",{onClick:()=>s((x||0)+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase videos",children:e.jsx($t,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(h=>e.jsx("button",{onClick:()=>{s(h),i(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:h},h))})]})]})},Os=({description:x,setDescription:s,title:g,setTitle:m,MAX_CHARS:i,catalogueStep:j,targetVideos:n,setTargetVideos:h,themes:v,setThemes:T,selectedLanguage:k="English"})=>j===1?e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this catalogue.",k)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const C=document.getElementById("description-input");C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.focus(),C.classList.add("jump-highlight"),setTimeout(()=>C.classList.remove("jump-highlight"),900))},children:t("Edit",k)})]})}):j===2?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{className:"tracking-tight",children:t("Catalogue selected — set target videos and themes.",k)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:t("Using the Description and Title you entered above for this catalogue.",k)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const C=document.getElementById("description-input");C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.focus(),C.classList.add("jump-highlight"),setTimeout(()=>C.classList.remove("jump-highlight"),900))},children:t("Edit",k)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("How many videos would you like?",k)}),e.jsx(Bs,{value:n,setValue:h,selectedLanguage:k})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:t("Which themes or categories should we cover?",k)}),e.jsx("textarea",{rows:"4",placeholder:t("List the themes or categories to cover (e.g., 'Breakfast, Lunch, Dinner, Snacks')",k),value:v,onChange:C=>T(C.target.value),className:"w-full p-4 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 outline-none text-base"})]})]}):null,yt=({selectedPrivacy:x,setSelectedPrivacy:s,prevStepCompleted:g=!1,selectedLanguage:m="English"})=>{const i=[{id:"public",label:t("Public",m),icon:ws,desc:t("Visible to everyone",m),price:null},{id:"unlisted",label:t("Unlisted",m),icon:dr,desc:t("Only people with the link",m),price:"+$5.99"},{id:"private",label:t("Private",m),icon:cs,desc:t("Only you",m),price:null}],[j,n]=a.useState(!1),h=a.useRef(null);return e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsx("div",{className:"space-y-2 text-left",children:e.jsxs("div",{className:"relative",ref:h,children:[e.jsx("style",{children:`
                .privacy-outline-svg { position: absolute; inset: 0; pointer-events: none; overflow: visible; }
                .privacy-outline-base { stroke: rgba(226,232,240,1); stroke-width: 1.5; fill: none; stroke-linejoin: round; }

                /* Perimeter for rect(97x37) = 2*(97+37) = 268
                   The short "moving snake" length is increased to 597 (3×199)
                   so the animated gradient band appears longer while still
                   remaining shorter than the full perimeter. */
                /* Tail (gradient) - use the longer moving band length (597) */
                .privacy-outline-accent {
                  stroke: url(#privacyGrad);
                  stroke-width: 3.0;
                  fill: none;
                  stroke-linejoin: round;
                  stroke-linecap: round;
                  /* moving band length (199) — keep <= perimeter so animation is visible */
                  stroke-dasharray: 199;
                  stroke-dashoffset: 0;
                  opacity: 1;
                  transform-origin: center;
                }
                .privacy-outline-accent.run {
                  opacity: 1;
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* moving rect styling (explicit) - prevents small square artifacts at corners */
                .privacy-outline-mover {
                  stroke: url(#privacyGrad);
                  stroke-width: 3.0;
                  fill: none;
                  stroke-linejoin: round;
                  stroke-linecap: round;
                  /* match moving band length so animation is visible */
                  stroke-dasharray: 199;
                  stroke-dashoffset: 0;
                  opacity: 1;
                }
                .privacy-outline-mover.run {
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* Head (solid comet) sits on top of the moving tail and gives a moving point */
                .privacy-outline-head {
                  stroke: var(--color-accent);
                  stroke-width: 4.0;
                  fill: none;
                  stroke-linecap: round;
                  /* head length (24) + gap so total equals the moving band (199) */
                  stroke-dasharray: 24 175; /* 24 + 175 = 199 */
                  stroke-dashoffset: 0;
                  opacity: 1.0;
                }
                .privacy-outline-head.run {
                  opacity: 1;
                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;
                }

                /* move dashoffset negative to travel clockwise around the rect
                   use the new moving band length (597) for a full loop offset */
                @keyframes privacy-run {
                  from { stroke-dashoffset: 0; }
                  to { stroke-dashoffset: -199; }
                }
              `}),e.jsxs("button",{type:"button",onClick:()=>n(v=>!v),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm relative overflow-visible","aria-haspopup":"listbox","aria-expanded":j,style:{zIndex:1},children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Who should be able to see your video?",m)}),e.jsx("div",{className:"text-sm text-gray-500",children:t((i.find(v=>v.id===x)||{}).label||"Select visibility",m)})]}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),e.jsxs("svg",{className:"privacy-outline-svg",viewBox:"0 0 100 40",preserveAspectRatio:"none","aria-hidden":!0,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"privacyGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"transparent",stopOpacity:"0"}),e.jsx("stop",{offset:"8%",stopColor:"var(--color-accent)",stopOpacity:"0.18"}),e.jsx("stop",{offset:"30%",stopColor:"var(--color-accent)",stopOpacity:"0.95"}),e.jsx("stop",{offset:"80%",stopColor:"var(--color-accent)",stopOpacity:"0.4"}),e.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),e.jsx("clipPath",{id:"privacyClip",children:e.jsx("rect",{x:"2.5",y:"2.5",width:"95",height:"35",rx:"11"})})]}),e.jsx("rect",{x:"1.5",y:"1.5",width:"97",height:"37",rx:"12",className:"privacy-outline-base"})]}),j&&e.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{role:"listbox",className:"divide-y divide-gray-100",children:i.map(v=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":x===v.id,onClick:()=>{s(v.id),n(!1)},onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),s(v.id),n(!1))},className:"p-3 flex items-start cursor-pointer hover:bg-gray-50",children:[e.jsx(v.icon,{className:`w-5 h-5 mr-3 mt-0.5 ${x===v.id?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:`text-sm font-medium ${x===v.id?"text-gray-900":"text-gray-700"}`,children:t(v.label,m)}),v.price&&e.jsx("div",{className:"text-sm font-normal text-gray-900",children:v.price})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:t(v.desc,m)})]}),x===v.id&&e.jsx("div",{className:"ml-3 mt-0.5",children:e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)]"})})]},v.id))})})]})})})},vt=({title:x,description:s,selectedDeliveryType:g,selectedTones:m,selectedVideoLength:i,customVideoLength:j,selectedPrivacy:n,selectedFrequency:h,customRecurrentDates:v,numberOfEpisodes:T,selectedReleaseSchedule:k,customSeriesDates:C,targetVideos:l,themes:f,uploadedFiles:y,referenceLinks:z,customPrice:W,setCustomPrice:_,editingPrice:F,setEditingPrice:N,priceInput:I,setPriceInput:O,priceInputRef:ae,savePrice:Be,displayPrice:oe,sanitizePriceInput:Oe,onEdit:D,onSaveReview:K,selectedLanguage:p="English"})=>{const J=()=>({"short-form":t("Short Form",p),standard:t("Standard",p),extended:t("Extended",p),"long-form":t("Long Form",p)})[i]||i,ge=()=>({public:t("Public",p),unlisted:t("Unlisted",p)+" (+$5.99)",private:t("Private",p)+" (+$9.99)"})[n]||n,[$e,Pe]=a.useState(!1),Re=120,E=s&&s.length>Re;$e||!E||s&&s.substring(0,Re)+"";const[P,Y]=a.useState(null),[te,G]=a.useState({title:x||"",description:s||"",delivery:g||"",frequency:h||null,length:i||null,customLength:j||"",privacy:n||null,price:typeof W=="number"?W:oe||0,tones:m||[],themes:f||""});a.useEffect(()=>{G({title:x||"",description:s||"",delivery:g||"",frequency:h||null,length:i||null,customLength:j||"",privacy:n||null,price:typeof W=="number"?W:oe||0,tones:m||[],themes:f||""})},[x,s,g,h,i,j,n,W,m,f]);const be=B=>{if(B==="price"&&typeof _=="function"&&_(Number(te.price)||0),typeof K=="function")try{K(te)}catch{}Y(null)};return e.jsxs("div",{className:"relative ideas-review-root animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("style",{children:`
        .review-card { border-radius: 14px; }
        .field-edit-actions { display:flex; gap:8px; margin-top:8px; }
      `}),e.jsxs("div",{className:"relative p-5 bg-[var(--surface)] border border-gray-200 review-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("Review Your Request",p)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t("A final look before submission",p)})]}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 border-b border-gray-200 pb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("TITLE",p)}),P!=="title"?e.jsx("button",{onClick:()=>Y("title"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(nt,{className:"w-4 h-4"})}):null]}),P==="title"?e.jsxs("div",{children:[e.jsx("input",{value:te.title,onChange:B=>G({...te,title:B.target.value}),className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),e.jsxs("div",{className:"field-edit-actions",children:[e.jsx("button",{onClick:()=>be("title"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,title:x||""})),Y(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]}):e.jsx("p",{className:"text-lg font-semibold text-gray-900","aria-label":"Request title",children:te.title||x||`(${t("No title",p)})`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("DESCRIPTION",p)}),P!=="description"?e.jsx("button",{onClick:()=>Y("description"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(nt,{className:"w-4 h-4"})}):null]}),P==="description"?e.jsxs("div",{children:[e.jsx("textarea",{value:te.description,onChange:B=>G({...te,description:B.target.value}),rows:4,className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),e.jsxs("div",{className:"field-edit-actions",children:[e.jsx("button",{onClick:()=>be("description"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,description:s||""})),Y(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]}):e.jsx("p",{className:"text-gray-700",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:te.description||s||`(${t("No description",p)})`})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("FORMAT",p)}),e.jsx("p",{className:"text-gray-900 font-medium capitalize",children:t(g==="one-time"?"One-Time":g?g.charAt(0).toUpperCase()+g.slice(1):"",p)||te.delivery||"—"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("LENGTH",p)}),e.jsx("p",{className:"text-gray-900",children:J()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("PRIVACY",p)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-900",children:ge()}),e.jsx("button",{onClick:()=>Y("privacy"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(nt,{className:"w-4 h-4"})})]}),P==="privacy"&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"public"})),be("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Public",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"unlisted"})),be("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Unlisted",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,privacy:"private"})),be("privacy")},className:"px-3 py-1 rounded-lg border",children:t("Private",p)})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:t("BUDGET",p)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["$",Number(te.price||0).toFixed(2)]}),e.jsx("button",{onClick:()=>Y("budget"),className:"text-gray-400 hover:text-gray-600",children:e.jsx(nt,{className:"w-4 h-4"})})]}),P==="budget"&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("input",{type:"number",value:te.price,onChange:B=>G(Ge=>({...Ge,price:B.target.value})),className:"p-2 rounded-lg border"}),e.jsx("button",{onClick:()=>be("price"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:t("Save",p)}),e.jsx("button",{onClick:()=>{G(B=>({...B,price:oe||0})),Y(null)},className:"px-3 py-2 rounded-lg border",children:t("Cancel",p)})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:D,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:t("Edit Request",p)})})]})]})},wa=()=>{const x=ls(),[s,g]=a.useState(()=>{try{return localStorage.getItem("regaarder_language")||"English"}catch{return"English"}}),m=300,i=10,j=5,[n,h]=a.useState(null),[v,T]=a.useState(!1),[k,C]=a.useState(!1),[l,f]=a.useState(""),[y,z]=a.useState(()=>{try{const r=new URLSearchParams(window.location.search||"");return r.get("q")||r.get("term")||r.get("search")||""}catch{return""}}),[W,_]=a.useState(!1),[F,N]=a.useState(!1),[I,O]=a.useState(""),[ae,Be]=a.useState([]),[oe,Oe]=a.useState([]),[D,K]=a.useState(1),[p,J]=a.useState(1),[ge,$e]=a.useState(null),[Pe,Re]=a.useState([]),[E,P]=a.useState(1),[Y,te]=a.useState(5),[G,be]=a.useState(null),[B,Ge]=a.useState([]),[R,re]=a.useState(1),[wt,Ut]=a.useState(0),[xe,pe]=a.useState(null),[Te,Ue]=a.useState(!1),[Ye,he]=a.useState("0.00"),Fe=a.useRef(null),[Yt,ce]=a.useState(!1),[de,me]=a.useState(null),[X,He]=a.useState(25),[fe,Ht]=a.useState("creator"),Wr=[15,25,50,100],[d,Xe]=a.useState(null),[jt,Nt]=a.useState(null),[Ve,Qe]=a.useState(""),[kt,xr]=a.useState(!1),[pr,hr]=a.useState(!1),[ct,Ze]=a.useState(null),[St,Ct]=a.useState(!1),[Jr,Et]=a.useState(!1),[Lr,It]=a.useState(null);a.useEffect(()=>{if(pr){xr(!0);try{setTimeout(()=>{We.current&&We.current.focus()},80)}catch{}}},[pr]);const[Kr,fr]=a.useState(!1),ye=a.useRef(null),[gr,Vt]=a.useState(!1),V=a.useRef(null),Wt=()=>{try{if(localStorage.getItem("ideas_examples_seen_v1"))return;Vt(!0),localStorage.setItem("ideas_examples_seen_v1","1")}catch{}},[br,dt]=a.useState(null),[$s,Jt]=a.useState(!1),ve=a.useRef(null),we=a.useRef(null),Lt=a.useRef(null),Kt=a.useRef(null),Gt=a.useRef(null);a.useEffect(()=>()=>{Kt.current&&(clearTimeout(Kt.current),Kt.current=null),Gt.current&&(clearTimeout(Gt.current),Gt.current=null)},[gr,n]),a.useEffect(()=>{if(y&&y.length>=j){if(ye.current&&clearTimeout(ye.current),ye.current=setTimeout(()=>fr(!0),1e3),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}try{if(typeof IntersectionObserver<"u"&&Lt.current){const r=new IntersectionObserver(o=>{o.forEach(c=>{if(c.isIntersecting){Wt();try{r.disconnect()}catch{}V.current=null}})},{root:null,rootMargin:"0px 0px 400px 0px",threshold:0});r.observe(Lt.current),V.current=r}else V.current=setTimeout(()=>Wt(),6100)}catch{V.current=setTimeout(()=>Wt(),6100)}}else{if(ye.current&&(clearTimeout(ye.current),ye.current=null),fr(!1),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}Vt(!1)}return()=>{if(ye.current&&(clearTimeout(ye.current),ye.current=null),V.current){try{V.current instanceof IntersectionObserver?V.current.disconnect():clearTimeout(V.current)}catch{}V.current=null}}},[y,j]),a.useEffect(()=>(n?(ve.current&&clearTimeout(ve.current),we.current&&clearTimeout(we.current),dt(null),Jt(!1),ve.current=setTimeout(()=>{const r={series:t("Series selected — now configure episode details.",s),catalogue:t("Catalogue selected — set target videos and themes.",s),recurrent:t("Recurrent selected — choose a delivery frequency.",s),"one-time":t("One-Time selected — next step: Tone & Style.",s)};dt(r[n]||null)},400),we.current=setTimeout(()=>{Jt(!0)},4800)):(ve.current&&clearTimeout(ve.current),we.current&&clearTimeout(we.current),ve.current=null,we.current=null,dt(null),Jt(!1)),()=>{ve.current&&(clearTimeout(ve.current),ve.current=null),we.current&&(clearTimeout(we.current),we.current=null)}),[n]),a.useEffect(()=>{try{let r=document.getElementById("ideas-theme-styles");r||(r=document.createElement("style"),r.id="ideas-theme-styles",document.head.appendChild(r));const o=`
        :root { --brand-gold: var(--color-gold); --color-gold-cream: rgba(255, 242, 199, 1); }
        @keyframes shimmer-gold-premium { 0% { background-position: 100% 0; } 40% { background-position: 0% 0; } 100% { background-position: 0% 0; } }
        .shimmer-gold { background: linear-gradient(100deg, var(--color-gold) 0%, var(--color-gold) 42%, var(--color-gold-cream) 45%, var(--color-gold-cream) 55%, var(--color-gold) 58%, var(--color-gold) 100%); background-size: 300% 100%; animation: shimmer-gold-premium 3s ease-in-out infinite; }
        @keyframes pulse-ring { 0% { box-shadow: 0 0 0 0 var(--color-gold); } 70% { box-shadow: 0 0 0 12px rgba(0,0,0,0); } 100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); } }
        .pulse-price { animation: pulse-ring 2.2s infinite; }

        /* Sweeping text: white overlay that passes over the heading without tinting it. */
        .sweeping-text-container { position: relative; display: inline-block; overflow: hidden; z-index: 1; }
        .sweep-effect { position: absolute; top: 0; left: -40%; height: 100%; width: 60%; pointer-events: none; border-radius: 8px;
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.95) 50%, rgba(255,255,255,0) 100%);
            mix-blend-mode: normal; transform: translateX(0); animation: sweep-anim 2000ms ease-in-out forwards; z-index: 0; }
        @keyframes sweep-anim { 0% { transform: translateX(-120%); opacity: 0; } 8% { opacity: 1; } 85% { transform: translateX(120%); opacity: 1; } 100% { transform: translateX(120%); opacity: 0; } }
        
        /* Ensure the Ideas page elements adopt the page background so inputs and panels blend */
        .ideas-root .bg-white { background-color: var(--surface) !important; box-shadow: none !important; }
        .ideas-root input, .ideas-root textarea, .ideas-root select, .ideas-root .rounded-xl, .ideas-root .rounded-2xl { background-color: #F8F8FA !important; }
        .ideas-root .border-gray-200 { border-color: rgba(15,23,42,0.06) !important; }

        .ideas-root h2, .ideas-root h3, .ideas-root h4, .ideas-root h5, .ideas-root .text-lg, .ideas-root .text-xl, .ideas-root .text-2xl, .ideas-root input, .ideas-root textarea, .ideas-root label {
          font-size: 1rem !important;
          line-height: 1.2 !important;
        }

        /* Exclude the main animated page title (keeps its larger size) */
        .ideas-root .cream-glow-box h1 { font-size: 30px !important; line-height: 1.05 !important; }
        
        /* Payment modal revamp styles */
        .payment-modal-panel { background: #ffffff; border-radius: 14px; padding: 28px; border: 1px solid rgba(15,23,42,0.04); box-shadow: 0 20px 40px rgba(2,6,23,0.08); }
        .payment-modal-header { display:flex; align-items:flex-start; justify-content:space-between; gap:16px; }
        .payment-modal-title { font-size:18px; font-weight:700; color: #0f172a; margin:0; }
        .payment-modal-sub { color:#6b7280; font-size:13px; margin-top:6px; }
        .preset-row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
        .preset-btn { min-width:92px; display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 16px; border-radius:12px; font-weight:700; cursor:pointer; border:1px solid rgba(15,23,42,0.04); }
        .preset-btn.bg-primary { background: linear-gradient(90deg, var(--color-primary), #7a3af0); color:white; box-shadow: 0 8px 20px rgba(122,58,240,0.18); }
        .preset-btn.bg-gray { background:#fafafa; color:#0f172a; }
        .preset-price { font-weight:800; }
        .preset-badge { margin-left:6px; padding:4px 7px; background: rgba(15,23,42,0.04); border-radius:9999px; font-size:12px; font-weight:700; }
        .amount-row { display:flex; align-items:center; justify-content:space-between; gap:12px; }
        .amount-input { width:96px; padding:10px 12px; border-radius:10px; border:1px solid rgba(15,23,42,0.06); }
        .payment-cta { display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:12px 22px; border-radius:12px; background: linear-gradient(90deg, var(--color-primary), #7a3af0); color:white; font-weight:800; box-shadow: 0 10px 30px rgba(122,58,240,0.18); border: none; cursor: pointer; }
        .modal-trust { display:flex; align-items:center; gap:10px; color:#6b7280; font-size:13px; margin-top:12px; }
        .provider-list { margin-top:6px; display:flex; flex-direction:column; gap:8px; }
        .provider-item { padding:10px 12px; border-radius:10px; border:1px solid transparent; cursor:default; }
        .provider-item.highlight { border-color: rgba(122,58,240,0.12); background: rgba(122,58,240,0.03); }
        .payment-footer { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:18px; }
        
        input[type=range] {
          -webkit-appearance: none; appearance: none; width: 100%; height: 8px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); border-radius: 999px;
        }
        input[type=range]::-webkit-slider-runnable-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; border-radius: 50%; margin-top: -5px; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }
        input[type=range]::-moz-range-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }
        input[type=range]::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }
      `;r.textContent=Fs+o}catch{}},[]);const We=a.useRef(null),[Je,yr]=a.useState([]),et=(function(){if(window&&window.__BACKEND_URL__)return window.__BACKEND_URL__;const r=window.location.protocol,o=window.location.hostname;return`${r}//${o}:4000`})();a.useEffect(()=>{try{if(new URLSearchParams(window.location.search).get("payment_success")==="true"){const o=localStorage.getItem("pending_payment_data"),c=new URL(window.location.href);if(c.searchParams.delete("payment_success"),c.searchParams.delete("session_id"),window.history.replaceState({},"",c),o){try{const u=JSON.parse(o);if(!u.backendSynced){console.log("[payment_success] Syncing pending submission"),sr(u.amount||0,u).then(()=>{console.log("[payment_success] Sync complete"),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},150)}).catch(b=>{console.error("[payment_success] Sync failed:",b),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},150)});return}}catch{}localStorage.removeItem("pending_payment_data")}setTimeout(()=>{try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},300)}}catch(r){console.warn("Failed to handle payment return",r)}},[]),a.useEffect(()=>{let r=!1;return kt&&(async()=>{try{const c=await fetch(`${et}/users`);if(!c.ok)return;const u=await c.json();if(!u||!Array.isArray(u.users))return;const b=()=>{const w=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"];return w[Math.floor(Math.random()*w.length)]},M=u.users.filter(w=>w.isCreator).map(w=>({id:w.id||w.email||w.name,name:w.handle||w.tag||`@${(w.name||"").toLowerCase()}`,displayName:w.name||w.handle||w.tag,photoURL:w.photoURL||w.image||w.avatar,price:w.price||w.rate||0,fallbackColor:b()}));if(r)return;M.length>0&&yr(M)}catch(c){console.warn("Failed to load creators",c)}})(),()=>{r=!0}},[kt]);const Rt=(()=>{const r=String(Ve||"").trim();if(!r)return Je;const o=r.startsWith("@")?r.toLowerCase():"@"+r.toLowerCase();return Je.filter(c=>String(c.name||"").toLowerCase().includes(o)||String(c.displayName||"").toLowerCase().includes(r.toLowerCase()))})();a.useEffect(()=>{try{Yt?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="",document.body.style.touchAction="")}catch{}return()=>{try{document.body.style.overflow="",document.body.style.touchAction=""}catch{}}},[Yt]);const ne=(r,o={})=>{try{console.log("[analytics]",r,o)}catch{}};a.useEffect(()=>{kt&&(Qe(""),setTimeout(()=>{We.current&&We.current.focus()},240))},[kt]),a.useEffect(()=>{let r=!1;const o=async()=>{try{const c=await fetch(`${et}/users`);if(!c.ok)return;const u=await c.json();if(!u||!Array.isArray(u.users))return;const b=()=>{const w=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"];return w[Math.floor(Math.random()*w.length)]},M=u.users.filter(w=>w.isCreator).map(w=>({id:w.id||w.email||w.name,name:w.handle||w.tag||`@${(w.name||"").toLowerCase()}`,displayName:w.name||w.handle||w.tag,photoURL:w.photoURL||w.image||w.avatar,price:w.price||w.rate||0,fallbackColor:b()}));if(r)return;M.length>0&&yr(M)}catch(c){console.warn("Failed to load creators",c)}};return St&&Je.length===0&&o(),()=>{r=!0}},[St]);const le=typeof xe=="number"?xe:0;a.useEffect(()=>{Te&&(he((le||0).toFixed(2)),setTimeout(()=>{Fe.current&&Fe.current.focus()},0))},[Te]);const vr=r=>{if(!r)return"";const[o,c]=r.split("."),b=(o.replace(/^0+(?=\d)/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",");return c!==void 0?`${b}.${c}`:b},tt=r=>{if(r==null)return"";let o=String(r).replace(/[^0-9.]/g,"");const c=o.split(".");if(c.length>1&&(o=c[0]+"."+c.slice(1).join("")),o.includes(".")){const[u,b]=o.split("."),M=(b||"").slice(0,2);return vr(u)+(M.length?`.${M}`:".")}return vr(o)},Gr=r=>{if(r==null||isNaN(r))return"";const o=Number(r).toFixed(2),[c,u]=o.split(".");return c.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+u},De=()=>{const r=parseFloat(String(Ye||"").replace(/,/g,"").replace(/[^0-9.-]/g,"")),o=isNaN(r)?0:r;pe(o),he(Gr(o)),Ue(!1)},[wr,jr]=a.useState(""),Ae=r=>{try{jr(r)}catch{}};a.useEffect(()=>{if(!wr)return;const r=setTimeout(()=>jr(""),8e3);return()=>clearTimeout(r)},[wr]);const Nr=(r=!0)=>{try{const o=String(Ve||"").trim();if(!o)return;const c=o.replace(/^@+/,"").toLowerCase();if(!c)return;const u={id:c,name:"@"+c};Xe(u),Ht("creator"),ne("creator_saved",{creatorId:c,source:"manual"}),Ae(`Saved ${u.name}`),xr(!1),hr(!1);try{window.localStorage.setItem(rt,JSON.stringify(u))}catch{}}catch{}},Xt="ideas_customPrice_v1",rt="ideas_selectedCreator_v1";a.useEffect(()=>{try{const r=window.localStorage.getItem(Xt);if(r!=null){const o=parseFloat(r);isNaN(o)||(pe(o),he(o.toFixed(2)))}}catch{}},[]),a.useEffect(()=>{try{const r=window.localStorage.getItem(rt);if(r){const o=JSON.parse(r);o&&o.id&&(console.log("[ideas] loaded selectedCreator from localStorage:",o),Xe(o))}}catch{}},[]),a.useEffect(()=>{const r=()=>{try{if(d&&d.id)return;const c=window.localStorage.getItem(rt);if(!c)return;const u=JSON.parse(c);u&&u.id&&(console.log("[ideas] pageshow/focus read selectedCreator from localStorage:",u),Xe(u))}catch{}},o=()=>{document.visibilityState==="visible"&&r()};return window.addEventListener("pageshow",r),window.addEventListener("focus",r),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("pageshow",r),window.removeEventListener("focus",r),document.removeEventListener("visibilitychange",o)}},[d]),a.useEffect(()=>{if(!d||!d.id||d.photoURL||d.image||d.avatar)return;(async()=>{try{console.log("[ideas] Enriching selectedCreator with image data...",d);const c=await(await fetch("/users")).json();if(!c||!Array.isArray(c.users)){console.warn("[ideas] No users returned from /users");return}let u=c.users.find(b=>b.id===d.id);if(console.log("[ideas] Match by ID:",u),!u){const b=String(d.name||"").replace(/^@/,"").toLowerCase();u=c.users.find(M=>String(M.handle||"").replace(/^@/,"").toLowerCase()===b),console.log("[ideas] Match by handle:",u)}if(u||(u=c.users.find(b=>String(b.name||"").toLowerCase()===String(d.displayName||"").toLowerCase()),console.log("[ideas] Match by displayName:",u)),u){const b=u.photoURL||u.image||u.avatar;console.log("[ideas] Found image URL:",b),b&&Xe(M=>({...M,photoURL:b}))}else console.warn("[ideas] Creator not found in users list")}catch(o){console.warn("Failed to enrich creator data with image",o)}})()},[d?.id]),a.useEffect(()=>{if(!d||!d.id){Nt(null);return}if(d.photoURL||d.image||d.avatar){console.log("[ideas] Using image from selectedCreator:",d.photoURL||d.image||d.avatar),Nt(d.photoURL||d.image||d.avatar);return}(async()=>{try{console.log("[ideas] selectedCreator missing image, fetching all users...");const c=await(await fetch("/users")).json();if(c&&Array.isArray(c.users)){console.log("[ideas] Got "+c.users.length+" users from backend");let u=c.users.find(b=>b.id===d.id);if(console.log("[ideas] Match by ID:",u?"found":"not found",u?.name),u||(u=c.users.find(b=>String(b.name||"").toLowerCase()===String(d.displayName||d.name||"").toLowerCase()),console.log("[ideas] Match by name:",u?"found":"not found",u?.name)),u){const b=u.image||u.photoURL||u.avatar;console.log("[ideas] Found creator, image URL:",b),Nt(b||null)}else console.warn("[ideas] Creator not found in users list")}else console.warn("[ideas] No users returned")}catch(o){console.warn("[ideas] Failed to fetch creator image:",o)}})()},[d?.id]),a.useEffect(()=>{try{d&&Mt.current&&!Ir.current&&setTimeout(()=>{try{Mt.current.scrollIntoView({behavior:"smooth",block:"center"}),Mt.current.focus({preventScroll:!0}),Ir.current=!0,console.log("[ideas] auto-scrolled to description for selectedCreator")}catch(r){console.warn("auto-scroll failed",r)}},120)}catch{}},[d]),a.useEffect(()=>{try{typeof xe=="number"?window.localStorage.setItem(Xt,String(xe)):window.localStorage.removeItem(Xt)}catch{}},[xe]),a.useEffect(()=>{try{d&&d.id?window.localStorage.setItem(rt,JSON.stringify(d)):window.localStorage.removeItem(rt)}catch{}},[d]);const[Qt,Tt]=a.useState(""),[Q,_e]=a.useState([]),[mt,ut]=a.useState([]),[Z,st]=a.useState(null),[H,je]=a.useState(null),[Xr,Qr]=a.useState("Ideas"),[xt,kr]=a.useState(!1),[Ps,Ft]=a.useState(!1),[Us,Dt]=a.useState(null),Me=n!==null,Sr=[{type:"one-time",title:t("One-Time",s),subtitle:t("A single standalone video.",s),Icon:Pt},{type:"recurrent",title:t("Recurrent",s),subtitle:t("A routine delivered daily, weekly, or monthly.",s),Icon:Yr},{type:"series",title:t("Series",s),subtitle:t("A focused set of connected videos.",s),Icon:Es},{type:"catalogue",title:t("Catalogue",s),subtitle:t("A curated mix across different themes.",s),Icon:ms}],Le=[t("Book Your Next Video",s)],[Zt,Cr]=a.useState(0),[Er,At]=a.useState(!0),[Zr,_t]=a.useState(!1),er=a.useRef(null),Mt=a.useRef(null),Ir=a.useRef(!1),[Rr,es]=a.useState(null),[Ys,Tr]=a.useState(null),qt=8e3,Fr=2e3,at=400;a.useEffect(()=>{if(!Le||Le.length<2)return;const r=at+qt+Fr;let o=null,c=null,u=null;const b=()=>{At(!0),c=setTimeout(()=>_t(!0),at),u=setTimeout(()=>{_t(!1),At(!1)},at+qt)};return b(),o=setInterval(()=>{Cr(M=>(M+1)%Le.length),b()},r),()=>{clearInterval(o),clearTimeout(c),clearTimeout(u)}},[Le.length]),a.useEffect(()=>{const r=()=>{try{er.current&&es(er.current.offsetWidth)}catch{}};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[Er,Zt]),a.useEffect(()=>{try{const r=Bt("--color-gold")||Bt("--brand-gold")||"#CA8A04",o=Bt("--color-gold-600")||Bt("--brand-gold-600")||"#B27000";Tr(`linear-gradient(90deg, ${r}, ${o})`)}catch{Tr("linear-gradient(90deg, #CA8A04, #B27000)")}},[]);const Ne=n==="recurrent",ke=n==="series",Se=n==="catalogue";let A=!1;n==="one-time"?D===1?A=l.length>=i&&y.trim().length>0:D===2||D===3?A=!0:D===4?A=H!==null:D===5?A=!0:A=!1:Ne?p===1?A=l.length>=i&&y.trim().length>0:p===2?ge==="custom"?A=Pe.length>0:A=ge!==null:p===3||p===4?A=!0:p===5?A=H!==null:p===6?A=!0:A=!1:ke?E===1?A=l.length>=i&&y.trim().length>0:E===2?G==="custom"?A=Y>=1&&B.length>0:A=Y>=1&&G!==null:E===3||E===4?A=!0:E===5?A=H!==null:E===6?A=!0:E===7&&(A=!1):Se&&(R===1?A=l.length>=i&&y.trim().length>0:R===2?A=wt>=1:R===3||R===4?A=!0:R===5?A=H!==null:R===6?A=!0:R===7&&(A=!1));const[ts,Dr]=a.useState(!1),Ar=a.useRef(!1);a.useEffect(()=>{if(!Ar.current&&A){Dr(!0);const r=setTimeout(()=>{Dr(!1)},800);return()=>clearTimeout(r)}Ar.current=A},[A]);let Ke=30;if(Me){let r=1,o=5;Ne?(r=p,o=6):ke?(r=E,o=6):Se?(r=R,o=6):(r=D,o=5),r>=o?Ke=100:Ke=30+(r-1)/(o-1)*70}const tr=Math.max(0,Math.round((1-Ke/100)*60)),_r="var(--color-primary)",rs="0 2px 6px rgba(6, 24, 58, 0.18)",rr=()=>{if(!A){console.error("Cannot proceed: Please complete the required fields.");return}ke?E===1?P(2):E===2?P(3):E===3?P(4):E===4?P(5):E===5?P(6):E===6&&(me({flow:"series",nextStep:7}),He(Math.max(15,le||0)),ce(!0)):Ne?p===1?J(2):p===2?J(3):p===3?J(4):p===4?J(5):p===5?J(6):p===6&&(me({flow:"recurrent",nextStep:7}),He(Math.max(15,le||0)),ce(!0)):Se?R===1?re(2):R===2?re(3):R===3?re(4):R===4?re(5):R===5?re(6):R===6&&(me({flow:"catalogue",nextStep:7}),He(Math.max(15,le||0)),ce(!0)):D===1?K(2):D===2?K(3):D===3?K(4):D===4?K(5):D===5&&(me({flow:"one-time",nextStep:6}),He(Math.max(15,le||0)),ce(!0))},ss=()=>{ke?E===1||(E===2?P(1):E===3?P(2):E===4?P(3):E===5?P(4):E===6&&P(5)):Ne?p===1||(p===2?J(1):p===3?J(2):p===4?J(3):p===5?J(4):p===6&&J(5)):Se?R===1||(R===2?re(1):R===3?re(2):R===4?re(3):R===5?re(4):R===6&&re(5)):n==="one-time"&&(D===1||(D===2?K(1):D===3?K(2):D===4?K(3):D===5&&K(4)))},Mr=r=>{k||(dt(null),h(r),C(!0),setTimeout(()=>{$e(null),Re([]),P(2),te(5),be(null),Ge([]),re(2),Ut(10),Tt(""),st(null),O(""),Be([]),Oe([]),je(null),r==="one-time"&&K(2),r==="recurrent"&&J(1),r==="series"&&P(2),r==="catalogue"&&re(2);const o={series:"Series selected — now configure episode details.",catalogue:"Catalogue selected — set target videos and themes.",recurrent:"Recurrent selected — choose a delivery frequency.","one-time":"One-Time selected — next step: Video Length."};try{dt(o[r]||null)}catch{}C(!1)},1e3))},as=async()=>{console.log("🟢🟢🟢 HANDLE PAYMENT CALLED"),console.log("🟢 Title:",y),console.log("🟢 Description:",l),console.log("🟢 Amount:",X);const r={title:y,description:l,deliveryType:n,privacy:H,videoLength:Z==="custom"?I:Z,tones:Q,...n==="series"?{episodes:Y,schedule:G,customDates:B}:{},...n==="recurrent"?{frequency:ge,customDates:Pe}:{},...n==="catalogue"?{targetVideos:wt,themes:Qt}:{},selectedCreator:d?d.id:null,flow:de?de.flow:"one-time",nextStep:de?de.nextStep:1,amount:X,currency:"usd",role:fe};let o=null,c=!1;try{const b="ideas_requests_v1",M=`req_${Date.now()}`;let w=null;auth&&auth.user?w={id:auth.user.id,name:auth.user.name}:w={id:"anonymous",name:"Anonymous User"};const S={id:M,title:r.title||"",description:r.description||"",delivery:r.flow,step:r.nextStep,amount:r.amount,funding:r.amount,role:r.role,creator:w,createdBy:w.id,createdAt:new Date().toISOString(),meta:{selectedTones:r.tones||[],selectedVideoLength:r.videoLength||null,selectedPrivacy:r.privacy||null},isPendingPayment:!0},Ce=window.localStorage.getItem(b),ie=Ce?JSON.parse(Ce):[];ie.some(se=>se.id===S.id)||(ie.unshift(S),window.localStorage.setItem(b,JSON.stringify(ie)));const Ee=localStorage.getItem("regaarder_token"),$={"Content-Type":"application/json"};Ee&&($.Authorization=`Bearer ${Ee}`);const q={id:M,title:S.title,description:S.description,creator:S.creator,createdBy:S.createdBy,meta:S.meta,amount:S.amount,funding:S.funding};console.log("Sending request to backend:",q);const U=Ee?`${et}/requests`:`${et}/requests/public`,L=await fetch(U,{method:"POST",headers:$,body:JSON.stringify(q)});if(console.log("🟢🟢🟢 Backend save response:",L.status,L.statusText),L.ok){const se=await L.json();console.log("🟢🟢🟢 Backend returned:",se),o=se.request||S,c=!0;try{const ue=window.localStorage.getItem(b),ot=ue?JSON.parse(ue):[],it=ot.findIndex(zt=>zt.id===S.id),qe={...S,...o,backendSynced:!0};it!==-1?ot[it]=qe:ot.unshift(qe),window.localStorage.setItem(b,JSON.stringify(ot)),console.log("Local storage updated with backend synced request:",qe.id)}catch(ue){console.error("LS update failed",ue)}}else o=S,c=!1}catch(b){console.error("Failed to save request before payment",b)}const u={...r,id:o?o.id:null,backendSynced:c,flow:de?de.flow:"one-time",nextStep:de?de.nextStep:"step-3-success"};try{localStorage.setItem("pending_payment_data",JSON.stringify(u))}catch{}if(c){console.log("🟢🟢🟢 Request already synced to backend, showing success"),Ae(`Request submitted with $${X} funding!`),z(""),f(""),me(null),ce(!1),setTimeout(()=>{window.location.href="/requests?filter=For You"},1e3);return}console.log("🟢🟢🟢 Request not synced yet, calling continuePendingSubmission"),sr(X,u),Ae(`Request submitted with $${X} funding!`),z(""),f(""),me(null),ce(!1),setTimeout(()=>{window.location.href="/requests?filter=For You"},1e3)},qr=async()=>{if(console.log("🟢🟢🟢 FREE SUBMISSION CALLED"),console.log("🟢 Title:",y),console.log("🟢 Description:",l),!y||!y.trim()){Ae("Please enter a title for your request");return}try{const r="ideas_requests_v1",o=`req_${Date.now()}`,c=`${window.location.protocol}//${window.location.hostname}:4000`;let u=null;try{const q=localStorage.getItem("regaarder_user");if(q){const U=JSON.parse(q);U&&U.id&&(u={id:U.id,name:U.name||U.displayName||"User"})}}catch{}u||(u={id:"anonymous",name:"Anonymous User"});const b={id:o,title:y.trim(),description:l||"",delivery:de?de.flow:"one-time",amount:0,funding:0,creator:u,createdBy:u.id,createdAt:new Date().toISOString(),meta:{selectedTones:Q||[],selectedVideoLength:Z||null,selectedPrivacy:H||null},isFreeSubmission:!0},M=window.localStorage.getItem(r),w=M?JSON.parse(M):[];w.unshift(b),window.localStorage.setItem(r,JSON.stringify(w)),console.log("🟢 Saved to localStorage:",b.id);const S=localStorage.getItem("regaarder_token"),Ce={"Content-Type":"application/json"};S&&(Ce.Authorization=`Bearer ${S}`);const ie={id:o,title:b.title,description:b.description,creator:b.creator,createdBy:b.createdBy,meta:b.meta,amount:0,funding:0},Ee=S?`${c}/requests`:`${c}/requests/public`;console.log("🟢 Sending to backend:",Ee,ie);const $=await fetch(Ee,{method:"POST",headers:Ce,body:JSON.stringify(ie)});if(console.log("🟢🟢🟢 Backend response:",$.status,$.statusText),$.ok){const q=await $.json();console.log("🟢🟢🟢 Backend returned:",q);const U=window.localStorage.getItem(r),L=U?JSON.parse(U):[],se=L.findIndex(ue=>ue.id===o);se!==-1&&(L[se]={...L[se],...q.request,backendSynced:!0},window.localStorage.setItem(r,JSON.stringify(L))),Ae("Request submitted successfully!"),z(""),f(""),me(null),ce(!1),It(b),Et(!0)}else console.error("🔴 Backend save failed:",$.status),Ae("Failed to save request. Please try again.")}catch(r){console.error("🔴 Free submission error:",r),Ae("Failed to submit request. Please try again.")}},sr=async(r,o=null)=>{const c=o||{},u=de||(c.flow?{flow:c.flow,nextStep:c.nextStep}:null);if(!u)return;console.log("continuePendingSubmission start",{amount:r,effectivePendingSubmission:u,sourceData:c});const b=typeof r=="number"?r:c.amount||X;pe(b);const{flow:M,nextStep:w}=u;try{const S="ideas_requests_v1",Ce=c.id||`req_${Date.now()}`;let ie=null;try{const q=localStorage.getItem("regaarder_user");q&&(ie=JSON.parse(q))}catch{}const Ee=ie?{id:ie.id,name:ie.name,image:ie.image||ie.avatar||""}:{id:"anonymous",name:"Anonymous User",image:""},$={id:Ce,title:c.title||y||"",description:c.description||l||"",delivery:M,step:w,amount:b,funding:b,role:c.role||fe,creator:Ee,createdBy:Ee.id,createdAt:new Date().toISOString(),meta:{selectedTones:c.tones||Q||[],selectedVideoLength:c.videoLength||Z||null,selectedPrivacy:c.privacy||H||null}};try{const q=window.localStorage.getItem(S),U=q?JSON.parse(q):[];U.some(L=>L.id===$.id)||(U.unshift($),window.localStorage.setItem(S,JSON.stringify(U)))}catch{}if(console.log("Checking backend sync status:",c.backendSynced),c.backendSynced)try{const q=window.localStorage.getItem(S);if(q){const U=JSON.parse(q),L=U.findIndex(se=>se.id===$.id);L!==-1&&!U[L].backendSynced&&(U[L].backendSynced=!0,window.localStorage.setItem(S,JSON.stringify(U)))}}catch{}else try{const q=localStorage.getItem("regaarder_token"),U={"Content-Type":"application/json"};q&&(U.Authorization=`Bearer ${q}`),console.log("Attempting backup save to backend in continuePendingSubmission",$.id);const L=q?`${et}/requests`:`${et}/requests/public`,se=await fetch(L,{method:"POST",headers:U,body:JSON.stringify({id:$.id,title:$.title,description:$.description,creator:$.creator,createdBy:$.createdBy,meta:$.meta,amount:$.amount,funding:$.funding})});if(se.ok){const ue=await se.json();console.log("Backup save result:",se.status,ue);const ot=ue&&ue.request?ue.request:$;try{const it=window.localStorage.getItem(S);let qe=it?JSON.parse(it):[];const zt=qe.findIndex(ns=>ns.id===$.id),zr={...$,...ot,backendSynced:!0};zt!==-1?qe[zt]=zr:qe.unshift(zr),window.localStorage.setItem(S,JSON.stringify(qe))}catch{}}}catch(q){console.error("Backup save failed",q)}try{const q=new CustomEvent("ideas:request_created",{detail:$});window.dispatchEvent(q)}catch{}}catch{}z(""),f(""),Be([]),Oe([]),Tt(""),Re([]),Ge([]),pe(null);try{localStorage.removeItem("ideas_draft_v1")}catch{}h(null),K(1),P(1),J(1),re(1),Vt(!1);try{localStorage.setItem("ideas_examples_seen_v1","1")}catch{}Ae("Request submitted successfully!"),me(null),ce(!1);try{x("/requests?filter=For You")}catch{window.location.href="/requests?filter=For You"}},pt=r=>{if(!(!r||typeof r!="object"))try{r.title!==void 0&&z(r.title),r.description!==void 0&&f(r.description),r.privacy!==void 0&&je(r.privacy),r.price!==void 0&&pe(Number(r.price)||0),r.delivery!==void 0&&h(r.delivery),r.length!==void 0&&st(r.length),r.customLength!==void 0&&O(r.customLength),r.frequency!==void 0&&$e(r.frequency),r.tones!==void 0&&_e(r.tones||[]),r.themes!==void 0&&Tt(r.themes||""),r.targetVideos!==void 0&&Ut(r.targetVideos),r.files!==void 0&&Be(r.files||[]),r.links!==void 0&&Oe(r.links||[])}catch{}};a.useEffect(()=>{let r=!0,o,c,u;const b=()=>{if(r)return At(!0),o=setTimeout(()=>{_t(!0)},at),c=setTimeout(()=>{_t(!1),At(!1)},at+qt),u=setTimeout(()=>{Cr(M=>(M+1)%Le.length),b()},at+qt+Fr),()=>{clearTimeout(o),clearTimeout(c),clearTimeout(u)}};return b(),()=>{r=!1}},[Le.length]),a.useEffect(()=>{try{const r=localStorage.getItem("ideas_draft_v1");if(r){const o=JSON.parse(r);o.description&&f(o.description),o.title&&z(o.title)}}catch{}N(!0)},[]),a.useEffect(()=>{if(F)try{const r={description:l,title:y,selectedDeliveryType:n,selectedTones:Q,selectedVideoLength:Z,selectedPrivacy:H};localStorage.setItem("ideas_draft_v1",JSON.stringify(r))}catch{}},[l,y,n,Q,Z,H,F]);let ht=Me?"1/1":"0/1";Ne?ht=p===6?"6/6":`${p}/6`:ke?ht=E===6?"6/6":`${E}/6`:Se?ht=R===6?"6/6":`${R}/6`:n==="one-time"&&(ht=D===5?"5/5":`${D}/5`);const os=n==="one-time"&&(D===2||D===3)||Ne&&(p===3||p===4)||ke&&(E===3||E===4)||Se&&(R===3||R===4),ar=ke&&E===7||Ne&&p===7||Se&&R===7||n==="one-time"&&D===6,is=()=>{if(ke){if(E===1)return t("Continue to Number of Episodes",s);if(E===2)return t("Continue to Video Length",s);if(E===3)return t("Continue to Tone & Style",s);if(E===4)return t("Continue to Privacy",s);if(E===5)return t("Review Request",s);if(E===6)return t("Submit Request",s)}if(Se){if(R===1)return t("Continue to Configuration",s);if(R===2)return t("Continue to Video Length",s);if(R===3)return t("Continue to Tone & Style",s);if(R===4)return t("Continue to Privacy",s);if(R===5)return t("Review Request",s);if(R===6)return t("Submit Request",s)}if(Ne){if(p===1)return t("Continue to Video Length",s);if(p===2)return t("Continue to Video Length",s);if(p===3)return t("Continue to Tone & Style",s);if(p===4)return t("Continue to Privacy",s);if(p===5)return t("Review Request",s);if(p===6)return t("Submit Request",s)}if(n==="one-time"){if(D===1)return t("Continue to Video Length",s);if(D===2)return t("Continue to Tone & Style",s);if(D===3)return t("Continue to Privacy",s);if(D===4)return t("Review Request",s);if(D===5)return t("Submit Request",s)}return Me?t("Next",s):t("Next",s)};return e.jsxs("div",{className:"min-h-screen flex flex-col app-container",style:{backgroundColor:"#F8F8FA"},children:[e.jsxs("header",{className:"px-5 pt-4 sticky top-0 z-20",style:{backgroundColor:"#F8F8FA",borderBottom:"1px solid rgba(15,23,42,0.03)"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t("Progress",s)}),e.jsxs("span",{className:"text-sm font-normal",style:{color:"var(--color-accent)"},children:[Ke.toFixed(0),"% ",t("complete",s)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden w-full mb-6",style:{marginTop:"10px"},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Ke}%`,background:"linear-gradient(90deg, rgba(var(--color-gold-rgb),0.18), rgba(var(--color-gold-rgb),0.06))",boxShadow:"0 0 3px rgba(var(--color-gold-rgb),0.12)"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Don't lose your progress — 30% complete",s).replace("30%",`${Ke.toFixed(0)}%`)})]}),e.jsxs("main",{className:"ideas-root flex-grow px-5 pb-0 max-w-lg mx-auto w-full",children:[e.jsx("div",{ref:er,className:"mt-8 mb-5 rounded-xl text-center cream-glow-box",style:{padding:"18px 28px",background:"radial-gradient(ellipse at center, rgba(var(--color-gold-rgb,203,138,0),0.20) 0%, rgba(var(--color-gold-rgb,203,138,0),0.12) 18%, rgba(var(--color-gold-rgb,203,138,0),0.07) 36%, rgba(var(--color-gold-rgb,203,138,0),0.03) 60%, #F8F8FA 100%), linear-gradient(180deg, rgba(248,248,250,0.66), rgba(248,248,250,0.9))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 10px 30px rgba(255,255,255,0.6), inset 0 -8px 20px rgba(var(--color-gold-rgb,203,138,0),0.03), 0 6px 18px rgba(2,6,23,0.02)",WebkitBackdropFilter:"blur(4px)",backdropFilter:"blur(4px)"},children:e.jsxs("h1",{className:`
                            text-xl sm:text-2xl md:text-[26px] font-normal tracking-tighter leading-normal mx-auto max-w-fit 
                            sweeping-text-container 
                            transition-all ease-out
                            ${Er?"opacity-100 translate-y-0 duration-[500ms]":"opacity-0 translate-y-1 duration-[500ms]"}
                        `,style:{color:"rgb(var(--color-gold-rgb,203,138,0))",fontWeight:300,fontSize:"clamp(18px, 5vw, 30px)",letterSpacing:"0",lineHeight:1.1,whiteSpace:"nowrap",display:"block",margin:"0 auto",textAlign:"center"},children:[Le[Zt],Zr&&e.jsx("span",{className:"sweep-effect"},Zt)]})}),!ar&&Ke<95&&e.jsx("div",{className:"flex items-center justify-center mt-4 mb-8",children:e.jsxs("div",{className:"inline-flex items-center rounded-xl px-4 py-2",style:{background:"#F6F6F8",border:"1px solid rgba(15,23,42,0.015)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.6)",color:"#6B7280",width:Rr?`${Rr}px`:"auto",justifyContent:"center",borderRadius:"12px",paddingLeft:"1.25rem",paddingRight:"1.25rem"},children:[e.jsx(ur,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{className:"text-base font-normal text-gray-600",children:tr>=60?t("About 1 minute left",s):`${t("About",s)} ${tr} ${tr===1?t("second",s):t("seconds",s)} ${t("left",s)}`})]})}),e.jsxs("div",{className:"bg-gray-50 p-4 mb-8 border border-gray-200 rounded-xl flex justify-between items-center transition duration-200",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex-shrink-0 flex items-center justify-center transition-all duration-300",style:{borderColor:Me?"rgba(var(--color-gold-rgb, 203,138,0), 0.20)":"rgb(156 163 175)",backgroundColor:Me?"rgba(var(--color-gold-rgb, 203,138,0), 0.10)":"transparent"},children:Me&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)]",strokeWidth:3})}),e.jsx("span",{className:"text-sm font-medium ml-auto",style:{color:Me?"var(--color-gold-light)":"rgb(156 163 175)"},children:ht})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("label",{htmlFor:"description-input",className:"sr-only",children:["Description ",e.jsx("span",{className:"sr-only",children:"*"})]}),d&&!St&&e.jsxs("div",{className:"mb-3",style:{zIndex:10,position:"relative"},children:[console.log("[ideas-display] selectedCreator:",d,"selectedCreatorImage:",jt,"creatorsList.length:",Je.length),e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-100 shadow-sm flex items-center justify-between gap-3",style:{position:"relative",zIndex:10},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-full font-semibold text-sm overflow-hidden",children:jt?e.jsx("img",{src:jt,alt:d.name||d.handle,className:"w-full h-full object-cover"}):(()=>{if(!jt&&Je.length>0){const S=Je.find(Ce=>Ce.id===d.id);if(S&&(S.photoURL||S.image||S.avatar))return console.log("[ideas] Found image in creatorsList, updating state"),Nt(S.photoURL||S.image||S.avatar),e.jsx("img",{src:S.photoURL||S.image||S.avatar,alt:d.name,className:"w-full h-full object-cover"})}const r=String(d.id||d.name||d.handle||""),o=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let c=0;for(let S=0;S<r.length;S++)c=(c<<5)-c+r.charCodeAt(S);const u=o[Math.abs(c)%o.length],M=(d.name||d.handle||"?").toString().trim().replace(/^@+/,""),w=M&&M[0]?M[0]:"?";return e.jsx("div",{style:{background:u,color:"#0f172a"},className:"w-full h-full flex items-center justify-center",children:String(w).toUpperCase()})})()}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t("Requesting to",s)}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:d.name||d.handle})]})]}),e.jsx("div",{className:"ml-4 flex items-center gap-3",children:e.jsx("button",{onClick:()=>{console.log("[ideas] opening creator selection modal"),Ct(!0),Qe("")},className:"text-sm text-gray-500 hover:text-gray-700 bg-gray-50 border border-transparent hover:border-gray-200 px-3 py-1 rounded-lg",children:t("Change",s)})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{id:"description-input",ref:Mt,rows:"6",placeholder:t("Describe what you'd love to see in this video.",s),value:l,onChange:r=>f(r.target.value.slice(0,m)),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}}),e.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[l.length,"/",m," ",t("char",s)]})]}),l.length>=i&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("label",{htmlFor:"title-input",className:"text-gray-800 font-semibold text-base block tracking-tight",children:[t("Give a title to your video",s)," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"title-input",type:"text",placeholder:t("Enter a title...",s),value:y,onChange:r=>z(r.target.value),className:"w-full p-4 mt-2 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}})]})]}),l.length>=i&&y&&y.length>=j&&e.jsx("div",{className:"mb-6",children:e.jsx(qs,{files:ae,setFiles:Be,links:oe,setLinks:Oe,selectedLanguage:s})}),l.length>=i&&y&&y.length>=j&&Kr&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 mt-6",children:e.jsx("h2",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:t("Preferred delivery?",s)})}),gr&&e.jsxs("div",{className:"mb-8 rounded-xl cream-glow-box stagger-animate",style:{padding:"20px",background:"radial-gradient(circle at 18% 20%, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.03) 28%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 6px 12px rgba(var(--color-gold-rgb,203,138,0),0.03)"},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"p-1 rounded-full mr-2 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.04))",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.05)"},children:e.jsx(ir,{className:"w-6 h-6 text-[var(--color-gold)]"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-700",children:t("Examples to help you choose:",s)})]}),e.jsxs("ul",{className:"list-none space-y-3 pl-0 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("One-Time:",s)})," ",t('"Explain quantum computing," "Review the new iPhone," "My morning routine"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Recurrent:",s)})," ",t('"Daily market updates," "Weekly cooking tips," "Monthly tech news roundup"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Series:",s)})," ",t('"5-part history of Rome," "Learn Spanish in 10 episodes," "Startup journey series"',s)]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:t("Catalogue:",s)})," ",t('"50 productivity hacks," "Travel guides for 20 cities," "Complete guitar tutorial library"',s)]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>T(r=>!r),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm","aria-haspopup":"listbox","aria-expanded":v,children:[e.jsx("div",{className:"flex items-center",children:n?(()=>{const r=Sr.find(o=>o.type===n);return e.jsxs(e.Fragment,{children:[e.jsx(r.Icon,{className:"w-5 h-5 mr-3 text-[var(--color-gold)]"}),e.jsx("div",{className:"text-sm font-medium text-gray-800",children:r.title})]})})():e.jsx("div",{className:"text-sm text-gray-500",children:t("Select the format you want",s)})}),e.jsx("svg",{className:"w-4 h-4 text-gray-500",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 8L10 12L14 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),v&&e.jsx("div",{className:"absolute z-30 mt-2 w-full rounded-xl",style:{backgroundColor:"#ffffff",border:"1px solid rgba(243,244,246,1)",boxShadow:"0 8px 20px rgba(2,6,23,0.06)"},children:e.jsx("ul",{ref:Lt,role:"listbox","aria-label":"Delivery formats",className:"divide-y divide-gray-100",children:Sr.map(r=>e.jsxs("li",{role:"option",tabIndex:0,"aria-selected":n===r.type,onClick:()=>{Mr(r.type),T(!1)},onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),Mr(r.type),T(!1))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx(r.Icon,{className:`w-5 h-5 mr-3 ${n===r.type?"text-[var(--color-gold)]":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t(r.title,s)}),e.jsx("div",{className:"text-xs text-gray-500",children:t(r.subtitle,s)})]}),n===r.type&&e.jsx(ee,{className:"w-4 h-4 text-[var(--color-gold)]"})]},r.type))})})]})})]}),l.length>=i&&y&&y.length>=j&&(n==="one-time"&&!k?D===1?e.jsx(As,{description:l,setDescription:f,title:y,setTitle:z,MAX_CHARS:m,selectedLanguage:s}):D===2?e.jsx(bt,{selectedLength:Z,setSelectedLength:st,customLength:I,setCustomLength:O,selectedLanguage:s}):D===3?e.jsx(gt,{selectedTones:Q,setSelectedTones:_e,selectedStyles:mt,setSelectedStyles:ut,selectedLanguage:s}):D===4?e.jsx(yt,{selectedPrivacy:H,setSelectedPrivacy:je,prevStepCompleted:!0,selectedLanguage:s}):D===5?e.jsx(vt,{title:y,description:l,selectedDeliveryType:n,selectedTones:Q,selectedVideoLength:Z,customVideoLength:I,uploadedFiles:ae,referenceLinks:oe,selectedPrivacy:H,customPrice:xe,setCustomPrice:pe,editingPrice:Te,setEditingPrice:Ue,priceInput:Ye,setPriceInput:he,priceInputRef:Fe,savePrice:De,displayPrice:le,sanitizePriceInput:tt,onEdit:()=>K(1),onSaveReview:pt,selectedLanguage:s}):e.jsx(ft,{selectedLanguage:s}):n==="recurrent"&&!k?p===3?e.jsx(bt,{selectedLength:Z,setSelectedLength:st,customLength:I,setCustomLength:O,selectedLanguage:s}):p===4?e.jsx(gt,{selectedTones:Q,setSelectedTones:_e,selectedStyles:mt,setSelectedStyles:ut,selectedLanguage:s}):p===5?e.jsx(yt,{selectedPrivacy:H,setSelectedPrivacy:je,prevStepCompleted:!0,selectedLanguage:s}):p===6?e.jsx(vt,{title:y,description:l,selectedDeliveryType:n,selectedFrequency:ge,customRecurrentDates:Pe,selectedTones:Q,selectedVideoLength:Z,customVideoLength:I,uploadedFiles:ae,referenceLinks:oe,selectedPrivacy:H,customPrice:xe,setCustomPrice:pe,editingPrice:Te,setEditingPrice:Ue,priceInput:Ye,setPriceInput:he,priceInputRef:Fe,savePrice:De,displayPrice:le,sanitizePriceInput:tt,onEdit:()=>J(1),onSaveReview:pt,selectedLanguage:s}):p===7?e.jsx(ft,{selectedLanguage:s}):e.jsx(_s,{description:l,setDescription:f,title:y,setTitle:z,MAX_CHARS:m,MIN_CHARS:i,recurrentStep:p,selectedFrequency:ge,setSelectedFrequency:$e,selectedTones:Q,setSelectedTones:_e,selectedStyles:mt,setSelectedStyles:ut,selectedPrivacy:H,setSelectedPrivacy:je,customRecurrentDates:Pe,setCustomRecurrentDates:Re,selectedLanguage:s,setRecurrentStep:J,selectedDeliveryType:n,selectedVideoLength:Z,customVideoLength:I,uploadedFiles:ae,referenceLinks:oe,customPrice:xe,setCustomPrice:pe,editingPrice:Te,setEditingPrice:Ue,priceInput:Ye,setPriceInput:he,priceInputRef:Fe,savePrice:De,displayPrice:le,sanitizePriceInput:tt,handleSaveReview:pt}):n==="series"&&!k?E===3?e.jsx(bt,{selectedLength:Z,setSelectedLength:st,customLength:I,setCustomLength:O,selectedLanguage:s}):E===4?e.jsx(gt,{selectedTones:Q,setSelectedTones:_e,selectedStyles:mt,setSelectedStyles:ut,selectedLanguage:s}):E===5?e.jsx(yt,{selectedPrivacy:H,setSelectedPrivacy:je,prevStepCompleted:!0,selectedLanguage:s}):E===6?e.jsx(vt,{title:y,description:l,selectedDeliveryType:n,numberOfEpisodes:Y,selectedReleaseSchedule:G,customSeriesDates:B,selectedTones:Q,selectedVideoLength:Z,customVideoLength:I,uploadedFiles:ae,referenceLinks:oe,selectedPrivacy:H,customPrice:xe,setCustomPrice:pe,editingPrice:Te,setEditingPrice:Ue,priceInput:Ye,setPriceInput:he,priceInputRef:Fe,savePrice:De,displayPrice:le,sanitizePriceInput:tt,onEdit:()=>P(1),onSaveReview:pt,selectedLanguage:s}):E===7?e.jsx(ft,{selectedLanguage:s}):e.jsx(zs,{description:l,setDescription:f,title:y,setTitle:z,MAX_CHARS:m,seriesStep:E,numberOfEpisodes:Y,setNumberOfEpisodes:te,selectedReleaseSchedule:G,setSelectedReleaseSchedule:be,selectedTones:Q,setSelectedTones:_e,customSeriesDates:B,setCustomSeriesDates:Ge,selectedPrivacy:H,setSelectedPrivacy:je,selectedLanguage:s}):n==="catalogue"&&!k?R===3?e.jsx(bt,{selectedLength:Z,setSelectedLength:st,customLength:I,setCustomLength:O,selectedLanguage:s}):R===4?e.jsx(gt,{selectedTones:Q,setSelectedTones:_e,selectedStyles:mt,setSelectedStyles:ut,selectedLanguage:s}):R===5?e.jsx(yt,{selectedPrivacy:H,setSelectedPrivacy:je,prevStepCompleted:!0,selectedLanguage:s}):R===6?e.jsx(vt,{title:y,description:l,selectedDeliveryType:n,targetVideos:wt,themes:Qt,selectedTones:Q,selectedVideoLength:Z,customVideoLength:I,uploadedFiles:ae,referenceLinks:oe,selectedPrivacy:H,customPrice:xe,setCustomPrice:pe,editingPrice:Te,setEditingPrice:Ue,priceInput:Ye,setPriceInput:he,selectedLanguage:s,priceInputRef:Fe,savePrice:De,displayPrice:le,sanitizePriceInput:tt,onEdit:()=>re(1),onSaveReview:pt}):R===7?e.jsx(ft,{selectedLanguage:s}):e.jsx(Os,{description:l,setDescription:f,title:y,setTitle:z,MAX_CHARS:m,MIN_CHARS:i,catalogueStep:R,targetVideos:wt,setTargetVideos:Ut,themes:Qt,setThemes:Tt,selectedTones:Q,setSelectedTones:_e,selectedPrivacy:H,setSelectedPrivacy:je,selectedLanguage:s}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-8 mt-0",children:[e.jsx("textarea",{rows:"4",placeholder:t('What do you want creators to make (Min {min} characters, e.g., "A single video on...")',s).replace("{min}",i),value:l,onChange:r=>f(r.target.value.slice(0,m)),onBlur:()=>_(!0),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"}}),e.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[l.length,"/",m," char"]}),W&&l.length<i&&e.jsxs("p",{className:"mt-2 text-xs text-red-500",children:["Please enter at least ",i," characters to continue."]})]}),l.length>=i&&e.jsx("div",{})]}))]}),e.jsxs("div",{className:"w-full max-w-lg mx-auto px-5 z-10 pb-28 mt-auto",style:{backgroundColor:"#F8F8FA"},children:[e.jsx("div",{className:"border-t border-gray-200 w-full"}),e.jsx("div",{className:"w-full py-6",children:os?e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("button",{onClick:rr,className:"w-full h-12 rounded-xl flex items-center justify-center space-x-2 text-[15px] font-medium text-white shadow-sm hover:opacity-90 transition duration-200",style:{backgroundColor:_r,boxShadow:rs},children:e.jsx("span",{children:t("Continue",s)})}),e.jsx("button",{onClick:rr,className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:t("Skip",s)})]}):!ar&&e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:rr,disabled:!A,className:`
                                    w-full h-12 rounded-xl flex items-center justify-center space-x-2
                                    text-[15px] font-medium transition-all duration-200
                                    ${A?"text-white hover:opacity-95 active:scale-[0.98]":"bg-gray-100 text-gray-400 opacity-70 cursor-not-allowed"}
                                    ${ts?"scale-[1.01]":""} 
                                `,style:A?{backgroundColor:_r,boxShadow:"0 4px 12px rgba(6,24,58,0.16)",color:"white"}:{},children:[e.jsx("span",{children:is()}),!(ke&&E===8)&&!(Se&&R===8)&&!(Ne&&p===8)&&!(n==="one-time"&&D===7)&&e.jsx(Pr,{className:"w-4 h-4"})]}),Me&&!ar&&e.jsx("button",{onClick:ss,className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:t("Back",s)})]})})]}),br&&e.jsxs("div",{className:"mt-3 flex items-center text-sm font-normal text-[var(--color-accent)] animate-in fade-in",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),e.jsx("span",{children:br})]}),n&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{className:"italic",children:n==="one-time"?t("Using the Description and Title you entered above for this one-time video.",s):n==="recurrent"?t("Using the Description and Title you entered above for this recurring request.",s):n==="series"?t("Using the Description and Title you entered above for this series.",s):n==="catalogue"?t("Using the Description and Title you entered above for this catalogue.",s):t("Using the Description and Title you entered above for this one-time video.",s)}),e.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const r=document.getElementById("description-input");r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),r.focus(),r.classList.add("jump-highlight"),setTimeout(()=>r.classList.remove("jump-highlight"),900));const o=document.getElementById("title-input");o&&setTimeout(()=>{o.focus(),o.classList.add("jump-highlight"),setTimeout(()=>o.classList.remove("jump-highlight"),900)},300)},children:t("Edit",s)})]}),e.jsx("button",{onClick:()=>kr(r=>!r),className:`fixed right-5 bottom-36 px-4 py-2 rounded-full shadow-lg text-sm font-normal flex items-center space-x-2 ${xt?"bg-[var(--color-gold)] text-white z-60":"bg-[var(--surface)] text-gray-800 border border-gray-100"}`,style:xt?{border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.22)"}:{},"aria-label":xt?t("Close preview",s):t("See preview",s),children:e.jsx("span",{children:xt?t("Close preview",s):t("See preview",s)})}),xt&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20",onClick:()=>kr(!1)}),e.jsx("div",{className:"relative z-50 w-full max-w-3xl mx-auto px-6",style:{maxWidth:"720px"},children:e.jsxs("div",{className:"modal-dialog bg-white p-6 rounded-2xl border border-gray-100 shadow-2xl",style:{maxHeight:"72vh",overflowY:"auto",boxShadow:"0 24px 54px rgba(2,6,23,0.28)"},children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Preview"})}),e.jsx("div",{className:"relative mb-2 overflow-hidden",children:e.jsxs("div",{className:"bg-white p-5 pb-4 rounded-3xl border border-gray-50 relative z-10 preview-card",style:{paddingRight:"20px"},children:[e.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end space-y-1 z-10",children:e.jsx("div",{style:{backgroundColor:"var(--brand-gold)",color:"white",fontWeight:700,padding:"6px 10px",borderRadius:"0 10px 0 10px",fontSize:13},children:Te?e.jsx("form",{onSubmit:r=>{r.preventDefault(),De()},children:e.jsx("input",{ref:Fe,type:"text",inputMode:"decimal",pattern:"^\\d*(\\.\\d{0,2})?$",value:Ye,onChange:r=>he(tt(r.target.value)),onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),De())},onBlur:()=>De(),className:"text-right",style:{background:"transparent",color:"white",border:"none",outline:"none",width:"64px",fontWeight:700}})}):e.jsx("button",{onClick:()=>{he((le||0).toFixed(2)),Ue(!0)},style:{background:"transparent",color:"inherit",border:"none",padding:0},children:"$"+(le||0).toFixed(2)})})}),e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("div",{className:"bg-gray-800 text-white text-xs font-bold px-3 py-1 rounded-full",children:"RANK #"})}),e.jsx("div",{className:"flex items-start mb-4 relative z-10 pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden mr-4 flex-shrink-0 relative bg-gray-100 flex items-center justify-center text-xl font-bold text-gray-700",role:d?"button":void 0,onClick:()=>{d&&(Dt(d),Ft(!0))},children:d&&(d.photoURL||d.image||d.avatar)?e.jsx("img",{src:d.photoURL||d.image||d.avatar,alt:d.name||d.handle,className:"w-full h-full object-cover"}):(()=>{const r=d&&(d.displayName||d.name)||auth&&auth.user&&(auth.user.name||auth.user.handle)||"Y",o=String(d&&(d.id||d.name||d.handle)||""),c=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let u=0;for(let w=0;w<o.length;w++)u=(u<<5)-u+o.charCodeAt(w);const b=c[Math.abs(u)%c.length],M=r.toString().replace(/@/,"").charAt(0).toUpperCase();return e.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:b,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:M})})()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",role:d?"button":void 0,onClick:()=>{d&&(Dt(d),Ft(!0))},children:d&&(d.displayName||d.name)||auth&&auth.user&&(auth.user.name||"You")}),e.jsx("p",{className:"text-sm text-gray-500",children:"Just now"})]})]})}),e.jsx("h2",{className:"text-lg font-extrabold text-gray-900 mb-2 leading-tight",style:{overflowWrap:"anywhere",wordBreak:"break-word"},children:y||""}),e.jsx("p",{className:"text-sm text-gray-800 mb-2 break-words",children:l||""}),e.jsxs("div",{className:"border-t border-gray-100 pt-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-3 text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[e.jsx(nr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"0"})]}),e.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[e.jsx(us,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:oe?.length||0})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[e.jsx(xs,{className:"w-3.5 h-3.5"}),e.jsx("span",{style:{fontSize:"10px"},children:"Boosts"})]})]}),e.jsxs("div",{className:"flex space-x-1.5",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:e.jsx(ps,{className:"w-4 h-4 text-gray-500"})}),e.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:e.jsx(ir,{className:"w-4 h-4 text-gray-500"})})]})]})]})})]})})]}),Yt&&e.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.6)"},onClick:()=>{ce(!1),me(null)}}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto px-6",style:{zIndex:1e4},children:e.jsxs("div",{className:"payment-modal-panel relative flex flex-col",style:{maxHeight:"85vh"},children:[e.jsxs("div",{className:"payment-modal-header flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"payment-modal-title",children:t("Complete Payment",s)}),e.jsxs("p",{className:"payment-modal-sub",children:[t("Minimum per request is",s)," ",e.jsx("strong",{children:"$15.00"}),". ",t("Choose a preset or set a custom amount",s),"."]})]}),e.jsx("button",{onClick:()=>{ce(!1),me(null)},className:"text-gray-400 hover:text-gray-700 p-1",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"hidden md:block",style:{position:"absolute",right:-20,top:-28},children:e.jsxs("div",{className:"rounded-xl p-4",style:{width:260,background:"#ffffff",border:"1px solid rgba(15,23,42,0.04)",boxShadow:"0 20px 40px rgba(2,6,23,0.08)"},children:[e.jsx("div",{className:"text-xs text-gray-500",children:t("Summary",s)}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:fe==="expert"?t("Expert selected",s):t("Creator selected",s)}),e.jsxs("div",{className:"mt-3 font-extrabold text-2xl",children:["$",Number(X*(fe==="expert"?1.3:1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("button",{onClick:()=>{const r=X,o=fe==="expert"?Math.round(r*1.3*100)/100:r;ne("payment_confirmed",{amount:o,role:fe,creator:d?d.id:null}),as()},className:"payment-cta",style:{width:"100%"},children:[t("Pay",s)," $",Number(X*(fe==="expert"?1.3:1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{onClick:()=>{ne("free_submission_clicked"),qr()},className:"w-full px-4 py-2 rounded-xl border-2 border-dashed border-gray-300 text-gray-600 font-medium hover:border-green-500 hover:text-green-600 hover:bg-green-50 transition-all",children:[t("Submit for Free",s)," ✨"]})}),e.jsxs("div",{className:"modal-trust mt-3",style:{alignItems:"center"},children:[e.jsx("span",{"aria-hidden":"true",children:"🔒"}),e.jsx("span",{style:{marginLeft:8},children:t("Secure payment • Instant delivery",s)})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 pr-2 -mr-2 py-2",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx("div",{className:"flex gap-2 flex-wrap items-center justify-between",children:Wr.map(r=>e.jsxs("button",{onClick:()=>{He(r),ne("preset_selected",{preset:r})},className:`preset-btn px-4 py-3 rounded-2xl font-semibold relative flex-1 min-w-0 ${X===r?"bg-primary text-white":"bg-gray-50 text-gray-700 border border-gray-100"}`,style:X===r?{backgroundColor:"var(--color-primary)",color:"white"}:{},children:["$"+r,r===25&&e.jsx("span",{className:"most-popular-badge","aria-hidden":"true",children:t("Most popular",s)})]},r))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:t("Or set a custom amount",s)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Amount",s)}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:"$"+Number(X).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),e.jsx("input",{type:"range",min:15,max:5e3,step:1,value:X,onChange:r=>{He(Number(r.target.value)),ne("slider_changed",{amount:Number(r.target.value)})},className:"w-full"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"number",min:15,value:X,onChange:r=>{const o=Math.max(15,Number(r.target.value||0));He(o),ne("custom_amount_input",{amount:o})},className:"p-2 border border-gray-200 rounded-lg w-40"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t("Min",s)," $15.00"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:t("Choose provider level",s)}),e.jsx("style",{children:"@keyframes pulseBrief{0%,100%{opacity:.95;transform:scale(1)}50%{opacity:.7;transform:scale(1.03)}}@keyframes tipHide{to{opacity:0}} .scroll-tip{display:inline-block;margin-bottom:6px;background:#000;color:#fff;border-radius:8px;padding:4px 8px;font-size:11px;animation:pulseBrief 1.6s ease-in-out 0s 3, tipHide .01s linear 6s forwards;}"}),e.jsx("div",{className:"scroll-tip",children:t("Scroll to find creators",s)}),e.jsx("div",{className:"provider-carousel-wrap",children:e.jsx("div",{className:"provider-carousel",children:e.jsx("div",{className:`provider-card ${ct?"selected":""}`,onClick:()=>{Ht("creator")},role:"button",tabIndex:0,children:e.jsx("div",{className:"card-info",style:{width:"100%"},children:ct?ct==="specific"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>Ze(null),className:"text-xs text-blue-600 hover:text-blue-700 font-medium mb-2",children:["← ",t("Change selection",s)]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t("Choose Creator",s)}),e.jsxs("div",{className:"creator-search-row",children:[e.jsxs("div",{className:"creator-search-input-wrap",style:{paddingRight:Ve?44:0},children:[e.jsx("span",{className:"creator-search-prefix",children:"@"}),e.jsx("input",{ref:We,type:"text",placeholder:t("Search creators",s),value:Ve,onChange:r=>Qe(r.target.value.replace(/^@+/,"")),onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),Nr(!0))},className:"creator-search-input","aria-label":"Search creators",autoFocus:!0}),Ve&&e.jsx("button",{type:"button",className:"creator-search-clear",onClick:r=>{r.stopPropagation(),Qe("");try{We.current&&We.current.focus()}catch{}},"aria-label":"Clear search",children:e.jsx(ze,{className:"w-4 h-4"})})]}),e.jsx("button",{type:"button",className:"creator-search-save",onClick:r=>{r.stopPropagation(),Nr(!0)},"aria-label":"Save creator",children:t("Save",s)})]}),e.jsx("div",{className:"choose-creator-list max-h-64 overflow-y-auto",children:Rt.length===0?e.jsxs("div",{className:"no-results flex flex-col items-center text-center p-4",children:[e.jsx("div",{className:"no-results-title text-sm font-normal",children:t("No creators found",s)}),e.jsx("div",{className:"no-results-sub text-xs text-gray-400 mt-1",children:t("Try a different username or clear your search.",s)})]}):Rt.map(r=>e.jsxs("div",{className:`creator-row rounded-lg p-3 border-2 transition-all ${d&&d.id===r.id?"border-blue-400 bg-blue-50 pulse-anim":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>{Xe(r),Ht("creator"),ne("creator_selected",{creatorId:r.id})},style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1},children:[e.jsx("div",{className:"creator-avatar flex-shrink-0",role:"button",style:{backgroundColor:r.photoURL?"transparent":r.fallbackColor||"#3b82f6",color:r.photoURL?"inherit":"#fff",width:48,height:48,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},onClick:o=>{o.stopPropagation(),Dt(r),Ft(!0)},children:r.photoURL?e.jsx("img",{src:r.photoURL,alt:r.displayName||r.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold"},children:String(r.displayName||r.name).replace("@","").charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"creator-display font-semibold text-gray-900 truncate text-sm",children:r.name}),r.bio&&e.jsx("div",{className:"text-xs text-gray-500 truncate mt-0.5",children:r.bio})]})]}),e.jsx("div",{className:"flex-shrink-0 text-right ml-2",role:"button",onClick:o=>{o.stopPropagation(),Dt(r),Ft(!0)},children:e.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.price?`$${r.price}`:e.jsx("span",{className:"text-xs font-normal text-gray-400",children:t("Not set",s)})})})]},r.id))})]}):ct==="any"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>Ze(null),className:"text-xs text-blue-600 hover:text-blue-700 font-medium mb-2",children:["← ",t("Change selection",s)]}),e.jsxs("div",{className:"p-4 rounded-xl bg-green-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(or,{size:18,className:"text-green-600"}),e.jsx("div",{className:"text-sm font-semibold text-green-900",children:t("Any Creators",s)})]}),e.jsx("div",{className:"text-sm text-green-800",children:t("Your request is open to any creator who is interested and able to fulfill it. This increases your chances of getting it done quickly!",s)})]})]}):ct==="expert"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>Ze(null),className:"text-xs text-blue-600 hover:text-blue-700 font-medium mb-2",children:["← ",t("Change selection",s)]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-purple-50 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ot,{size:18,className:"text-purple-600"}),e.jsx("div",{className:"text-sm font-semibold text-purple-900",children:t("Expert Required",s)})]}),e.jsx("div",{className:"text-sm text-purple-800 mb-3",children:t("You are looking for someone with specific expertise to fulfill this request.",s)}),e.jsx("input",{type:"text",placeholder:t("e.g., Video Editor, Graphic Designer, Music Producer...",s),className:"w-full p-2 rounded-lg border border-purple-200 text-sm placeholder-gray-400","aria-label":"Expert type"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-amber-50 border border-amber-200 text-xs text-amber-800 flex gap-2",children:[e.jsx(hs,{size:16,className:"flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t("If no expert is available, we'll help you connect with the best available creator for this task.",s)})]})]})]}):null:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:t("Who should fulfill this?",s)}),e.jsxs("button",{onClick:()=>{Ze("specific"),hr(!0)},className:"w-full p-3 rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ur,{size:18,className:"text-blue-600"}),e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t("Specific Creator",s)})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-7",children:t("Search and select your preferred creator",s)})]}),e.jsxs("button",{onClick:()=>{Ze("any"),ne("creator_type_selected",{type:"any"})},className:"w-full p-3 rounded-xl border-2 border-gray-200 hover:border-green-400 hover:bg-green-50 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{size:18,className:"text-green-600"}),e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t("Any Creators",s)})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-7",children:t("Open to any creator willing to fulfill it",s)})]}),e.jsxs("button",{onClick:()=>{Ze("expert"),ne("creator_type_selected",{type:"expert"})},className:"w-full p-3 rounded-xl border-2 border-gray-200 hover:border-purple-400 hover:bg-purple-50 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{size:18,className:"text-purple-600"}),e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t("Expert",s)})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-7",children:t("I need specific expertise for this request",s)})]})]})})})})})]})]})}),e.jsx("div",{className:"flex-shrink-0 pt-6 mt-4 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsxs("button",{onClick:()=>{ne("free_submission_clicked"),qr()},className:"flex-1 px-4 py-4 rounded-xl border-2 border-dashed border-gray-300 text-gray-600 font-medium text-base hover:border-green-500 hover:text-green-600 hover:bg-green-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(lr,{size:16}),"Free"]}),e.jsxs("button",{onClick:()=>{const r=X,o=fe==="expert"?Math.round(r*1.3*100)/100:r;ne("payment_confirmed",{amount:o,role:fe,creator:d?d.id:null}),sr(o)},className:"flex-1 px-4 py-4 rounded-xl text-white font-semibold text-base",style:{backgroundColor:"var(--color-primary)"},children:[t("Pay",s)," ","$"+Number(X*(fe==="expert"?1.3:1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("button",{onClick:()=>{ce(!1),me(null),ne("payment_cancelled")},className:"w-full px-4 py-3 rounded-xl bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition-colors",children:t("Cancel",s)})]})})]})})})]}),St&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t("Choose Creator",s)}),e.jsx("button",{onClick:()=>Ct(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(ze,{size:20})})]}),e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),e.jsx("input",{type:"text",placeholder:t("Search creators",s),value:Ve,onChange:r=>Qe(r.target.value.replace(/^@+/,"")),className:"w-full pl-8 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400",autoFocus:!0}),Ve&&e.jsx("button",{onClick:()=>Qe(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(ze,{size:16,className:"text-gray-400"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:Je.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(or,{size:40,className:"text-gray-300 mb-3"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t("No creators found",s)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Try a different username",s)})]}):Rt.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(fs,{size:40,className:"text-gray-300 mb-3"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t("No creators found",s)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t("Try a different username",s)})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:Rt.map(r=>e.jsxs("button",{onClick:()=>{Xe(r),Ct(!1);try{window.localStorage.setItem(rt,JSON.stringify(r))}catch{}},className:`w-full p-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left ${d?.id===r.id?"bg-blue-50":""}`,children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:r.photoURL?"transparent":r.fallbackColor||"#3b82f6"},children:r.photoURL?e.jsx("img",{src:r.photoURL,alt:r.name,className:"w-full h-full rounded-full object-cover"}):String(r.name).replace("@","").charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.displayName||r.name}),r.price?e.jsxs("div",{className:"text-xs text-gray-500",children:["$",r.price," per request"]}):e.jsx("div",{className:"text-xs text-gray-400",children:"Not set"})]}),d?.id===r.id&&e.jsx(ee,{size:18,className:"text-blue-600 flex-shrink-0"})]},r.id))})}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsx("button",{onClick:()=>Ct(!1),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:t("Done",s)})})]})}),Jr&&e.jsx(Ts,{onClose:()=>{Et(!1),It(null),window.location.href="/requests?filter=For You"},onBoostRequest:()=>{Et(!1),It(null),setShowBoostsModal(!0)},onInviteContributors:()=>{Et(!1),It(null),window.location.href="/requests?filter=For You"},requestData:Lr,selectedLanguage:s}),e.jsx(Ds,{active:Xr,onChange:Qr,selectedLanguage:s})]})};export{wa as default};
