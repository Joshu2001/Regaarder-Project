const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/creatordashboard-CO_Dgv1g.js","assets/index-tduiEHLI.js","assets/index-BUf_ymrS.css","assets/requests-QkAJLMWq.js","assets/index-BAyIxC3A.js","assets/BoostsModal-57CQvCmh.js","assets/alert-triangle-CdzbVo1w.js","assets/trending-up-lQGh0Ylf.js","assets/search-CozVDh3v.js","assets/check-circle-2-BVMleZ9Z.js","assets/calendar-CSqOtIdP.js","assets/chevron-down-CHZIvP02.js","assets/sparkles-pk1m2xav.js","assets/clock-CfHa4mHq.js","assets/dollar-sign-w3m3EnEL.js","assets/pencil-8mUDoMTD.js","assets/heart-CYaHcm4s.js","assets/home-BL7c_LrN.js","assets/message-square-hDr5b296.js","assets/megaphone-BLtR4rGC.js","assets/crown-DsFZIcB8.js","assets/pin-C_UTq_NJ.js","assets/chevron-up-fxaFZ6Xv.js","assets/bookmark-R6gBjd7y.js","assets/lightbulb-Do7l4c7-.js","assets/trash-2-DQVavpS6.js","assets/heart-off-D13jGir6.js","assets/share-2-F9VcEOZF.js","assets/user-DYxU0EPG.js","assets/link-Al_vYOUH.js","assets/image-BlX7p7Qh.js","assets/star-CIaoYZXY.js","assets/trophy-BCU0F2yM.js","assets/zap-DKEb_8eK.js","assets/video-BN1tlVGl.js","assets/line-chart-CBVcbDrx.js","assets/upload-B7UTv8wE.js","assets/headphones-pqOv0UXW.js","assets/copy-wZj3h7vz.js","assets/alert-circle-CMXmTS1L.js","assets/check-circle-N4NXUOeW.js","assets/more-vertical-Bt_wvsy3.js","assets/globe-dKDDe-0E.js","assets/link-2-BiOq4KH-.js","assets/file-bneqtw_i.js"])))=>i.map(i=>d[i]);
import{f as be,r as o,_ as $e,j as e,g as t,u as ze,M as Ce,P as Se,C as Fe,d as Oe,S as We,E as Be,e as Ve,X as _e}from"./index-tduiEHLI.js";import{F as Pe,P as De,M as Re}from"./pencil-8mUDoMTD.js";import{D as Ye}from"./dollar-sign-w3m3EnEL.js";import{C as Ue}from"./chevron-up-fxaFZ6Xv.js";import{C as Ne}from"./camera-DbyEybir.js";import{M as Me}from"./mail-Bn1FWZ8y.js";import{A as qe}from"./alert-circle-CMXmTS1L.js";import{C as He}from"./check-circle-N4NXUOeW.js";import{U as Je}from"./upload-B7UTv8wE.js";import{C as Ge}from"./chevron-down-CHZIvP02.js";import{P as Xe}from"./play-xGYcU-4z.js";import{C as Ke}from"./chevron-left-B5J8UTWb.js";import{F as Le,P as Qe}from"./pin-C_UTq_NJ.js";import{I as Ze,S as et,a as tt,T as st,M as at}from"./thumbs-down-BLMtMifq.js";import{B as rt}from"./bookmark-R6gBjd7y.js";import{S as ot}from"./sparkles-pk1m2xav.js";import{V as lt}from"./video-BN1tlVGl.js";import{C as Te}from"./crown-DsFZIcB8.js";import{Z as it}from"./zap-DKEb_8eK.js";import{F as nt}from"./folder-BlmfeA3M.js";import{U as ct}from"./users-u4WbN7kD.js";import{S as dt}from"./shield-Q5flNO3R.js";import{H as mt}from"./history-biy-DyVe.js";import{B as xt}from"./book-open-6eanjhGd.js";import{G as ut}from"./gift-DtH0XJ9X.js";import{C as ht}from"./credit-card-D1Cd9u2w.js";import{U as ft}from"./user-DYxU0EPG.js";import{T as Ae}from"./trending-up-lQGh0Ylf.js";import{S as pt}from"./share-2-F9VcEOZF.js";import{M as gt}from"./message-square-hDr5b296.js";import{H as bt}from"./heart-CYaHcm4s.js";import{M as yt}from"./more-vertical-Bt_wvsy3.js";import{L as vt}from"./lightbulb-Do7l4c7-.js";import{H as wt}from"./home-BL7c_LrN.js";import{T as jt}from"./trophy-BCU0F2yM.js";import{S as Nt}from"./star-CIaoYZXY.js";import{S as kt}from"./search-CozVDh3v.js";import{S as Ct}from"./settings-B8os3k9-.js";import{B as St}from"./bell-DZAesdfV.js";const Tt=be("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),At=be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),zt=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Pt=be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Et=a=>{if(!a||a===0)return"0";const d=parseInt(a)||0;return d>=1e6?(d/1e6).toFixed(1).replace(/\.0$/,"")+"m":d>=1e3?(d/1e3).toFixed(1).replace(/\.0$/,"")+"k":d.toString()},It=({size:a=24,className:d="",...r})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`lucide lucide-pencil-line-icon lucide-pencil-line ${d}`,...r,children:[e.jsx("path",{d:"M13 21h8"}),e.jsx("path",{d:"m15 5 4 4"}),e.jsx("path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"})]}),$t=({size:a=24,className:d="",...r})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:d,...r,children:[e.jsx("path",{d:"M22 10v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6Z"}),e.jsx("path",{d:"M2 10V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4Z"}),e.jsx("path",{d:"m2 10 6-6"}),e.jsx("path",{d:"m8 10 6-6"}),e.jsx("path",{d:"m14 10 6-6"})]}),f=({name:a,size:d=20,className:r="",...p})=>{const c={menu:at,bell:St,settings:Ct,search:kt,star:Nt,chart:Ae,cup:jt,home:wt,requests:Pe,ideas:vt,more:Re,moreVertical:yt,x:_e,heart:bt,thumbsDown:st,eye:Ve,message:gt,share:pt,trendingUp:Ae,pencil:De,pencilLine:It,profile:ft,subscriptions:ht,referral:ut,marketplace:tt,bookmarks:xt,history:mt,editor:et,creator:Ne,premium:Te,theme:Se,policies:dt,users:ct,folder:nt,zap:it,camera:Ne,crown:Te,video:lt,sparkles:ot,pin:Qe,bookmark:rt,info:Ze,eyeOff:Be,flag:Le,sun:We,moon:Oe,monitor:Ce,check:Fe,palette:Se,arrowLeft:Ke,volumeX:Pt,play:Xe,pause:At,save:zt,chevronDown:Ge,upload:Je,checkCircle:He,alertCircle:qe,mail:Me,twitter:Ce,instagram:Ne,chevronUp:Ue,clapperboard:$t,coins:Tt,dollarSign:Ye},b=c[a]||c.star;return e.jsx(b,{size:d,className:r,...p})},Ft=({selectedLanguage:a="English"})=>{const[d,r]=o.useState(""),p=o.useRef(!1),c=[{name:"Home",icon:"home"},{name:"Requests",icon:"requests"},{name:"Ideas",icon:"pencil"},{name:"More",icon:"more"}],b="rgb(107 114 128)";return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:c.map(i=>{const h=i.name===d,s=h?{color:"var(--color-gold)"}:{color:b},v=h?"font-semibold":"font-normal";let n={};h&&(n.textShadow="0 0 8px var(--color-gold-light)");const g=x=>{try{if(x==="Home"){localStorage.getItem("redirectBackTo")==="creatorDashboard"?(localStorage.removeItem("redirectBackTo"),window.location.href="/creatordashboard"):window.location.href="/home.jsx";return}if(x==="Requests"){window.location.href="/requests.jsx";return}if(x==="Ideas"){window.location.href="/ideas";return}if(x==="More"){window.location.href="/more.jsx";return}}catch(C){console.warn("Navigation failed",C)}};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:n,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onMouseDown:()=>{r(i.name),p.current||(p.current=!0,g(i.name))},onTouchStart:()=>{r(i.name),p.current||(p.current=!0,g(i.name))},onClick:x=>{if(p.current){p.current=!1,x.preventDefault();return}r(i.name),g(i.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(f,{name:i.icon,size:22,strokeWidth:1.5,style:s})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${v}`,style:s,children:t(i.name,a)})]})},i.name)})})})},pe=({onClick:a})=>e.jsx("div",{className:"ml-2 cursor-pointer",onClick:a,children:e.jsx(f,{name:"pencilLine",size:16,className:"text-black"})}),ge=({value:a,onSave:d,onCancel:r,type:p="text",placeholder:c,prefix:b,options:i})=>{const[h,s]=o.useState(a),[v,n]=o.useState(!1),[g,x]=o.useState(!1),C=o.useRef(null);o.useEffect(()=>{const j=E=>{C.current&&!C.current.contains(E.target)&&n(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const m=j=>{s(j),n(!1)},N=()=>{x(!0),s(""),n(!1)};return e.jsxs("div",{className:"flex items-center w-full gap-3 mb-3 relative",ref:C,children:[(p==="text"||p==="textarea"||p==="select"&&g)&&e.jsxs("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 flex items-center relative",children:[b&&e.jsx("span",{className:"text-gray-500 mr-1",children:b}),p==="textarea"?e.jsx("textarea",{value:h,onChange:j=>s(j.target.value),className:"bg-transparent w-full outline-none text-gray-900 resize-none font-medium",rows:2,placeholder:c,autoFocus:!0}):e.jsx("input",{type:"text",value:h,onChange:j=>s(j.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:g?"Enter new category name":c,autoFocus:p==="text"||g})]}),p==="select"&&!g&&e.jsxs("div",{className:"flex-grow relative",children:[e.jsxs("div",{className:"w-full flex items-center justify-between cursor-pointer px-4 py-3 rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gradient-to-r from-white to-gray-50 shadow-md hover:shadow-lg transition-all duration-200",onClick:()=>n(!v),children:[e.jsx("span",{className:`text-sm font-semibold ${h?"text-gray-900":"text-gray-600"}`,children:h||c}),e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 transition-transform duration-300 ${v?"rotate-180 bg-blue-500":""}`,children:e.jsx(f,{name:"chevronDown",className:`transition-colors ${v?"text-white":"text-blue-600"}`,size:16})})]}),v&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border-2 border-blue-100 z-50 max-h-80 overflow-y-auto backdrop-blur-sm",children:[e.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-blue-100 sticky top-0 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:e.jsx("span",{className:"text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Select Category"})}),i&&i.length>0?e.jsxs(e.Fragment,{children:[i.map((j,E)=>e.jsxs("div",{onClick:()=>m(j.value),className:`px-4 py-3.5 cursor-pointer text-sm flex items-center justify-between hover:bg-blue-50 transition-all duration-150 ${h===j.value?"bg-gradient-to-r from-blue-100 to-indigo-50 border-l-4 border-blue-500 text-blue-900 font-semibold":"text-gray-800 hover:pl-5"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[h===j.value&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),j.label]}),h===j.value&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx(f,{name:"check",size:14,className:"text-white",strokeWidth:3})})]},j.value)),e.jsx("div",{className:"border-t-2 border-blue-100 mt-1",children:e.jsxs("div",{onClick:N,className:"px-4 py-3 hover:bg-blue-50 cursor-pointer text-sm text-blue-600 font-semibold flex items-center gap-2 transition-all duration-150 hover:pl-5",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-blue-400 flex items-center justify-center",children:e.jsx(f,{name:"plus",size:12,className:"text-blue-400"})}),e.jsx("span",{children:"Create new category"})]})})]}):e.jsx("div",{className:"px-4 py-6 text-center text-gray-500 text-sm font-medium",children:"No categories available"})]})]}),e.jsx("button",{onClick:j=>{j.stopPropagation(),r()},className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(f,{name:"x",size:24})}),e.jsx("button",{onClick:()=>d(h),className:"p-3 bg-[var(--color-gold)] rounded-xl text-black shadow-sm hover:bg-[var(--color-gold-darker)] transition-colors flex items-center justify-center w-12 h-12",children:e.jsx(f,{name:"save",size:20})})]})},ke=({label:a,value:d,selectedLanguage:r="English"})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-2 flex flex-col items-center justify-center w-16 h-16 md:w-20 md:h-20 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-700 font-medium mb-1",children:t(a,r)}),e.jsx("div",{className:"font-bold text-sm md:text-lg",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:Et(d)})]}),Ot=({profile:a,onUpdate:d,isPreviewMode:r,onTogglePreview:p,onTip:c,selectedCTAs:b,onCTAClick:i,availableTags:h,onShowToast:s,isSharedLink:v=!1,selectedLanguage:n="English"})=>{const[g,x]=o.useState(null),[C,m]=o.useState(a.price),[N,j]=o.useState(a.pricingType||"One Time"),[E,R]=o.useState(!1),[I,P]=o.useState(!1),[F,M]=o.useState(0),[X,T]=o.useState(!0),[K,L]=o.useState(!1),ie=o.useRef(null),[ne,te]=o.useState(null),[q,ce]=o.useState(!0),[G,Z]=o.useState(!0),[de,se]=o.useState(!1);o.useEffect(()=>{if(r)return;se(!0);const S=setTimeout(()=>se(!1),1e4);return()=>clearTimeout(S)},[r]),o.useEffect(()=>{(async()=>{if(a?.id)try{const l=localStorage.getItem("regaarder_token");if(!l)return;const u=window&&window.__BACKEND_URL__||"http://localhost:4000",w=await fetch(`${u}/following/${a.id}`,{headers:{Authorization:`Bearer ${l}`}});if(w.ok){const y=await w.json();R(y.isFollowing)}}catch(l){console.error("Failed to check following status:",l)}})()},[a?.id]),o.useEffect(()=>{if(!b||b.length<=1)return;const S=setInterval(()=>{T(!1),setTimeout(()=>{M(l=>(l+1)%b.length),T(!0)},500)},5e3);return()=>clearInterval(S)},[b]);const me=b&&b.length>0?b[F]:"Your idea → {creator}'s next video",ye=async()=>{const S=`${window.location.origin}/@${a?.handle||"user"}?request=true`,l={title:"Link Copied",subtitle:"Profile link copied to clipboard"},u=()=>{s&&s(l),L(!0),setTimeout(()=>L(!1),3e3)};try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(S),u();else throw new Error("Clipboard API unavailable")}catch{try{const y=document.createElement("textarea");y.value=S,y.style.position="fixed",y.style.left="-9999px",y.style.top="0",document.body.appendChild(y),y.focus(),y.select();const A=document.execCommand("copy");document.body.removeChild(y),A&&u()}catch(y){console.error("Failed to copy:",y)}}},ae=(S,l)=>{d(S,l),x(null)},xe=()=>{d("price",C),d("pricingType",N),x(null)},re=async()=>{try{const S=localStorage.getItem("regaarder_token");if(!S){s&&s({title:t("Login Required",n),subtitle:t("Please log in to follow creators",n)});return}const l=window&&window.__BACKEND_URL__||"http://localhost:4000",u=E?"/unfollow":"/follow";P(!0);const w=await fetch(`${l}${u}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({creatorId:a.id})});if(w.ok){setTimeout(()=>R(!E),120);const y=E?Math.max(0,(a.followers||0)-1):(a.followers||0)+1;d("followers",y),s&&s({title:E?t("Unfollowed",n):t("Following!",n),subtitle:E?t("You unfollowed {creator}",n).replace("{creator}",a.name):t("You're now following {creator}",n).replace("{creator}",a.name)})}else{const y=await w.json();s&&s({title:t("Error",n),subtitle:t(y.error||"Failed to update follow status",n)})}setTimeout(()=>P(!1),420)}catch(S){console.error("Follow error:",S),P(!1),s&&s({title:t("Error",n),subtitle:t("Network error. Please try again.",n)})}},ve=async S=>{const l=S.target.files[0];if(!l)return;const u=10*1024*1024,w=["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","image/jfif","image/bmp","image/heic","image/heif"],y=(l.name&&l.name.split(".").pop()||"").toLowerCase(),A=["jpg","jpeg","png","gif","webp","svg","jfif","bmp","heic","heif","pdf","txt"],W=l.type&&(l.type.startsWith("image/")||w.includes(l.type)),z=y&&A.includes(y);if(!W&&!z){console.error("Unsupported file type. Allowed: images (jpg,png,gif,webp,svg,jfif,heic,heif,bmp) and small text/pdf files."),s&&s({title:t("Invalid File Type",n),subtitle:t("Please upload an image file (jpg, png, gif, webp, etc.)",n)});return}if(l.size>u){console.error("File too large. Maximum allowed is 10MB."),s&&s({title:t("File Too Large",n),subtitle:t("Maximum file size is 10MB",n)});return}const B=l.type&&l.type.startsWith("image/")||z;try{if(B){const H=URL.createObjectURL(l);d("image",H),te(null)}else te({name:l.name,type:l.type})}catch{}try{const H=localStorage.getItem("regaarder_token");if(!H){console.warn("No authentication token found. Profile changes will only be saved locally."),s&&s({title:t("Not Authenticated",n),subtitle:t("Changes saved locally only. Please login to sync across devices.",n)});return}const Y=new FormData;Y.append("image",l);const V=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/photo`,{method:"POST",headers:{Authorization:`Bearer ${H}`},body:Y});if(!V.ok){if(V.status===401){console.warn("Authentication failed. Token may be invalid or expired."),s&&s({title:t("Authentication Required",n),subtitle:t("Please login again to upload files",n)});return}throw new Error(`Upload failed with status ${V.status}`)}const U=await V.json();if(U&&U.url){if(U.mimeType&&U.mimeType.startsWith("image/")){d("image",U.url);try{await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({image:U.url})})}catch(k){console.warn("Failed to persist image update",k)}}else{d("document",U.url),te(k=>({...k||{},url:U.url}));try{await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({document:U.url})})}catch(k){console.warn("Failed to persist document update",k)}}s&&s({title:t("Upload Successful",n),subtitle:t("Your profile image has been updated",n)})}else console.warn("Profile file upload failed - no URL returned",U),s&&s({title:"Upload Failed",subtitle:"Server did not return a valid file URL"})}catch(H){console.error("Profile file upload error",H),s&&s({title:"Upload Error",subtitle:"Failed to upload file. Please try again."})}},[le,ue]=o.useState(!1),[he,oe]=o.useState(!1);return e.jsxs("div",{className:"relative bg-white pb-6",children:[e.jsx("style",{children:`
                @keyframes shimmer-gold-premium {
                    0% { background-position: 100% 0; }
                    40% { background-position: 0% 0; }
                    100% { background-position: 0% 0; }
                }
                @keyframes glow-pulse {
                    0%, 100% { 
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    }
                    50% { 
                        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
                    }
                }
                .shimmer-gold {
                    background: var(--color-gold);
                    background-size: 300% 100%;
                }
                @keyframes pulse-ring {
                    0% { box-shadow: 0 0 0 0 var(--color-gold); }
                    70% { box-shadow: 0 0 0 12px rgba(0,0,0,0); }
                    100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); }
                }
                .pulse-price {
                    animation: pulse-ring 2.2s infinite;
                }
                .price-tooltip {
                    pointer-events: none;
                    transform-origin: center bottom;
                }
            `}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-48 bg-gradient-to-br from-purple-950 via-red-600 to-orange-500",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"}}),e.jsxs("div",{className:"relative z-10 flex justify-between items-center px-4 pt-4 text-white",children:[e.jsx("button",{className:`w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition ${typeof he<"u"&&he?"scale-95 opacity-90":""}`,onClick:()=>{try{typeof oe=="function"&&oe(!0);const S=localStorage.getItem("redirectBackTo"),l=S==="creatorDashboard"?"/creatordashboard":"/home.jsx";S==="creatorDashboard"&&localStorage.removeItem("redirectBackTo"),setTimeout(()=>{window.location.href=l},120),setTimeout(()=>{typeof oe=="function"&&oe(!1)},420)}catch(S){console.warn("Navigation failed",S),window.location.href="/home.jsx"}},children:e.jsx(f,{name:"arrowLeft",size:24})}),e.jsxs("div",{className:"flex space-x-3",children:[!v&&e.jsx("button",{className:"w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition",onClick:p,children:e.jsx(f,{name:r?"pencilLine":"eye",size:24,style:{width:24,height:24}})}),!v&&e.jsx("button",{className:"w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition",onClick:ye,children:e.jsx(f,{name:K?"check":"share",size:24})})]})]}),e.jsxs("div",{className:"relative z-10 px-4 mt-20",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full p-1 shadow-lg bg-transparent",children:e.jsx("div",{className:"w-full h-full rounded-full p-1 shimmer-gold",children:e.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-transparent relative flex items-center justify-center",children:ne?e.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-2",children:[e.jsx(Pe,{className:"w-8 h-8 text-gray-700"}),e.jsx("div",{className:"text-xs text-gray-700 mt-1 break-words max-w-full",children:ne.name})]}):a.image?e.jsx("img",{src:a.image,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("img",{src:"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover"})})})}),e.jsx("input",{type:"file",ref:ie,className:"hidden",accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/zip",onChange:ve}),!r&&e.jsxs("div",{className:"absolute bottom-1 left-1 rounded-full p-2 border-4 border-white cursor-pointer z-20 transition-all shadow-sm hover:scale-110 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onClick:()=>ie.current.click(),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:"pencilLine",size:16,className:"text-white relative z-10"})]})]}),e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx(ke,{label:t("Followers",n),value:a.followers||a.followerCount||0,selectedLanguage:n}),e.jsx(ke,{label:t("Views",n),value:a.views||0,selectedLanguage:n}),e.jsx(ke,{label:t("Fulfilled",n),value:a.comments||0,selectedLanguage:n})]})]}),e.jsxs("div",{className:"mt-4 text-left",children:[g==="name"&&!r?e.jsx(ge,{value:a.name,onSave:S=>ae("name",S),onCancel:()=>x(null)}):e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:a.name}),r&&!v?e.jsxs("div",{className:"text-white text-xs font-bold px-2 py-1 rounded-md flex items-center shadow-sm",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)"},children:[e.jsx(f,{name:"eye",size:12,className:"mr-1"}),t("Preview Mode",n)]}):!v&&e.jsx(pe,{onClick:()=>x("name")})]}),g==="handle"&&!r?e.jsx(ge,{value:a.handle,onSave:S=>ae("handle",S),onCancel:()=>x(null),prefix:"@"}):e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("p",{className:"text-gray-700 text-lg font-medium",children:["@",a.handle]}),!r&&e.jsx(pe,{onClick:()=>x("handle")})]}),g==="bio"&&!r?e.jsx(ge,{value:a.bio,onSave:S=>ae("bio",S),onCancel:()=>x(null),type:"textarea"}):e.jsxs("div",{className:"flex items-start mt-3 max-w-md",children:[e.jsx("p",{className:"text-gray-700 font-normal leading-relaxed text-left",children:a.bio}),!r&&e.jsx("div",{className:"mt-1 min-w-[24px]",children:e.jsx(pe,{onClick:()=>x("bio")})})]}),g==="tag"&&!r?e.jsx(ge,{value:a.tag,onSave:S=>ae("tag",S),onCancel:()=>x(null),type:"select",placeholder:t("Select a category",n),options:h}):e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 px-4 py-2 rounded-full text-sm font-bold border border-blue-200 shadow-sm",children:t(a.tag,n)}),!r&&e.jsx(pe,{onClick:()=>x("tag")})]})]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-3 mt-8",children:[E?e.jsxs("button",{className:`flex-grow bg-white border border-gray-200 text-gray-900 font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-gray-50 transition ${I?"scale-95 opacity-90":""}`,onClick:re,children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-900 flex items-center justify-center mr-2",children:e.jsx(f,{name:"check",size:12,className:"text-gray-900",strokeWidth:3})}),t("Following",n)]}):e.jsxs("button",{className:`flex-grow bg-[var(--color-gold)] text-black font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-[var(--color-gold-darker)] transition ${I?"scale-95 opacity-90":""}`,onClick:re,children:[e.jsx(f,{name:"heart",size:18,className:"mr-2"}),t("Follow",n)]}),e.jsxs("button",{className:"px-6 bg-white border border-gray-200 text-gray-900 font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-gray-50 transition",onClick:c,children:[e.jsx(f,{name:"dollarSign",size:18,className:"mr-1"}),t("Tip",n)]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("button",{onClick:()=>{ue(!0),setTimeout(()=>{i&&i()},120),setTimeout(()=>ue(!1),420)},className:`w-full shimmer-gold text-black font-medium py-4 px-4 rounded-xl text-base shadow-sm hover:opacity-90 transition flex items-center justify-center ${le?"scale-95 opacity-90":""}`,children:[e.jsx(f,{name:"video",size:18,className:"mr-2 flex-shrink-0"}),e.jsx("span",{className:`text-center leading-tight transition-opacity duration-500 ${X?"opacity-100":"opacity-0"}`,children:t(me,n).replace("{creator}",a.name)})]})})]}):g==="price"?e.jsxs("div",{className:"w-full mt-8 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-grow bg-[var(--color-gold-light-bg)] rounded-xl px-4 py-3 flex items-center shadow-sm",children:[e.jsx("span",{className:"mr-2 opacity-50 text-gray-800 font-semibold text-lg",children:"$"}),e.jsx("input",{type:"number",value:C,onChange:S=>m(S.target.value),className:"bg-transparent w-24 outline-none text-gray-800 font-semibold text-lg placeholder-gray-600",autoFocus:!0,onKeyDown:S=>{S.key==="Enter"&&xe()}}),e.jsx("div",{className:"h-6 w-px bg-black/10 mx-2"}),e.jsxs("select",{value:N,onChange:S=>j(S.target.value),className:"bg-transparent outline-none text-gray-800 font-semibold text-sm appearance-none flex-grow cursor-pointer",children:[e.jsx("option",{value:"One Time",children:t("One Time",n)}),e.jsx("option",{value:"Series",children:"Series"}),e.jsx("option",{value:"Recurrent",children:"Recurrent"})]}),e.jsx(f,{name:"chevronDown",size:16,className:"text-gray-800 opacity-50 ml-1 pointer-events-none"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-500 hover:text-gray-700 bg-white rounded-xl shadow-sm border border-gray-100 transition-colors",children:e.jsx(f,{name:"x",size:20})}),e.jsx("button",{onClick:xe,className:"px-6 py-2 bg-[var(--color-gold)] text-black rounded-xl shadow-sm hover:bg-[var(--color-gold-dark)] transition-colors font-semibold",title:"Save price",children:"Save"})]})]}):e.jsx("div",{className:"w-full mt-8 relative",children:e.jsxs("div",{className:"group w-full relative",children:[q?e.jsxs("button",{className:`w-full bg-[var(--color-gold-light-bg)] text-gray-800 font-semibold py-4 rounded-xl text-lg shadow-sm flex items-center justify-center ${G?"pulse-price":""}`,onClick:()=>{m(a.price),j(a.pricingType||"One Time"),x("price")},"aria-label":`Price per request: $${a.price} / ${t(a.pricingType||"One Time",n)}`,children:[e.jsx("span",{className:"mr-2 opacity-50",children:"$"}),"$",a.price,e.jsxs("span",{className:"opacity-50 ml-1",children:["/ ",t(a.pricingType||"One Time",n)]})]}):e.jsx("div",{className:"w-full bg-gray-100 text-gray-500 font-medium py-4 rounded-xl text-lg shadow-sm flex items-center justify-center border border-gray-200",children:t("Price hidden",n)}),!r&&e.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition duration-150 text-xs bg-black text-white px-2 py-1 rounded-md price-tooltip",children:q?"Price per request. Click to edit":"Price is hidden from fans"}),!G&&q&&e.jsx("div",{className:"absolute left-6 right-6 bottom-0 h-0.5 bg-[var(--color-gold)] rounded-full"}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[e.jsx("div",{className:"cursor-pointer p-2 rounded-md hover:bg-gray-100 transition",onClick:S=>{S.stopPropagation(),m(a.price),j(a.pricingType||"One Time"),x("price")},title:"Edit price",children:e.jsx(f,{name:"pencilLine",size:18,className:"text-black"})}),e.jsx("button",{className:`p-2 rounded-md hover:bg-gray-100 transition ${q?"":"opacity-80"}`,onClick:S=>{S.stopPropagation(),ce(l=>!l)},"aria-pressed":q,title:q?"Hide price":"Show price",children:e.jsx(f,{name:q?"eye":"eyeOff",size:18})})]})]})})]})]})},Wt=({title:a,progress:d,missingFields:r,icon:p,isPopup:c,onClick:b,onPreview:i,selectedLanguage:h="English"})=>e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-4 cursor-pointer transition hover:shadow-md",onClick:b,children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:p,size:20,className:"text-white relative z-10"})]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:a})]}),d&&e.jsxs("span",{className:"text-[var(--color-gold)] font-bold",children:[d,"%"]})]}),d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-[var(--color-gold)] h-2 rounded-full",style:{width:`${d}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:t("8 of 10 fields completed • Tap to edit",h)}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md",children:t("Missing fields:",h)}),r.map((s,v)=>e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:s},v))]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-4 leading-relaxed",children:t("Create a personalized greeting for fans who visit your profile",h)}),e.jsxs("button",{onClick:s=>{s.stopPropagation(),i&&i()},className:"flex items-center px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[e.jsx(f,{name:"eye",size:16,className:"mr-2"}),t("Preview",h)]})]})]}),Bt=({isPreviewMode:a,video:d,onUpload:r,onDelete:p,selectedLanguage:c})=>{const b=o.useRef(null),i=o.useRef(null),[h,s]=o.useState(!1),v=()=>{b.current.click()},n=g=>{const x=g.target.files[0];if(x){const C=URL.createObjectURL(x);r({url:C,file:x})}};return o.useEffect(()=>{const g=i.current;if(!g)return;const x=()=>s(!0),C=()=>s(!1);return g.addEventListener("play",x),g.addEventListener("pause",C),()=>{g.removeEventListener("play",x),g.removeEventListener("pause",C)}},[]),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:t("Featured Video",c)}),d?e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-sm border border-gray-100 aspect-video group",children:[e.jsx("video",{ref:i,src:d.url,className:"w-full h-full object-contain bg-black cursor-pointer",onClick:()=>{i.current&&(i.current.paused?i.current.play():i.current.pause())}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:()=>{i.current&&(i.current.paused?(i.current.play(),s(!0)):(i.current.pause(),s(!1)))},onMouseEnter:()=>{i.current&&!i.current.paused?s(!0):i.current&&i.current.paused&&s(!1)},className:"p-4 bg-white/20 hover:bg-white/30 rounded-full backdrop-blur-sm transition-all",children:h?e.jsx(f,{name:"pause",size:32,className:"text-white"}):e.jsx(f,{name:"play",size:32,className:"text-white"})})}),!a&&e.jsx("button",{onClick:p,className:"absolute top-3 right-3 p-2 bg-black/50 text-white rounded-full hover:bg-red-500 transition backdrop-blur-sm opacity-0 group-hover:opacity-100",title:"Remove video",children:e.jsx(f,{name:"x",size:16})})]}):e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:"video",size:32,className:"text-white relative z-10"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("No featured video yet",c)}),e.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-xs leading-relaxed",children:t("Upload an introduction video to showcase your content",c)}),e.jsx("input",{type:"file",ref:b,className:"hidden",accept:"video/*",onChange:n}),!a&&e.jsxs("button",{onClick:v,className:"w-full border border-gray-200 rounded-xl py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",children:[e.jsx(f,{name:"upload",size:18,className:"mr-2"}),t("Upload Intro Video",c)]})]})]})},Vt=({videos:a,creatorId:d,onClose:r,onDelete:p,isPreview:c=!1,selectedLanguage:b="English"})=>{const[i,h]=o.useState(a),[s,v]=o.useState(!1);return o.useEffect(()=>{(async()=>{if(d){v(!0);try{const x=await fetch(`http://localhost:5000/videos/${d}`,{credentials:"include"});if(x.ok){const C=await x.json();h(C.videos||[])}else h(a)}catch(g){console.error("Failed to fetch videos:",g),h(a)}finally{v(!1)}}})()},[d]),e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[e.jsx("div",{className:c?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),e.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t("All Videos",b)}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[s?"Loading...":i.length," videos"]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(f,{name:"x",size:24})})]}),s?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-gray-400",children:t("Loading videos...",b)})}):i.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(n=>e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-200 shadow-sm",children:[e.jsx("img",{src:n.image||n.thumbnail,alt:n.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),e.jsx("button",{onClick:g=>{g.stopPropagation(),p(n.id)},className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full hover:bg-red-500 transition backdrop-blur-sm",children:e.jsx(f,{name:"x",size:12})}),e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsxs("div",{className:"flex items-center text-white text-xs font-medium drop-shadow-md bg-black/40 px-1.5 py-0.5 rounded-md backdrop-blur-sm",children:[e.jsx(f,{name:"eye",size:10,className:"mr-1"}),n.views||0]})})]}),e.jsx("h3",{className:"text-gray-900 text-sm font-medium mt-2 leading-tight line-clamp-2",children:n.title})]},n.id))}):e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-gray-400",children:t("No videos yet",b)})})]})]})},_t=({videos:a,onViewAll:d,isPreviewMode:r,selectedLanguage:p="English"})=>{const[c,b]=o.useState(null),i=a.slice(0,3),[h,s]=o.useState(!0),[v,n]=o.useState(!1),[g,x]=o.useState(!1),C=m=>m.endsWith("...");return r&&!h?null:(o.useEffect(()=>{if(r)return;x(!0);const m=setTimeout(()=>x(!1),1e4);return()=>clearTimeout(m)},[r]),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"relative flex justify-between items-center mb-4 px-1",children:[e.jsx("h2",{className:"text-xl font-normal text-gray-900",children:t("Top Videos",p)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:d,className:"text-gray-500 text-sm font-medium hover:text-gray-900",children:t("View All",p)}),!r&&e.jsx("button",{onClick:()=>{n(!0),s(m=>!m),setTimeout(()=>n(!1),300)},"aria-pressed":!h,title:h?t("Hide in preview",p):t("Show in preview",p),className:`p-2 rounded-lg transition ${v?"scale-95 opacity-90":"hover:bg-gray-100"}`,children:e.jsx(f,{name:h?"eye":"eyeOff",size:18})})]}),g&&!r&&e.jsx("div",{className:"absolute right-0 -top-10 text-xs bg-black text-white px-2 py-1 rounded-md",children:t("Toggle this section in Preview. Click the eye to show/hide.",p)})]}),e.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 scrollbar-hide snap-x",children:i.map(m=>e.jsxs("div",{className:"relative min-w-[85%] aspect-video rounded-xl overflow-hidden bg-gray-200 shadow-sm snap-center flex-shrink-0",children:[e.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}),!r&&e.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white text-[10px] px-2 py-1 rounded-md flex items-center cursor-pointer hover:bg-black/70 transition",children:[e.jsx(f,{name:"pencilLine",size:10,className:"mr-1 text-white"}),t("Edit",p)]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/90 via-black/50 to-transparent pt-10",children:[e.jsx("h3",{className:"text-white text-sm font-medium mb-1 leading-tight line-clamp-1",children:c===m.id?m.fullTitle||m.title:C(m.title)?e.jsx("span",{className:"cursor-pointer underline decoration-dotted",onClick:()=>b(m.id),children:m.title}):m.title}),e.jsxs("div",{className:"flex items-center text-gray-300 text-xs",children:[e.jsx(f,{name:"eye",size:12,className:"mr-1"}),m.views]})]})]},m.id))})]}))},Dt=({onCustomize:a,selectedLanguage:d="English"})=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1 px-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t("Quick CTA Templates",d)}),e.jsx(f,{name:"more",className:"text-gray-400",size:20})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4 px-1",children:t("Customize how fans request videos from you",d)}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:"text-gray-400 text-sm mr-2",children:t("Current CTA Preview:",d)}),e.jsx("span",{className:"text-[var(--color-gold)] text-xs font-medium px-2 py-0.5 rounded-full border border-[var(--color-gold)]",children:t("Rotating (2/2)",d)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-gray-900 font-medium text-lg pr-4 leading-tight",children:t("Your idea → Alex Morgan's next video",d)}),e.jsx("button",{onClick:a,className:"text-[var(--color-gold)] border border-[var(--color-gold)] px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap hover:bg-[var(--color-gold-light-bg)] transition",children:t("Customize",d)})]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[e.jsx(f,{name:"ideas",size:14,className:"text-[var(--color-gold)] mr-1.5"}),t("CTAs rotate every 30 seconds",d)]})]})]}),Rt=({isOpen:a,onClose:d,onShowToast:r,categories:p,onToggleCategory:c,onToggleTemplate:b,onCreateTemplate:i,isPreview:h=!1,selectedLanguage:s="English"})=>{if(!a)return null;const[v,n]=o.useState(!1),[g,x]=o.useState({categoryId:"custom",text:"",heading:"",subtext:""}),C=()=>{if(!g.text)return;const m={id:Date.now(),text:g.text,label:g.heading,subtext:g.subtext,selected:!0};i(g.categoryId,m),n(!1),x({categoryId:"custom",text:"",heading:"",subtext:""}),r&&r({title:"Template Saved",subtitle:"Added to Your Templates"})};return e.jsxs("div",{className:"fixed inset-0 z-[80] flex items-end sm:items-center justify-center sm:px-4",children:[e.jsx("div",{className:h?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d}),e.jsx("div",{className:"relative bg-white w-full max-w-md h-[85vh] sm:h-auto sm:max-h-[90vh] rounded-t-3xl sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom-full sm:zoom-in duration-300 flex flex-col overflow-hidden",children:v?e.jsxs("div",{className:"flex flex-col h-full border-2 border-[var(--color-gold)] rounded-t-3xl sm:rounded-3xl m-1",children:[e.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 p-1 -ml-2",children:e.jsx(f,{name:"arrowLeft",size:24})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t("Create Custom CTA",s)})]}),e.jsxs("div",{className:"p-6 pt-4 overflow-y-auto flex-grow scrollbar-hide",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Category",s)}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:g.categoryId,onChange:m=>x({...g,categoryId:m.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none appearance-none focus:border-[var(--color-gold)] text-gray-900",children:p.map(m=>e.jsxs("option",{value:m.id,children:[m.emoji?`${m.emoji} `:"",m.name]},m.id))}),e.jsx(f,{name:"chevronDown",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("CTA Text (use {creator} for name)",s)}),e.jsx("input",{type:"text",value:g.text,onChange:m=>x({...g,text:m.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] text-gray-900",placeholder:t("e.g., Tell {creator} what to create next",s)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Heading (optional)",s)}),e.jsx("input",{type:"text",value:g.heading,onChange:m=>x({...g,heading:m.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] text-gray-900",placeholder:t("e.g., Your ideas matter",s)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Subtext (optional)",s)}),e.jsx("textarea",{value:g.subtext,onChange:m=>x({...g,subtext:m.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] resize-none text-gray-900",rows:3,placeholder:t("e.g., Every request helps {creator} create better content",s)})]}),e.jsxs("div",{className:"flex gap-3 mt-auto",children:[e.jsxs("button",{onClick:C,className:"flex-1 bg-[var(--color-gold)] text-black font-semibold py-3 rounded-xl shadow-sm hover:bg-[var(--color-gold-darker)] transition flex items-center justify-center",children:[e.jsx(f,{name:"check",size:18,className:"mr-2"}),t("Create Template",s)]}),e.jsx("button",{onClick:()=>n(!1),className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition",children:t("Cancel",s)})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t("Quick CTA Templates",s)}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t("Customize how fans request videos from you",s)})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(f,{name:"x",size:24})})]}),e.jsxs("div",{className:"overflow-y-auto p-6 pt-4 space-y-4 scrollbar-hide pb-20",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start gap-4 mb-4",children:[e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t("Choose from 140+ templates across 23 categories (Max 3 selected)",s)}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-1 px-3 py-1.5 border border-[var(--color-gold)] text-[var(--color-gold)] rounded-lg text-sm font-medium whitespace-nowrap hover:bg-[var(--color-gold-light-bg)] transition",children:[e.jsx("span",{className:"text-lg leading-none mb-0.5",children:"+"}),e.jsx("span",{children:t("New Template",s)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("span",{className:"px-3 py-1 border border-[var(--color-gold)] text-[var(--color-gold)] rounded-lg text-xs font-medium bg-[var(--color-gold-light-bg)]",children:[p.reduce((m,N)=>m+(N.templates?.filter(j=>j.selected).length||0),0)," ",t("templates selected",s)]}),e.jsx("span",{className:"text-gray-400 text-xs",children:t("CTAs will rotate randomly on your profile",s)})]})]}),e.jsx("div",{className:"space-y-3",children:p.map(m=>e.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden bg-white",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition",onClick:()=>c(m.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xl w-6 text-center",children:m.icon?e.jsx(f,{name:m.icon,className:m.id==="default"?"text-[var(--color-gold)]":"text-gray-700"}):m.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t(m.name,s)}),m.count>0&&e.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full border border-[var(--color-gold)] text-[var(--color-gold)] text-[10px] font-bold",children:m.count})]}),m.description&&e.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:t(m.description,s)}),m.id==="default"&&e.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:t("Simple, direct CTAs that work for any creator",s)})]})]}),e.jsx(f,{name:m.isOpen?"chevronUp":"chevronDown",className:"text-gray-400",size:20})]}),m.isOpen&&m.templates&&e.jsx("div",{className:"px-4 pb-4 space-y-3",children:m.templates.map(N=>e.jsxs("div",{onClick:()=>b(m.id,N.id),className:`p-4 rounded-xl border transition-all cursor-pointer flex items-center justify-between ${N.selected?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"pr-4",children:[N.label&&e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t(N.label,s)}),e.jsx("p",{className:`text-sm font-medium ${N.selected?"text-[var(--color-gold-darker)]":"text-gray-900"}`,children:t(N.text,s)}),N.subtext&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t(N.subtext,s)})]}),N.selected&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0",children:e.jsx(f,{name:"check",size:14,className:"text-white",strokeWidth:3})})]},N.id))})]},m.id))}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 border border-gray-100 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(f,{name:"ideas",className:"text-[var(--color-gold)]",size:24}),e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t("How CTAs Work",s)})]}),e.jsxs("ul",{className:"space-y-3 text-gray-500 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:t("Select multiple templates - they'll rotate every 30 seconds on your profile",s)})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:t("Hover over any template to edit or delete (custom templates only)",s)})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:t("All {creator} placeholders automatically use your name",s)})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:t("23 specialized categories: Tech, Podcasts, Fashion, Business, Psychology & more",s)})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:"Emotional CTAs convert better than transactional ones"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{children:"Create and customize CTAs to match your unique style"})]})]})]})]})]})})]})},Yt=({selectedCTAs:a,profileName:d,onCTAClick:r,selectedLanguage:p="English"})=>{const[c,b]=o.useState(0),[i,h]=o.useState(!0),[s,v]=o.useState(!1),[n,g]=o.useState(0),x=ze(),C=[t("Your idea could become the next video here",p),t("Turn your request into part of {name}'s collection",p).replace("{name}",d)];o.useEffect(()=>{const j=()=>{document.visibilityState==="visible"&&g(0)};return document.addEventListener("visibilitychange",j),()=>document.removeEventListener("visibilitychange",j)},[]),o.useEffect(()=>{if(C.length<=1)return;const j=setInterval(()=>{g(E=>(E+1)%C.length)},5e3);return()=>clearInterval(j)},[C.length,d]);const m=C[n];o.useEffect(()=>{if(a.length<=1)return;const j=setInterval(()=>{h(!1),setTimeout(()=>{b(E=>(E+1)%a.length),h(!0)},500)},5e3);return()=>clearInterval(j)},[a.length]);const N=a.length>0?a[c].replace("{creator}",d):`Your idea → ${d}'s next video`;return e.jsxs("div",{className:"mb-24",children:[e.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:t("All Videos",p)}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col items-center text-center min-h-[280px] justify-center",children:[e.jsx("div",{className:"mb-6 text-gray-400",children:e.jsx(f,{name:"video",size:48,strokeWidth:1.5})}),e.jsx("h3",{className:"text-gray-400 text-lg mb-10",children:m}),e.jsx("button",{onClick:()=>{v(!0),setTimeout(()=>{x("/ideas"),r&&r()},120),setTimeout(()=>v(!1),420)},className:`w-full shimmer-gold text-black font-medium py-4 rounded-xl text-base shadow-sm hover:opacity-90 transition flex items-center justify-center ${s?"scale-95 opacity-90":""}`,children:e.jsx("span",{className:`transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,children:N})})]})]})},Ut=({profile:a,onUpdate:d,isPreviewMode:r,selectedLanguage:p="English"})=>{const[c,b]=o.useState(!1),[i,h]=o.useState(a?.bio||""),[s,v]=o.useState(a?.social||{twitter:"",instagram:""}),n=()=>{h(a.bio),v(a.social||{twitter:"",instagram:""}),b(!0)},g=()=>{d("bio",i),d("social",s),b(!1)};return c?e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:t("About",p)}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-sm",children:t("About You",p)}),e.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:e.jsx("textarea",{className:"bg-transparent w-full outline-none text-gray-900 text-base resize-none",rows:4,value:i,onChange:x=>h(x.target.value),autoFocus:!0})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-sm",children:t("Social Links (Optional)",p)}),e.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-3 mb-3 flex items-center",children:[e.jsx(f,{name:"twitter",size:18,className:"text-gray-500 mr-3"}),e.jsx("input",{type:"text",placeholder:t("Twitter/X username (without @)",p),value:s.twitter,onChange:x=>v({...s,twitter:x.target.value}),className:"bg-transparent w-full outline-none text-gray-900 text-base"})]}),e.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-3 flex items-center",children:[e.jsx(f,{name:"instagram",size:18,className:"text-gray-500 mr-3"}),e.jsx("input",{type:"text",placeholder:t("Instagram username (without @)",p),value:s.instagram,onChange:x=>v({...s,instagram:x.target.value}),className:"bg-transparent w-full outline-none text-gray-900 text-base"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 flex items-center text-sm",children:[e.jsx(f,{name:"x",size:16,className:"mr-2"}),t("Cancel",p)]}),e.jsxs("button",{onClick:g,className:"px-6 py-2 rounded-lg bg-[var(--color-gold)] font-medium text-black hover:bg-[var(--color-gold-darker)] flex items-center shadow-sm text-sm",children:[e.jsx(f,{name:"save",size:16,className:"mr-2"}),t("Save",p)]})]})]})]}):e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[e.jsx("h2",{className:"text-xl font-normal text-gray-900",children:t("About",p)}),!r&&e.jsxs("button",{onClick:n,className:"flex items-center text-gray-900 font-medium text-sm hover:text-gray-600 transition",children:[e.jsx(f,{name:"pencilLine",size:16,className:"mr-1"}),t("Edit",p)]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:e.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:a.bio})})]})},Mt=({profile:a,onCopy:d,selectedLanguage:r="English"})=>{const p=async()=>{const c=`${window.location.origin}/@${a?.handle||"user"}?request=true`,b={title:"Link Copied",subtitle:"Profile link copied to clipboard"};try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(c),d&&d(b);else throw new Error("Clipboard API unavailable")}catch{try{const h=document.createElement("textarea");h.value=c,h.style.position="fixed",h.style.left="-9999px",h.style.top="0",document.body.appendChild(h),h.focus(),h.select();const s=document.execCommand("copy");document.body.removeChild(h),s?d&&d(b):console.error("Fallback: Unable to copy")}catch(h){console.error("Failed to copy:",h)}}};return e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:"share",size:20,className:"text-white relative z-10"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t("Share Your Profile",r)}),e.jsx("p",{className:"text-gray-500 text-sm",children:t("Copy your unique profile link",r)})]})]}),e.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 border border-gray-200 rounded-xl text-sm font-medium text-gray-900 hover:bg-gray-50 transition whitespace-nowrap active:scale-95 active:bg-gray-100",children:[e.jsx(f,{name:"share",size:16,className:"mr-2"}),t("Copy Link",r)]})]})})},qt=({data:a,onClose:d})=>{const[r,p]=o.useState(0),[c,b]=o.useState(!1),i=o.useRef(0),h=o.useRef(null);o.useEffect(()=>{const N=setTimeout(()=>{s()},3e3);return()=>clearTimeout(N)},[d]);const s=()=>{b(!0),setTimeout(()=>{d()},300)},v=N=>{i.current=N.touches[0].clientX},n=N=>{const E=N.touches[0].clientX-i.current;p(E)},g=()=>{Math.abs(r)>80?s():p(0)},x=N=>{i.current=N.clientX,h.current.style.cursor="grabbing"},C=N=>{if(i.current===0)return;const j=N.clientX-i.current;p(j)},m=()=>{Math.abs(r)>80?s():p(0),i.current=0,h.current&&(h.current.style.cursor="grab")};return a?e.jsxs("div",{ref:h,className:`fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-3 px-4 py-3 rounded-2xl shadow-2xl min-w-[280px] max-w-[360px] transition-all duration-300 cursor-grab select-none backdrop-blur-xl ${c?"opacity-0 scale-95 -translate-y-4":"opacity-100 scale-100"}`,style:{transform:`translateX(calc(-50% + ${r}px))`,animation:c?"none":"toastSlideDown 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.95) 100%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.6)"},onTouchStart:v,onTouchMove:n,onTouchEnd:g,onMouseDown:x,onMouseMove:C,onMouseUp:m,onMouseLeave:m,children:[e.jsx("style",{children:`
                @keyframes toastSlideDown {
                    0% {
                        opacity: 0;
                        transform: translateX(-50%) translateY(-30px) scale(0.9);
                    }
                    50% {
                        transform: translateX(-50%) translateY(5px) scale(1.02);
                    }
                    100% {
                        opacity: 1;
                        transform: translateX(-50%) translateY(0) scale(1);
                    }
                }
                @keyframes checkPop {
                    0% { transform: scale(0) rotate(-45deg); }
                    50% { transform: scale(1.2) rotate(5deg); }
                    100% { transform: scale(1) rotate(0deg); }
                }
                .toast-check-icon {
                    animation: checkPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s backwards;
                }
            `}),e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:"check",size:18,className:"text-white relative z-10 toast-check-icon",strokeWidth:3})]}),e.jsx("div",{className:"absolute -inset-1 rounded-full animate-pulse",style:{background:"radial-gradient(circle, rgba(16, 185, 129, 0.2) 0%, transparent 70%)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 leading-tight",children:a.title}),a.subtitle&&e.jsx("p",{className:"text-gray-600 text-xs mt-0.5 leading-snug",children:a.subtitle})]})]}):null},Ht=({isOpen:a,onClose:d,profile:r,isPreview:p=!1,selectedLanguage:c="English"})=>{if(!a)return null;const b=[5,10,25,50,100],[i,h]=o.useState(""),[s,v]=o.useState(null),[n,g]=o.useState(!1),[x,C]=o.useState("One Time"),[m,N]=o.useState(!1),j=[{label:"One Time",value:"One Time",multiplier:1},{label:"Monthly",value:"Monthly",multiplier:.8}],E=()=>{if(s)return s;const I=Number(i);return I>0?I:null},R=!!E();return n?(window.location.href="https://www.paypal.com/ncp/payment/LABFRAJUV5B9J",null):e.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-4",children:[e.jsx("div",{className:p?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d}),e.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-6 pb-4 border-b border-gray-50 bg-white z-10 relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-[var(--color-gold)] font-semibold text-xl",children:"$"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:t("Send Tip",c)})]}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1",children:t("Show your appreciation and support {name}'s work",c).replace("{name}",r.name)})]}),e.jsxs("div",{className:"overflow-y-auto p-5 pt-2 space-y-4 scrollbar-hide flex-1",children:[e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:e.jsx("img",{src:r.image||"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:t("Sending tip to",c)}),e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:r.name})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:t("Select Tip Type",c)}),e.jsxs("button",{onClick:()=>N(!m),className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-medium text-gray-900",children:x}),e.jsx(f,{name:m?"chevron-up":"chevron-down",size:20,className:"text-gray-400"})]}),m&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-20 overflow-hidden",children:j.map(I=>e.jsxs("button",{onClick:()=>{C(I.value),N(!1)},className:`w-full px-4 py-3 text-left transition-colors flex justify-between items-center ${x===I.value?"bg-[var(--color-gold-cream)] border-b border-gray-100":"hover:bg-gray-50 border-b border-gray-50 last:border-b-0"}`,children:[e.jsx("span",{className:"font-medium text-gray-900",children:I.label}),x===I.value&&e.jsx(f,{name:"check",size:18,className:"text-[var(--color-gold)]"})]},I.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:t("Quick Amount",c)}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(I=>{const P=s===I;return e.jsx("button",{onClick:()=>{v(I),h("")},className:`rounded-xl py-3 flex flex-col items-center justify-center transition-colors border text-sm ${P?"bg-[#173A66] text-white border-[#173A66]":"bg-gray-50 hover:bg-gray-100 border-gray-100"}`,children:e.jsxs("span",{className:"font-semibold",children:["$",I]})},I)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:t("Custom Amount",c)}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[var(--color-gold)] transition-colors",children:[e.jsx("span",{className:"text-gray-400 mr-2 text-lg",children:"$"}),e.jsx("input",{type:"number",value:i,onChange:I=>{h(I.target.value),v(null)},className:"bg-transparent w-full outline-none text-gray-900 font-semibold text-sm",placeholder:t("Amount",c)})]})})]}),e.jsxs("div",{className:"bg-[var(--color-gold-cream)]/40 rounded-xl p-3 flex gap-3 border border-[var(--color-gold-cream)]/50 text-xs",children:[e.jsx("div",{className:"text-[var(--color-gold)] flex-shrink-0",children:e.jsx("div",{className:"w-6 h-6 bg-[var(--color-gold-cream)] rounded-md flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-sm",children:"$"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium mb-0.5",children:t("100% to creator",c)}),e.jsx("p",{className:"text-gray-500 leading-snug",children:x==="One Time"?t("No fees, goes directly to support their work",c):t("Monthly recurring, cancel anytime",c)})]})]}),e.jsx("div",{className:"sticky bottom-0 pt-3 bg-white border-t border-gray-100",children:e.jsx("button",{onClick:()=>{E()&&g(!0)},disabled:!R,className:`w-full px-4 py-3 rounded-2xl text-base font-semibold transition-colors focus:outline-none ${R?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:R?`${t("Continue",c)} — $${E()||"0"} / ${x}`:t("Select an amount",c)})})]})]})]})},Jt=({isOpen:a,onClose:d,profile:r,onBecomeSponsor:p,onSendTip:c,customData:b,isPreview:i=!1,isSharedLink:h=!1,selectedLanguage:s="English"})=>{if(!a)return null;const v=(b?.title||t("{name} is waiting for you!",s)).replace(/{name}/g,r.name),n=(b?.message||t("Tell {name} what video(s) to create next",s)).replace(/{name}/g,r.name),g=(b?.ctaText||t("Tell {name}",s)).replace(/{name}/g,r.name),x=ze(),[C,m]=o.useState(!1),N=()=>{const j={id:r.id||r.handle||r.name,name:r.name,handle:r.handle,displayName:r.name,photoURL:r.image,image:r.image,price:r.price||0};try{localStorage.setItem("ideas_selectedCreator_v1",JSON.stringify(j))}catch(E){console.warn("Failed to store creator data:",E)}m(!0),setTimeout(()=>{x("/ideas")},120)};return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-0",children:[e.jsx("style",{children:`
                @keyframes shine {
                    0% { left: -100%; }
                    20% { left: 100%; }
                    100% { left: 100%; }
                }
                @keyframes shimmer-gold-premium {
                    0% { background-position: 100% 0; }
                    40% { background-position: 0% 0; }
                    100% { background-position: 0% 0; }
                }
                @keyframes img-brighten {
                    0% { filter: brightness(0.96) saturate(0.98); }
                    40% { filter: brightness(1.12) saturate(1.03); }
                    100% { filter: brightness(0.96) saturate(0.98); }
                }
                .shimmer-gold {
                    background: linear-gradient(100deg, var(--color-gold) 0%, var(--color-gold) 42%, var(--color-gold-cream) 45%, var(--color-gold-cream) 55%, var(--color-gold) 58%, var(--color-gold) 100%);
                    background-size: 300% 100%;
                    animation: shimmer-gold-premium 3s ease-in-out infinite;
                }
                .img-shimmer {
                    animation: img-brighten 3.5s ease-in-out infinite;
                    will-change: filter;
                }
            `}),e.jsx("div",{className:i||h?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:h?void 0:d}),e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-md mx-4 px-6 py-8 sm:px-6 sm:py-8 shadow-2xl animate-in fade-in zoom-in duration-200 flex flex-col items-center",children:[!i&&!h&&e.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:e.jsx(f,{name:"x",size:24})}),e.jsx("div",{className:"mb-4 relative",children:e.jsx("div",{className:"w-28 h-28 rounded-full p-1 shadow-sm bg-transparent",children:e.jsx("div",{className:"w-full h-full rounded-full p-1 shimmer-gold",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white overflow-hidden bg-gray-200 relative",children:e.jsx("img",{src:r.image||"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover img-shimmer"})})})})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 text-center mb-2 tracking-tight leading-snug",children:v}),e.jsx("div",{className:"flex items-center justify-center mb-3 text-4xl","aria-hidden":"true",children:"🎬"}),e.jsx("p",{className:"text-gray-600 text-center text-base sm:text-lg font-normal whitespace-pre-wrap mb-6 max-w-[44rem] leading-relaxed",children:n}),r.price&&e.jsxs("div",{className:"bg-gray-100 text-gray-900 px-5 py-2 rounded-xl text-sm font-medium mb-4",children:[t("From",s)," $",r.price," USD"]}),e.jsxs("button",{className:`relative overflow-hidden w-full bg-[var(--color-gold)] text-white font-semibold py-4 rounded-full text-lg tracking-wide shadow-md hover:bg-[var(--color-gold-darker)] transition flex items-center justify-center mb-4 ${C?"scale-95 opacity-90":""}`,onClick:N,"aria-label":g,children:[e.jsx("div",{className:"absolute top-0 h-full w-2/3 bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{animation:"shine 6s infinite"}}),e.jsx(f,{name:"video",size:20,className:"mr-2 text-white relative z-10"}),e.jsx("span",{className:"relative z-10",children:g})]}),e.jsxs("div",{className:"flex gap-3 w-full mb-4 flex-nowrap",children:[e.jsxs("button",{onClick:c,className:"flex-1 min-w-0 border border-gray-200 rounded-full py-2 sm:py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition text-sm tracking-wide",children:[e.jsx(f,{name:"heart",size:18,className:"mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t("Send Tip",s)})]}),e.jsxs("button",{onClick:p,className:"flex-1 min-w-0 border border-gray-200 rounded-full py-2 sm:py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition text-sm tracking-wide",children:[e.jsx(f,{name:"star",size:18,className:"mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t("Become a Sponsor",s)})]})]}),!h&&e.jsx("button",{onClick:d,className:"text-gray-500 text-sm hover:text-gray-700 font-normal mt-1",children:t("Maybe later",s)})]})]})},Gt=({isOpen:a,onClose:d,data:r,onSave:p,onPreview:c,isPreview:b=!1,selectedLanguage:i="English"})=>{if(!a)return null;const h=()=>({title:t("{name} is waiting for you! 🎬",i),message:t("Where should {name} go next?",i),ctaText:t("Tell {name}",i)}),[s,v]=o.useState(r||h()),n=(x,C)=>{v(m=>({...m,[x]:C}))},g=()=>{v(h())};return e.jsxs("div",{className:"fixed inset-0 z-[90] flex items-end sm:items-center justify-center sm:px-4",children:[e.jsx("div",{className:b?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d}),e.jsxs("div",{className:"relative bg-white w-full max-w-md h-[90vh] sm:h-auto rounded-t-3xl sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom-full sm:zoom-in duration-300 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:t("Customize Welcome Popup",i)}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1",children:t("Personalize the greeting message that fans see when they visit your profile",i)})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(f,{name:"x",size:24})})]}),e.jsxs("div",{className:"overflow-y-auto p-6 pt-4 space-y-4 scrollbar-hide pb-20",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Title",i)}),e.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:e.jsx("input",{type:"text",value:s.title,onChange:x=>n("title",x.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:t("Enter a title",i),autoFocus:!0})}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[s.title.length,"/60 ",t("characters",i)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Message",i)}),e.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:e.jsx("textarea",{value:s.message,onChange:x=>n("message",x.target.value),className:"bg-transparent w-full outline-none text-gray-900 resize-none font-medium",rows:3,placeholder:t("Enter your message",i)})}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[s.message.length,"/200 ",t("characters",i)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("CTA Button Text",i)}),e.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:e.jsx("input",{type:"text",value:s.ctaText,onChange:x=>n("ctaText",x.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:t("Enter CTA button text",i)})}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[s.ctaText.length,"/40 ",t("characters",i)]})]}),e.jsxs("div",{className:"flex gap-3 mt-auto",children:[e.jsxs("button",{onClick:g,className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition flex items-center justify-center",children:[e.jsx(f,{name:"refresh",size:18,className:"mr-2"}),t("Reset",i)]}),e.jsxs("button",{onClick:()=>c(s),className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition flex items-center justify-center",children:[e.jsx(f,{name:"eye",size:18,className:"mr-2"}),t("Preview",i)]}),e.jsxs("button",{onClick:()=>{p(s),d()},className:"flex-grow flex items-center justify-center px-4 py-3 bg-[var(--color-gold)] rounded-xl text-sm font-bold text-black hover:bg-[var(--color-gold-darker)] transition shadow-sm",children:[e.jsx(f,{name:"save",size:18,className:"mr-2"}),"Save"]})]})]})]})]})},Xt=({isOpen:a,onClose:d,profile:r,isPreview:p=!1,selectedLanguage:c="English"})=>{if(!a)return null;const b=[{name:t("Support",c),price:"5",description:t("Help me create more content",c),perks:[t("Early access to videos",c),t("Supporter badge",c)]},{name:t("Enthusiast",c),price:"15",description:t("Show your enthusiasm",c),perks:[t("All Support perks",c),t("Monthly Q&A access",c),t("Name in credits",c)]},{name:t("Patron",c),price:"50",description:t("Become a patron",c),perks:[t("All Enthusiast perks",c),t("1-on-1 consultation (quarterly)",c),t("Custom video request priority",c)],popular:!0}],[i,h]=o.useState(null),[s,v]=o.useState(""),[n,g]=o.useState(""),[x,C]=o.useState(!1),[m,N]=o.useState(null),j=!!i||Number(s)>0,E=i?b.find(P=>P.name===i)?.price||null:Number(s)>0?s:null,R=()=>{if(window&&window.__BACKEND_URL__)return window.__BACKEND_URL__;const P=window.location.protocol,F=window.location.hostname;return`${P}//${F}:4000`},I=async(P,F)=>{if(!(!F||Number(F)<=0)){C(!0),N(null);try{const M=R(),X=localStorage.getItem("authToken");if(!X){N(t("Please log in to continue",c)),C(!1);return}const T=await fetch(`${M}/payment/init`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({amount:Number(F),paymentType:"subscription",subscriptionTier:i||"custom",paymentMode:P==="monthly"?"monthly":"one-time"})});if(!T.ok)throw new Error("Failed to initialize payment session");const L=(await T.json()).sessionId;localStorage.setItem("pending_payment_session",JSON.stringify({sessionId:L,amount:Number(F),tier:i||"custom",mode:P==="monthly"?"monthly":"one-time",timestamp:Date.now()})),console.log("✅ Payment session initialized:",L),window.location.href="https://www.paypal.com/ncp/payment/XWKNU42XM5ZPQ"}catch(M){console.error("Payment initialization error:",M),N(M.message||t("Payment failed. Please try again.",c)),C(!1)}}};return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",children:[e.jsx("div",{className:p?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d}),e.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"p-4 pb-3 border-b border-gray-50 bg-white z-10 relative",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h2",{className:"text-lg sm:text-2xl md:text-3xl font-semibold text-gray-900 tracking-tight leading-tight",children:t("Become a Sponsor",c)}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1 max-w-[90%] mx-auto",children:t("Support {name} and get exclusive perks",c).replace("{name}",r.name)})]})}),e.jsxs("div",{className:"overflow-y-auto p-5 pt-2 space-y-3 scrollbar-hide flex-1",children:[m&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 flex gap-3",children:[e.jsx(f,{name:"alert-circle",size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-700 text-sm",children:m})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:b.map(P=>{const F=i===P.name;return e.jsxs("button",{type:"button",onClick:()=>h(P.name),"aria-pressed":F,"aria-label":`${P.name} tier ${P.price} dollars per month`,className:`relative p-3 rounded-xl flex flex-col items-center justify-center text-center transition-shadow focus:outline-none ${F?"bg-[#173A66] text-white shadow-lg ring-2 ring-[#173A66]":"bg-white border border-gray-200 hover:shadow-sm hover:bg-gray-50"} focus:ring-2 focus:ring-[#173A66] focus:ring-offset-2`,children:[P.popular&&e.jsx("div",{className:"absolute -top-1.5 right-1 text-[9px] bg-[var(--color-gold-cream)] text-[var(--color-gold)] px-1.5 py-0.5 rounded-full font-bold",children:t("Popular",c)}),e.jsx("div",{className:"text-xs font-medium truncate",children:P.name}),e.jsxs("div",{className:`text-lg font-extrabold mt-1 ${F?"text-white":"text-gray-900"}`,children:["$",P.price]})]},P.name)})}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:t("Custom Amount",c)}),e.jsx("div",{className:"text-xs text-gray-400",children:t("/month",c)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[#173A66] transition-colors",children:[e.jsx("span",{className:"text-gray-400 mr-2 text-sm",children:"$"}),e.jsx("input",{type:"number",value:s,onChange:P=>{v(P.target.value),h(null)},className:"bg-transparent w-full outline-none text-gray-900 font-medium text-sm",placeholder:"0"})]})})]}),e.jsxs("div",{className:"mb-2 border border-gray-200 rounded-xl p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:t("One-time Tip",c)}),e.jsx("div",{className:"text-xs text-gray-400",children:t("Optional",c)})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[#173A66] transition-colors",children:[e.jsx("span",{className:"text-gray-400 mr-2 text-sm",children:"$"}),e.jsx("input",{type:"number",value:n,onChange:P=>g(P.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium text-sm",placeholder:"0"})]}),e.jsx("button",{type:"button",onClick:()=>I("one-time",n),disabled:!n||Number(n)<=0||x,className:`px-3 py-2 rounded-lg text-xs transition-colors ${n&&Number(n)>0&&!x?"bg-[var(--color-gold-light-bg)] text-black font-semibold hover:bg-[var(--color-gold-darker)]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:x?t("Processing...",c):t("Send",c)})]})]}),e.jsx("div",{className:"sticky bottom-0 pt-3 bg-white border-t border-gray-100",children:e.jsx("button",{type:"button",onClick:()=>I("monthly",E),disabled:!j||x,className:`w-full px-4 py-3 rounded-2xl text-base font-semibold transition-colors focus:outline-none ${j&&!x?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:x?`${t("Processing",c)}...`:j?`${t("Continue",c)} — $${E} / ${t("mo",c)}`:t("Select amount",c)})})]})]})]})},Kt=({onClose:a,profile:d,onUpdate:r,isPreview:p=!1})=>{const[c,b]=o.useState(null),[i,h]=o.useState(d.tagline||""),[s,v]=o.useState(d.price||""),[n,g]=o.useState(d.email||""),[x,C]=o.useState(!1),[m,N]=o.useState(!1),j=!!i,E=!!s&&Number(s)>=7,R=!!d.emailVerified;o.useRef(null);const I=()=>{r("tagline",i),b(null)},P=()=>{r("price",s),b(null)},F=()=>{n&&(N(!0),setTimeout(()=>N(!1),3e3),r("email",n))};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-2",children:[e.jsx("div",{className:p?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",style:{maxHeight:"90vh",minHeight:"480px"},children:[e.jsx("div",{className:"px-6 pt-6 pb-2 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(f,{name:"sparkles",size:22,className:"text-[var(--color-gold)]"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:t("Complete Your Profile",selectedLanguage)})]}),e.jsx("div",{className:"text-gray-600 text-sm sm:text-base font-normal leading-relaxed",children:t("Fill in all fields to maximize your profile visibility and attract more fans",selectedLanguage)})]})}),e.jsx("div",{className:"px-6 pt-2 pb-2",children:e.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-[var(--color-gold)] to-transparent rounded-full"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-4 pt-2 scrollbar-hide",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-gray-900 font-normal text-base",children:t("Tagline (optional)",selectedLanguage)}),e.jsx("div",{className:"flex items-center mt-1",children:c==="tagline"?e.jsx("input",{type:"text",value:i,onChange:M=>h(M.target.value),className:"w-full bg-gray-100 rounded-xl px-4 py-3 outline-none text-gray-900 font-normal",placeholder:t("Not set",selectedLanguage),autoFocus:!0}):e.jsx("div",{className:"flex w-full items-center",children:e.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:i||e.jsx("span",{className:"text-gray-400",children:t("Not set",selectedLanguage)})})})}),c==="tagline"&&e.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",children:t("Cancel",selectedLanguage)}),e.jsx("button",{onClick:I,className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",children:t("Save Tagline",selectedLanguage)})]}),e.jsx("div",{className:"flex items-center mt-2",children:!j&&e.jsx(f,{name:"alertCircle",size:18,className:"text-gray-400 mr-1"})}),e.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>b("tagline"),children:[e.jsx(f,{name:"pencilLine",size:18,className:"mr-2"}),t("Edit Tagline",selectedLanguage)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-gray-900 font-normal text-base",children:t("Price per Request (min. $7 USD)",selectedLanguage)}),e.jsx("div",{className:"flex items-center mt-1",children:c==="price"?e.jsx("input",{type:"number",value:s,onChange:M=>v(M.target.value),className:"w-full bg-gray-100 rounded-xl px-4 py-3 outline-none text-gray-900 font-normal",placeholder:"Not set (min. $7.00)",min:7,autoFocus:!0}):e.jsx("div",{className:"flex w-full items-center",children:e.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:s?`$${s}`:e.jsx("span",{className:"text-gray-400",children:t("Not set (min. $7.00)",selectedLanguage)})})})}),c==="price"&&e.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",children:t("Cancel",selectedLanguage)}),e.jsx("button",{onClick:P,className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",children:t("Save Price",selectedLanguage)})]}),e.jsx("div",{className:"flex items-center mt-2",children:!E&&e.jsx(f,{name:"alertCircle",size:20,className:"text-orange-400 mr-1"})}),e.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>b("price"),children:[e.jsx(f,{name:"pencilLine",size:18,className:"mr-2"}),t("Edit Price",selectedLanguage)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-gray-900 font-normal text-base",children:t("Email Verification",selectedLanguage)}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:R?t("Email verified",selectedLanguage):m?e.jsxs("span",{className:"text-green-600",children:[t("Verification sent to",selectedLanguage)," ",n]}):x?e.jsx("input",{type:"email",value:n,onChange:M=>g(M.target.value),className:"bg-transparent w-full outline-none text-gray-900",placeholder:t("Enter your email",selectedLanguage),autoFocus:!0}):e.jsx("span",{className:"text-gray-400",children:t("Email not verified yet",selectedLanguage)})}),!R&&e.jsx(f,{name:"alertCircle",size:20,className:"text-orange-400 ml-2"})]}),!R&&!x&&!m&&e.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>C(!0),children:[e.jsx(f,{name:"mail",size:18,className:"mr-2"}),t("Verify Email",selectedLanguage)]}),x&&!R&&e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",onClick:()=>C(!1),children:t("Cancel",selectedLanguage)}),e.jsx("button",{className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",onClick:F,disabled:!n,children:t("Send Verification",selectedLanguage)})]}),m&&e.jsx("div",{className:"text-green-600 text-sm mt-2",children:t("Verification email sent!",selectedLanguage)})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-white",children:[e.jsxs("button",{onClick:a,className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal flex items-center",children:[e.jsx(f,{name:"x",size:18,className:"mr-1"}),t("Exit",selectedLanguage)]}),e.jsxs("button",{onClick:()=>{r("tagline",i),r("price",s),a()},className:"px-6 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm flex items-center gap-2",children:[e.jsx(f,{name:"save",size:18,className:"mr-1"}),t("Save",selectedLanguage)]})]})]})]})},Ws=()=>{const[a,d]=o.useState(()=>localStorage.getItem("regaarder_language")||"English");o.useEffect(()=>{const l=()=>{const u=localStorage.getItem("regaarder_language")||"English";d(u)};return window.addEventListener("languageChanged",l),()=>window.removeEventListener("languageChanged",l)},[]);const[r,p]=o.useState(!1),[c,b]=o.useState(!1),[i,h]=o.useState(!1),[s,v]=o.useState(!1),[n,g]=o.useState(!1),[x,C]=o.useState(!1),[m,N]=o.useState(!1),[j,E]=o.useState(!1),[R,I]=o.useState(!1),[P,F]=o.useState(null),[M,X]=o.useState(null),[T,K]=o.useState({name:"Nejdkr",handle:"nejdkr",bio:"Exploring human motivation through real-world experiments",tag:"general",price:"50",tagline:"",social:{twitter:"",instagram:""},email:""}),[L,ie]=o.useState(null),[ne,te]=o.useState(null),[q,ce]=o.useState(!1);o.useEffect(()=>{let l;return r&&(l=setTimeout(()=>{v(!0)},q?500:1e3)),()=>clearTimeout(l)},[r,q]),o.useEffect(()=>{new URLSearchParams(window.location.search||"").get("request")==="true"&&!q&&(p(!0),ce(!0))},[q]),o.useEffect(()=>{(async()=>{try{const u=new URLSearchParams(window.location.search||""),w=u.get("id"),y=u.get("handle")||u.get("h"),A=window.location.pathname.startsWith("/@")?window.location.pathname.slice(2).split("?")[0]:null,W=u.get("shared")==="true"||u.get("request")==="true",z=window&&window.__BACKEND_URL__||"http://localhost:4000",B=A||y;W&&(p(!0),ce(!0));const Y=(()=>{try{return JSON.parse(localStorage.getItem("regaarder_user")||"null")}catch{return null}})(),V=async(k,O)=>{let $;if(k)$=await fetch(`${z}/users/${encodeURIComponent(k)}`);else if(O){const D=String(O).trim().replace(/^@/,"");$=await fetch(`${z}/users/handle/${encodeURIComponent(D)}`)}if(!$||!$.ok)return null;const ee=await $.json();if(!ee||!ee.user)return null;const _={...ee.user};if(_.image&&String(_.image).startsWith("blob:")&&(_.image=""),_.image)try{const D=new URL(_.image);D.hostname==="localhost"&&(D.hostname=window.location.hostname),window&&window.location&&window.location.protocol&&(D.protocol=window.location.protocol),_.image=D.toString()}catch{}_.document&&String(_.document).startsWith("blob:")&&(_.document="");try{const D=await fetch(`${z}/videos`);if(D.ok){const J=await D.json(),we=(Array.isArray(J)?J:J.videos||[]).filter(Q=>Q.authorId===_.id||Q.authorId===_.email||Q.author&&Q.author.toLowerCase()===(_.name||"").toLowerCase()),Ee=we.reduce((Q,je)=>Q+(parseInt(je.views)||0),0),Ie=we.reduce((Q,je)=>Q+(parseInt(je.comments)||0),0);_.views=Ee,_.comments=Ie,_.videoCount=we.length}}catch(D){console.error("Error fetching videos for stats:",D)}return _};if(w)try{const k=await V(w,null);if(k){K($=>({...$,...k}));const O=Y&&(Y.id===k.id||Y.email===k.email||Y.name&&Y.name.toLowerCase()===k.name.toLowerCase());if(b(O),k.introVideo&&X({url:k.introVideo}),k.categories&&Array.isArray(k.categories))try{Z(k.categories)}catch{}return}}catch{}if(B)try{const k=await V(null,B);if(k){K($=>({...$,...k}));const O=Y&&(Y.id===k.id||Y.email===k.email||Y.name&&Y.name.toLowerCase()===k.name.toLowerCase());if(b(O),k.introVideo&&X({url:k.introVideo}),k.categories&&Array.isArray(k.categories))try{Z(k.categories)}catch{}return}}catch{}try{const k=JSON.parse(localStorage.getItem("regaarder_user")||"null");if(k&&typeof k=="object"){const O={...k};if(O.image&&String(O.image).startsWith("blob:")&&(O.image=""),O.image)try{const $=new URL(O.image);$.hostname==="localhost"&&($.hostname=window.location.hostname),window&&window.location&&window.location.protocol&&($.protocol=window.location.protocol),O.image=$.toString()}catch{}O.document&&String(O.document).startsWith("blob:")&&(O.document="");try{const $=await fetch(`${z}/videos`);if($.ok){const ee=await $.json(),D=(Array.isArray(ee)?ee:ee.videos||[]).filter(J=>J.authorId===O.id||J.authorId===O.email||J.author&&J.author.toLowerCase()===(O.name||"").toLowerCase());O.views=D.reduce((J,fe)=>J+(parseInt(fe.views)||0),0),O.comments=D.reduce((J,fe)=>J+(parseInt(fe.comments)||0),0),O.videoCount=D.length}}catch($){console.error("Error fetching videos for stats:",$)}if(K($=>({...$,...O})),b(!0),k.introVideo&&X({url:k.introVideo}),k.categories&&Array.isArray(k.categories))try{Z(k.categories)}catch{}}}catch{}localStorage.getItem("regaarder_token")||(console.info("No authentication token found. You can still edit your profile locally, but changes won't sync to the server until you log in."),setTimeout(()=>{F({title:"Local Mode",subtitle:"Profile edits saved locally. Login to sync across devices."})},2e3))}catch{}})()},[]),o.useEffect(()=>{const u=setInterval(async()=>{try{if(!T.id)return;const w=window&&window.__BACKEND_URL__||"http://localhost:4000",y=await fetch(`${w}/users/${encodeURIComponent(T.id)}`);if(y.ok){const A=await y.json();if(A&&A.user){const W={};A.user.followers!==void 0&&(W.followers=A.user.followers),A.user.views!==void 0&&(W.views=A.user.views),A.user.comments!==void 0&&(W.comments=A.user.comments),Object.keys(W).length>0&&K(z=>({...z,...W}))}}}catch(w){console.error("Error refreshing profile stats:",w)}},3e3);return()=>clearInterval(u)},[T.id]),o.useEffect(()=>{const l=async()=>{if(c){console.log("Stats refresh skipped: viewing own profile");return}try{const y=window&&window.__BACKEND_URL__||"http://localhost:4000",A=await fetch(`${y}/videos`);if(A.ok){const W=await A.json(),B=(Array.isArray(W)?W:W.videos||[]).filter(V=>V.authorId===T.id||V.authorId===T.email||V.author&&V.author.toLowerCase()===(T.name||"").toLowerCase()),H=B.reduce((V,U)=>V+(parseInt(U.views)||0),0),Y=B.reduce((V,U)=>V+(parseInt(U.comments)||0),0);K(V=>({...V,views:H,comments:Y,videoCount:B.length}))}}catch(y){console.error("Error refreshing stats:",y)}},u=y=>{console.log("Comment event detected, refreshing stats:",y.detail),l()},w=y=>{console.log("Watch history updated, refreshing stats"),l()};return window.addEventListener("request:comment_added",u),window.addEventListener("watchhistory:updated",w),()=>{window.removeEventListener("request:comment_added",u),window.removeEventListener("watchhistory:updated",w)}},[T.id,T.email,T.name,c]);const[G,Z]=o.useState([{id:"custom",name:"Your Templates",icon:"user",count:0,isOpen:!0,templates:[]},{id:"default",name:"Default",icon:"sparkles",count:1,isOpen:!0,templates:[{id:1,text:"Tell {creator} what video(s) to create next",selected:!1},{id:2,text:"Your idea → {creator}'s next video",selected:!0}]},{id:"premium",name:"Premium & Elegant",emoji:"🎩",description:"Sophisticated, refined tone for artistic creators",isOpen:!1,templates:[{id:"p1",label:"Work with a creator you admire",text:"Commission a video from {creator}",selected:!1},{id:"p2",label:"Your idea → {creator}'s next video",text:"Inspire {creator}'s next creation",selected:!1},{id:"p3",text:"Collaborate with {creator} on a new video",selected:!1},{id:"p4",text:"Shape {creator}'s next masterpiece",selected:!1}]},{id:"personal",name:"Personal & Ownership",emoji:"🤝",description:"Triggers co-creation feelings and influence",isOpen:!1,templates:[{id:"po1",label:"You decide what happens next",text:"Make {creator} create your idea",selected:!1},{id:"po2",text:"You decide what {creator} creates next",selected:!1},{id:"po3",label:"Your influence, their creation",text:"Be part of {creator}'s next video",selected:!1},{id:"po4",text:"Turn your idea into {creator}'s next release",selected:!1}]},{id:"action",name:"Action-Oriented",icon:"zap",description:"Exciting, energetic marketing-style CTAs",isOpen:!1,templates:[{id:"ao1",label:"Ready to see your idea come to life?",text:"Get your custom video from {creator} now",selected:!1},{id:"ao2",text:"Start your request — {creator} is taking ideas",selected:!1},{id:"ao3",text:"Send your idea — {creator} might make it next!",selected:!1},{id:"ao4",text:"Your story could become {creator}'s next video",selected:!1},{id:"ao5",text:"Pitch your idea — watch {creator} bring it to life",selected:!1}]},{id:"weekend",name:"Weekend / Emotional",emoji:"🌅",description:"Netflix-like, entertainment-focused prompts",isOpen:!1,templates:[{id:"w1",text:"What do you want to watch {creator} create this weekend?",selected:!1},{id:"w2",text:"Tell {creator} your idea",selected:!1},{id:"w3",text:"Request from {creator}",selected:!1},{id:"w4",text:"{creator} is taking requests",selected:!1},{id:"w5",text:"Your weekend idea — {creator}'s next creation",selected:!1},{id:"w6",text:"What should {creator} film next for you?",selected:!1},{id:"w7",text:"Need something new to watch? Ask {creator} to create it",selected:!1},{id:"w8",text:"What's the next video you'd love {creator} to make?",selected:!1}]},{id:"conversational",name:"Conversational",icon:"message",description:"Warm, human, and effortless tone",isOpen:!1,templates:[{id:"c1",text:"What do you want {creator} to make next?",selected:!1},{id:"c2",text:"Got a topic you'd love {creator} to cover?",selected:!1},{id:"c3",text:"Your idea could be {creator}'s next video",selected:!1},{id:"c4",text:"Ask {creator} to bring your idea to life",selected:!1},{id:"c5",text:"What would you love to see {creator} create?",selected:!1},{id:"c6",text:"Tell {creator} your idea — they'll make it happen",selected:!1},{id:"c7",text:"You imagine it. {creator} creates it.",selected:!1},{id:"c8",text:"Let's turn your idea into {creator}'s next hit",selected:!1}]},{id:"playful",name:"Playful & Light",emoji:"🪄",description:"Fun, softly persuasive approach",isOpen:!1,templates:[{id:"pl1",text:"Got a wild idea? Drop it for {creator}",selected:!1},{id:"pl2",text:"Give {creator} a challenge — what should they make?",selected:!1},{id:"pl3",text:"Your wish, {creator}'s camera",selected:!1},{id:"pl4",text:"Go on, make {creator} work for it 😉",selected:!1},{id:"pl5",text:"You think it, {creator} films it",selected:!1},{id:"pl6",text:"One click away from seeing your idea come alive",subtext:"Request from {creator}",selected:!1},{id:"pl7",text:"Inspire {creator}'s next upload",selected:!1},{id:"pl8",text:"Start something new with {creator} today",selected:!1}]},{id:"entertainment",name:"Entertainment",emoji:"🎬",description:"Fun, engaging content for everyone",isOpen:!1,templates:[{id:"ent1",text:"What should {creator} react to next?",selected:!1},{id:"ent2",text:"Suggest a movie or show for {creator} to review",selected:!1}]},{id:"educational",name:"Educational",emoji:"📚",description:"Perfect for educators and explainers",isOpen:!1,templates:[{id:"t1",text:"Got a tech problem? Ask {creator} to break it down",selected:!1},{id:"t2",text:"What gadget or tool should {creator} review next?",selected:!1},{id:"t3",text:"Let {creator} explain the tech behind your favorite thing",selected:!1},{id:"t4",text:"Your question → {creator}'s next tech deep dive",selected:!1},{id:"t5",text:"Curious about how something works? Ask {creator}",selected:!1},{id:"t6",text:"Tell {creator} which tech mystery to uncover",selected:!1},{id:"t7",text:"Your idea could power {creator}'s next innovation video",selected:!1},{id:"t8",text:"What should {creator} decode next in tech?",selected:!1},{id:"t9",text:"Tech confusing you? Let {creator} make sense of it",selected:!1},{id:"t10",text:"Give {creator} a tech challenge — what should they test?",selected:!1}]},{id:"diy",name:"DIY / Science",emoji:"🧬",description:"Curiosity + excitement + creation for makers",isOpen:!1,templates:[{id:"d1",text:"What experiment should {creator} try next?",selected:!1},{id:"d2",text:"Got a crazy idea? Let {creator} test it!",selected:!1},{id:"d3",text:"Tell {creator} what to build or blow up (safely)",selected:!1},{id:"d4",text:"Your curiosity → {creator}'s next experiment",selected:!1},{id:"d5",text:"Let {creator} bring your science idea to life",selected:!1},{id:"d6",text:"What if {creator} tested your theory next?",selected:!1},{id:"d7",text:"Got a DIY hack in mind? Share it with {creator}",selected:!1},{id:"d8",text:"You imagine it. {creator} builds it.",selected:!1},{id:"d9",text:"Your idea might just explode — in a good way",subtext:"Share with {creator}",selected:!1},{id:"d10",text:"Ask {creator} to turn your idea into a science project",selected:!1}]},{id:"debates",name:"Debates / Philosophy",emoji:"🗣️",description:"Thought leadership + perspective + dialogue",isOpen:!1,templates:[{id:"db1",text:"Let {creator} unpack your big question",selected:!1},{id:"db2",text:"What issue should {creator} dive into next?",selected:!1},{id:"db3",text:"Join the conversation — what should {creator} discuss?",selected:!1},{id:"db4",text:"Your idea could spark {creator}'s next debate",selected:!1},{id:"db5",text:"What truth do you want {creator} to tackle?",selected:!1},{id:"db6",text:"Got a topic {creator} should debate next?",selected:!1},{id:"db7",text:"What question deserves {creator}'s take?",selected:!1},{id:"db8",text:"Tell {creator} which side you want them to argue",selected:!1},{id:"db9",text:"Your question → {creator}'s next discussion",selected:!1},{id:"db10",text:"Challenge {creator} — what should they debate?",selected:!1}]},{id:"creative",name:"Creative / Art",emoji:"🎨",description:"Inspiration + collaboration + beauty",isOpen:!1,templates:[{id:"cr1",text:"Got a concept {creator} should turn into art?",selected:!1},{id:"cr2",text:"Tell {creator} what to create next — song, sketch, or scene",selected:!1},{id:"cr3",text:"Your vision → {creator}'s next masterpiece",selected:!1},{id:"cr4",text:"What should {creator} draw, compose, or craft?",selected:!1},{id:"cr5",text:"Inspire {creator}'s next creative work",selected:!1},{id:"cr6",text:"Let {creator} bring your imagination to life",selected:!1},{id:"cr7",text:"You dream it, {creator} makes it",selected:!1},{id:"cr8",text:"Your emotion → {creator}'s next piece",selected:!1},{id:"cr9",text:"Co-create something beautiful with {creator}",selected:!1},{id:"cr10",text:"Share an idea, and let {creator} create around it",selected:!1}]},{id:"academic",name:"Educational / Academic",emoji:"🎓",description:"Clarity + curiosity + learning satisfaction",isOpen:!1,templates:[{id:"ac1",text:"Tell {creator} what you want to learn next",selected:!1},{id:"ac2",text:"What concept should {creator} break down for you?",selected:!1},{id:"ac3",text:"Turn your confusion into {creator}'s next explainer",selected:!1},{id:"ac4",text:"Ask {creator} to teach what you've always wondered",selected:!1},{id:"ac5",text:"Your question starts the next lesson",subtext:"Ask {creator}",selected:!1},{id:"ac6",text:"Got a topic you want {creator} to explain?",selected:!1},{id:"ac7",text:"Ask {creator} to simplify something complex",selected:!1},{id:"ac8",text:"Your question could become {creator}'s next lesson",selected:!1},{id:"ac9",text:"Let {creator} turn your curiosity into a clear answer",selected:!1},{id:"ac10",text:"What topic should {creator} make easier to understand?",selected:!1}]},{id:"travel",name:"Travel / Culture",emoji:"🌍",description:"Discovery + immersion + wonder",count:2,isOpen:!1,templates:[{id:"tr1",text:"Where should {creator} go next?",selected:!1},{id:"tr2",text:"Tell {creator} what place or story to explore",selected:!1},{id:"tr3",text:"Your curiosity → {creator}'s next destination",selected:!1},{id:"tr4",text:"What culture should {creator} uncover next?",selected:!1},{id:"tr5",text:"Suggest {creator}'s next adventure",selected:!1},{id:"tr6",text:"Got a place you wish you could visit? Send {creator}",selected:!1},{id:"tr7",text:"Let {creator} capture your story idea on the road",selected:!1},{id:"tr8",text:"What story from the world should {creator} tell?",selected:!1},{id:"tr9",text:"Your idea could guide {creator}'s next journey",selected:!1},{id:"tr10",text:"Point {creator}'s camera to your curiosity",selected:!1}]},{id:"motivation",name:"Motivation / Lifestyle",emoji:"❤️",description:"Inspiration + empathy + relatability",isOpen:!1,templates:[{id:"m1",text:"Let {creator} create something meaningful for you",selected:!1},{id:"m2",text:"Your idea → {creator}'s next motivation video",selected:!1},{id:"m3",text:"What story should {creator} tell to lift others?",selected:!1},{id:"m4",text:"You share. {creator} inspires.",selected:!1},{id:"m5",text:"Your experience could spark {creator}'s next message",selected:!1},{id:"m6",text:"What topic should {creator} inspire next?",selected:!1},{id:"m7",text:"Got a life question? Ask {creator} to talk about it",selected:!1},{id:"m8",text:"Your struggle could inspire {creator}'s next video",selected:!1},{id:"m9",text:"Tell {creator} what message people need to hear",selected:!1},{id:"m10",text:"What truth should {creator} share next?",selected:!1}]},{id:"podcasts",name:"Podcasts & Conversations",emoji:"🎙️",description:"Curiosity + intimacy + authenticity",isOpen:!1,templates:[{id:"pc1",text:"What topic should {creator} discuss next?",selected:!1},{id:"pc2",text:"Who do you want {creator} to talk with?",selected:!1},{id:"pc3",text:"Got a deep question? Let {creator} unpack it",selected:!1},{id:"pc4",text:"Your question → {creator}'s next podcast episode",selected:!1},{id:"pc5",text:"Which conversation should {creator} start?",selected:!1},{id:"pc6",text:"Tell {creator} what voices need to be heard",selected:!1},{id:"pc7",text:"What idea should {creator} debate next?",selected:!1},{id:"pc8",text:"Request a one-on-one talk on your favorite topic",selected:!1},{id:"pc9",text:"Your idea could become {creator}'s next dialogue",selected:!1},{id:"pc10",text:"What discussion do you want {creator} to open up?",selected:!1}]},{id:"journalistic",name:"Journalistic Investigations",emoji:"🕵️",description:"Intrigue + justice + curiosity",isOpen:!1,templates:[{id:"j1",text:"What story should {creator} investigate next?",selected:!1},{id:"j2",text:"Which mystery do you want {creator} to uncover?",selected:!1},{id:"j3",text:"Got a lead or hidden truth? Send it to {creator}",selected:!1},{id:"j4",text:"Tell {creator} what deserves a spotlight",selected:!1},{id:"j5",text:"Your curiosity → {creator}'s next investigation",selected:!1},{id:"j6",text:"What issue should {creator} expose next?",selected:!1},{id:"j7",text:"Help {creator} reveal what's been ignored",selected:!1},{id:"j8",text:"Which hidden story should {creator} chase?",selected:!1},{id:"j9",text:"Request {creator} to dig into what matters to you",selected:!1},{id:"j10",text:"What truth do you want {creator} to uncover?",selected:!1}]},{id:"entrepreneurship",name:"Entrepreneurship & Success",emoji:"💼",description:"Ambition + inspiration + insight",isOpen:!1,templates:[{id:"e1",text:"Your curiosity → {creator}'s next business story",selected:!1},{id:"e2",text:"What lessons should {creator} reveal next?",selected:!1},{id:"e3",text:"Who built it best? Tell {creator} to unpack their story",selected:!1},{id:"e4",text:"Ask {creator} to uncover how they made it happen",selected:!1},{id:"e5",text:"Which success story deserves {creator}'s spotlight?",selected:!1},{id:"e6",text:"What brand or founder should {creator} decode next?",selected:!1},{id:"e7",text:"Whose success story should {creator} break down next?",selected:!1},{id:"e8",text:"Got a business hero? Ask {creator} to analyze them",selected:!1},{id:"e9",text:"What startup story do you want {creator} to tell?",selected:!1},{id:"e10",text:"Which entrepreneur's journey inspires you most?",selected:!1}]},{id:"business_history",name:"Business History",emoji:"🏛️",description:"Curiosity + admiration + intelligence",isOpen:!1,templates:[{id:"bh1",text:"Which company should {creator} analyze next?",selected:!1},{id:"bh2",text:"What business story do you want {creator} to uncover?",selected:!1},{id:"bh3",text:"Ask {creator} to explain how your favorite brand really makes money",selected:!1},{id:"bh4",text:"Your curiosity → {creator}'s next company deep dive",selected:!1},{id:"bh5",text:"Which business legacy should {creator} explore?",selected:!1},{id:"bh6",text:"Tell {creator} which strategy to decode next",selected:!1},{id:"bh7",text:"What startup or empire fascinates you most?",selected:!1},{id:"bh8",text:"Ask {creator} to dissect your favorite brand",selected:!1},{id:"bh9",text:"What can we learn from history's greatest companies?",selected:!1},{id:"bh10",text:"Let {creator} reveal how success was engineered",selected:!1}]},{id:"fashion",name:"Modeling & Fashion",emoji:"👠",description:"Aspiration + artistry + self-expression",isOpen:!1,templates:[{id:"f1",text:"What look should {creator} model next?",selected:!1},{id:"f2",text:"Got a concept? Ask {creator} to bring it to life",selected:!1},{id:"f3",text:"Your style idea → {creator}'s next photo or video",selected:!1},{id:"f4",text:"What fashion era or trend should {creator} recreate?",selected:!1},{id:"f5",text:"Tell {creator} what vibe to embody next",selected:!1},{id:"f6",text:"Your vision could shape {creator}'s next shoot",selected:!1},{id:"f7",text:"What aesthetic should {creator} explore next?",selected:!1},{id:"f8",text:"Suggest a creative look or concept for {creator}",selected:!1},{id:"f9",text:"Help {creator} design their next masterpiece",selected:!1},{id:"f10",text:"What style moment do you want {creator} to capture?",selected:!1}]},{id:"psychology",name:"Psychology & Behavior",emoji:"🧩",description:"Curiosity + relatability + intellect",isOpen:!1,templates:[{id:"psy1",text:"Ask {creator} to explain a mystery of human nature",selected:!1},{id:"psy2",text:"Tell {creator} what behavior fascinates you most",selected:!1},{id:"psy3",text:"What makes people tick? Let {creator} find out",selected:!1},{id:"psy4",text:"Request {creator} to decode your curiosity",selected:!1},{id:"psy5",text:"Your thought → {creator}'s next mind experiment",selected:!1},{id:"psy6",text:"What human behavior should {creator} analyze next?",selected:!1},{id:"psy7",text:"Got a question about people? Ask {creator}",selected:!1},{id:"psy8",text:"Your idea → {creator}'s next psychological breakdown",selected:!1},{id:"psy9",text:"Which bias or habit should {creator} explore?",selected:!1},{id:"psy10",text:"What social experiment should {creator} run?",selected:!1}]},{id:"catalogue",name:"Catalogue",emoji:"📚",description:"Curated collection of creator works",isOpen:!1,templates:[{id:"cat1",text:"Browse {creator}'s full portfolio",selected:!1},{id:"cat2",text:"View all of {creator}'s creations",selected:!1},{id:"cat3",text:"Explore {creator}'s collection",selected:!1},{id:"cat4",text:"See {creator}'s complete works",selected:!1}]},{id:"health",name:"Health & Fitness",emoji:"🧬",description:"Motivation + trust + self-improvement",isOpen:!1,templates:[{id:"h1",text:"What routine should {creator} test next?",selected:!1},{id:"h2",text:"Ask {creator} to demystify a fitness myth",selected:!1},{id:"h3",text:"What wellness hack do you want {creator} to verify?",selected:!1},{id:"h4",text:"Suggest a body or mind challenge for {creator}",selected:!1},{id:"h5",text:"Let {creator} test your fitness idea",selected:!1},{id:"h6",text:"What challenge should {creator} try next?",selected:!1},{id:"h7",text:"Got a health goal? Ask {creator} to tackle it",selected:!1},{id:"h8",text:"Your idea → {creator}'s next fitness experiment",selected:!1},{id:"h9",text:"What topic should {creator} break down for you?",selected:!1},{id:"h10",text:"Tell {creator} what transformation you want to see",selected:!1}]}]),de=G.filter(l=>l.id==="catalogue"?!0:!["custom","default","premium","personal","action","weekend","conversational","playful"].includes(l.id)).sort((l,u)=>l.id==="catalogue"?-1:u.id==="catalogue"?1:l.name.localeCompare(u.name)).map(l=>({value:l.name,label:l.name}));console.log("DEBUG: All categories count:",G.length),console.log("DEBUG: Filtered creatorTags =",de),console.log("DEBUG: Catalogue in creatorTags?",de.some(l=>l.label==="Catalogue"));const[se,me]=o.useState([]);o.useEffect(()=>{let l=!0;return(async()=>{try{const u=await $e(()=>import("./creatordashboard-CO_Dgv1g.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])),w=u.publishedVideos||u.default&&u.default.publishedVideos||(typeof u.getPublishedVideos=="function"?await u.getPublishedVideos():null);l&&w&&Array.isArray(w)&&w.length>0&&me(w)}catch{}})(),()=>{l=!1}},[]);const ye=l=>{me(se.filter(u=>u.id!==l))},ae=l=>{X(l),F({title:"Video Uploaded",subtitle:"Your featured video is now live"});try{const u=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...u,introVideo:l.url}))}catch(u){console.warn("Failed saving featured video locally",u)}(async()=>{try{const u=localStorage.getItem("regaarder_token");if(!u){console.warn("No authentication token. Featured video saved locally only.");return}const w=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({introVideo:l.url})});!w.ok&&w.status===401&&console.warn("Authentication failed when saving featured video")}catch(u){console.warn("Failed to persist featured video to server",u)}})()},xe=()=>{X(null);try{const u={...JSON.parse(localStorage.getItem("regaarder_user")||"{}")};delete u.introVideo,localStorage.setItem("regaarder_user",JSON.stringify(u))}catch(l){console.warn("Failed removing featured video locally",l)}(async()=>{try{const l=localStorage.getItem("regaarder_token");if(!l){console.warn("No authentication token. Featured video deleted locally only.");return}const u=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({introVideo:null})});!u.ok&&u.status===401&&console.warn("Authentication failed when deleting featured video")}catch(l){console.warn("Failed to delete featured video on server",l)}})()},re=async(l,u)=>{K(w=>({...w,[l]:u}));try{const y={...JSON.parse(localStorage.getItem("regaarder_user")||"{}"),[l]:u};localStorage.setItem("regaarder_user",JSON.stringify(y))}catch(w){console.warn("Failed to persist profile locally",w)}try{const w=localStorage.getItem("regaarder_token");if(!w){console.warn("No authentication token found. Profile changes saved locally only.");return}const y={[l]:u},A=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(y)});if(!A.ok)throw A.status===401&&console.warn("Authentication failed. Token may be invalid or expired. Changes saved locally only."),new Error(`Server returned ${A.status}`)}catch(w){console.warn("Failed to persist profile update to server",w)}},ve=()=>{const l=!r;p(l),l&&F({title:"Preview Mode Active",subtitle:"You are viewing your profile as a fan"})},le=()=>{const l=[];return G.forEach(u=>{u.templates&&u.templates.forEach(w=>{w.selected&&l.push(w.text)})}),l},ue=l=>{Z(G.map(u=>u.id===l?{...u,isOpen:!u.isOpen}:u))},he=(l,u)=>{const w=le().length;let y=!1;const A=G.find(z=>z.id===l);if(A&&A.templates){const z=A.templates.find(B=>B.id===u);z&&!z.selected&&(y=!0)}if(y&&w>=3){F({title:"Limit Reached",subtitle:"You can only select up to 3 CTAs at a time"});return}const W=G.map(z=>z.id!==l||!z.templates?z:{...z,templates:z.templates.map(B=>B.id===u?{...B,selected:!B.selected}:B)});Z(W);try{const z=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...z,categories:W}))}catch(z){console.warn("Failed saving categories locally",z)}(async()=>{try{const z=localStorage.getItem("regaarder_token");if(!z){console.warn("No authentication token. Categories saved locally only.");return}const B=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({categories:W})});!B.ok&&B.status===401&&console.warn("Authentication failed when saving categories")}catch(z){console.warn("Failed to persist categories to server",z)}})()},oe=(l,u)=>{const w=G.map(y=>{if(y.id===l){const A=y.templates||[];return{...y,templates:[u,...A],isOpen:!0,count:(y.count||0)+1}}return y});Z(w);try{const y=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...y,categories:w}))}catch(y){console.warn("Failed saving new template locally",y)}(async()=>{try{const y=localStorage.getItem("regaarder_token");if(!y){console.warn("No authentication token. Template saved locally only.");return}const A=await fetch(`${window.location.protocol}//${window.location.hostname}:4000/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({categories:w})});!A.ok&&A.status===401&&console.warn("Authentication failed when saving template")}catch(y){console.warn("Failed to persist new template to server",y)}})()},S=()=>{try{try{const l=window.localStorage.getItem("regaarder_user");let u=null;try{u=l?JSON.parse(l):null}catch{u=null}const w=u?String(u.id||u.handle||u.name||"").replace(/^@+/,"").toLowerCase():null,y=String(T?.id||T?.handle||T?.name||"").replace(/^@+/,"").toLowerCase();if(w&&y&&w===y){F({title:"Can't request yourself",subtitle:"You can't request a video from your own profile — try another creator."});return}const A="ideas_selectedCreator_v1",W={id:T?.id||(T?.handle||T?.tag||String(T?.name||"").replace(/^@+/,"")).toLowerCase(),name:T?.handle?`@${T.handle}`:T?.name||"",handle:T?.handle,image:T?.image||null};window.localStorage.setItem(A,JSON.stringify(W))}catch{}window.location.href="/ideas"}catch(l){console.warn("Navigation failed",l)}};return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-gray-50 font-sans relative overflow-hidden",children:[P&&e.jsx(qt,{data:P,onClose:()=>F(null)}),i&&e.jsx(Kt,{isPreview:r,onClose:()=>h(!1),profile:T,onUpdate:re,selectedLanguage:a}),s&&e.jsx(Jt,{isOpen:s,isPreview:r,isSharedLink:q,onClose:()=>{v(!1),te(null)},profile:T,customData:ne||L,onBecomeSponsor:()=>{v(!1),C(!0)},onSendTip:()=>{v(!1),N(!0)},selectedLanguage:a}),n&&e.jsx(Gt,{isOpen:n,isPreview:r,onClose:()=>g(!1),data:L,selectedLanguage:a,onSave:ie,onPreview:l=>{te(l),v(!0)}}),x&&e.jsx(Xt,{isOpen:x,isPreview:r,onClose:()=>C(!1),profile:T,selectedLanguage:a}),m&&e.jsx(Ht,{isOpen:m,isPreview:r,onClose:()=>N(!1),profile:T,selectedLanguage:a}),j&&e.jsx(Rt,{isOpen:j,isPreview:r,onClose:()=>E(!1),onShowToast:F,categories:G,onToggleCategory:ue,onToggleTemplate:he,onCreateTemplate:oe,selectedLanguage:a}),R&&e.jsx(Vt,{videos:se,creatorId:T.id,isPreview:r,onClose:()=>I(!1),onDelete:ye,selectedLanguage:a}),e.jsxs("div",{className:"h-screen overflow-y-auto pb-20 scrollbar-hide",children:[e.jsx(Ot,{profile:T,onUpdate:re,isPreviewMode:r,onTogglePreview:ve,onTip:()=>N(!0),selectedCTAs:le(),onCTAClick:S,availableTags:de,onShowToast:F,isSharedLink:q,selectedLanguage:a}),e.jsxs("div",{className:"px-4 mt-6",children:[!r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-4 cursor-pointer transition hover:shadow-md",onClick:()=>h(!0),children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx(f,{name:"sparkles",size:20,className:"text-white relative z-10"})]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:t("Complete Your Profile",a)})]}),e.jsx("span",{className:"text-blue-600 font-bold text-base",children:"0%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"80%",background:"linear-gradient(90deg, #3B82F6 0%, #8B5CF6 100%)"}})}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:t("0 of 10 fields completed • Tap to edit",a)}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md",children:t("Missing fields:",a)}),e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:t("Tagline",a)}),e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:t("Email Verified",a)})]})]}),e.jsx(Wt,{title:t("Customize Welcome Popup",a),icon:"sparkles",isPopup:!0,onClick:()=>g(!0),onPreview:()=>v(!0),selectedLanguage:a})]}),e.jsx(Bt,{isPreviewMode:r,video:M,onUpload:ae,onDelete:xe,selectedLanguage:a}),e.jsx(_t,{videos:se,onViewAll:()=>I(!0),isPreviewMode:r,selectedLanguage:a}),e.jsx(Ut,{profile:T,onUpdate:re,isPreviewMode:r,selectedLanguage:a}),!r&&e.jsx(Dt,{onCustomize:()=>E(!0),selectedLanguage:a}),!r&&e.jsx(Mt,{profile:T,onCopy:F,selectedLanguage:a}),e.jsx(Yt,{selectedCTAs:le(),profileName:T.name,onCTAClick:S,selectedLanguage:a})]})]}),e.jsx(Ft,{selectedLanguage:a})]})};export{Ws as default};
