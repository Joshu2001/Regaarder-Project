const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/requests-CMxjqjnE.js","assets/index-CKHlX0yY.js","assets/index-Dh8ZNAsr.css","assets/index-CU3w8TvW.js","assets/BoostsModal-BfjFd9ML.js","assets/alert-triangle-BMTqmjZa.js","assets/trending-up-BBg2szRJ.js","assets/search-1roW4TjH.js","assets/check-circle-2-zrnyWaZm.js","assets/calendar-Bcx-w_FA.js","assets/chevron-down-9bGXXidQ.js","assets/sparkles-v5PZSrlr.js","assets/clock-C9twsQ3r.js","assets/dollar-sign-OY6YfBCm.js","assets/pencil-Cs_JlkZK.js","assets/heart-B0DpVUDA.js","assets/home-Br4CQZeP.js","assets/message-square-BzKkrh6t.js","assets/megaphone-dJJMkASY.js","assets/crown-XpASGWOv.js","assets/pin-b9H8-ZdO.js","assets/chevron-up-Cx1nSjPh.js","assets/bookmark-I66tfVeo.js","assets/lightbulb-BaPxNQlZ.js","assets/trash-2-CnrmEyGt.js","assets/heart-off-D4NWGToL.js","assets/share-2-Bw5J_h8W.js","assets/user-DygAfHiN.js","assets/send-WIKQXoen.js","assets/creatorprofile-53qf22XJ.js","assets/camera-biH92kLu.js","assets/mail-BztTs-6N.js","assets/alert-circle-GtPV5ud8.js","assets/check-circle-DDVCuCeC.js","assets/upload-BweMGUd4.js","assets/play-CgL6Lf8D.js","assets/chevron-left-BxRP8rBN.js","assets/thumbs-down-Dp2UOOI5.js","assets/video-HrQuykS3.js","assets/zap-Bxu3IJaz.js","assets/folder-HEHCEW98.js","assets/users-CIiNC2wJ.js","assets/shield-CyWd6l7W.js","assets/history-C3GW6cUL.js","assets/book-open-B5VkwevK.js","assets/gift-gyigfPxu.js","assets/credit-card-Bwlb28pk.js","assets/more-vertical-CiXjWkz2.js","assets/trophy-BPmboMaC.js","assets/star-OROe2aSh.js","assets/settings-BOPdIjAY.js","assets/bell-BSquoRrD.js"])))=>i.map(i=>d[i]);
import{f as ce,r,b as Re,t as Ee,j as e,u as yt,g as Y,C as _e,_ as Ke,e as ue,R as bt}from"./index-CKHlX0yY.js";import{r as Xe}from"./index-CU3w8TvW.js";import{R as he}from"./rocket-mOzqzFlb.js";import{U as Qe}from"./upload-BweMGUd4.js";import{C as K}from"./chevron-right-7dtvKWVK.js";import{S as O}from"./sparkles-v5PZSrlr.js";import{F as ae,P as Ze,M as jt}from"./pencil-Cs_JlkZK.js";import{G as Ce}from"./gift-gyigfPxu.js";import{C as we}from"./crown-XpASGWOv.js";import{C as vt}from"./chevron-up-Cx1nSjPh.js";import{C as Ie}from"./chevron-down-9bGXXidQ.js";import{H as $e}from"./heart-B0DpVUDA.js";import{S as xe}from"./shield-CyWd6l7W.js";import{B as qe}from"./briefcase-B4T1kXht.js";import{L as je}from"./line-chart-DRDYKflD.js";import{Z as Se}from"./zap-Bxu3IJaz.js";import{D as Oe}from"./dollar-sign-OY6YfBCm.js";import{U as et}from"./users-CIiNC2wJ.js";import{L as tt}from"./lightbulb-BaPxNQlZ.js";import{H as Nt}from"./home-Br4CQZeP.js";import{C as wt}from"./chevron-left-BxRP8rBN.js";const se=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),St=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),st=ce("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]),at=ce("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),kt=ce("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),_t=ce("MousePointerClick",[["path",{d:"m9 9 5 12 1.774-5.226L21 14 9 9z",key:"1qd44z"}],["path",{d:"m16.071 16.071 4.243 4.243",key:"wfhsjb"}],["path",{d:"m7.188 2.239.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656-2.12 2.122",key:"1bk8fz"}]]),Q={},rt=(a,s)=>(Q[a]||(Q[a]=[]),Q[a].push(s),()=>We(a,s)),Ct=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=b=>Y(b,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState(""),[p,h]=r.useState(""),[l,C]=r.useState(""),[y,L]=r.useState(!0),N=r.useRef(null),E=r.useRef(null),A=500;r.useEffect(()=>{try{const b=localStorage.getItem("sponsor_creative_brief");b&&j(b)}catch{}try{const b=localStorage.getItem("sponsor_asset_logo");b&&h(b)}catch{}try{const b=localStorage.getItem("sponsor_asset_brandguide");b&&C(b)}catch{}try{const b=localStorage.getItem("sponsor_preview_before_publish");b!=null&&L(b==="1")}catch{}},[]);const F=(b,f,d)=>{if(!b)return;const w=new FileReader;w.onload=()=>{try{const M=w.result;f(M),localStorage.setItem(d,M)}catch{}},w.readAsDataURL(b)};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("AudienceSelection"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 6 of 6")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("100% complete")})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"100%",background:s}})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:t("Share your vision")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Give creators the context they need to bring your brand to life")})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-900",children:[t("Creative Brief")," *"]}),e.jsx("textarea",{value:n,onChange:b=>j(b.target.value.slice(0,A)),placeholder:t("Tell creators about your brand, product, and what kind of story you'd love to see. Be inspiring, not restrictive!"),className:"w-full mt-3 p-4 rounded-xl border border-gray-200 bg-gray-50 h-40 text-gray-700"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[n.length,"/",A," characters"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:t("Creative Assets (Optional)")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("input",{ref:N,type:"file",accept:"image/*",className:"hidden",onChange:b=>F(b.target.files&&b.target.files[0],h,"sponsor_asset_logo")}),e.jsxs("button",{onClick:()=>N.current&&N.current.click(),className:"w-full p-6 rounded-2xl bg-white border border-gray-100 text-center",children:[e.jsx(Qe,{className:"w-6 h-6 mx-auto text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-600 mt-3",children:t("Logo / Images")}),p&&e.jsx("div",{className:"text-xs text-gray-400 mt-2 truncate",children:t("Attached")})]})]}),e.jsxs("div",{children:[e.jsx("input",{ref:E,type:"file",accept:"application/pdf,image/*",className:"hidden",onChange:b=>F(b.target.files&&b.target.files[0],C,"sponsor_asset_brandguide")}),e.jsxs("button",{onClick:()=>E.current&&E.current.click(),className:"w-full p-6 rounded-2xl bg-white border border-gray-100 text-center",children:[e.jsx(ae,{className:"w-6 h-6 mx-auto text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-600 mt-3",children:t("Brand Guide")}),l&&e.jsx("div",{className:"text-xs text-gray-400 mt-2 truncate",children:t("Attached")})]})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:b=>L(b.target.checked),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t("Preview content before it goes live")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("You'll get a chance to review and request changes (limited to 1-2 rounds)")})]})]})}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:s},onClick:()=>{try{localStorage.setItem("sponsor_creative_brief",n)}catch{}try{localStorage.setItem("sponsor_preview_before_publish",y?"1":"0")}catch{}try{if(localStorage.getItem("start_coll_choice")==="content_integration"){a("MeetCreators");return}}catch{}a("SponsorSummary")},disabled:n.trim().length===0,children:[e.jsx("span",{children:t("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})},We=(a,s)=>{Q[a]&&(Q[a]=Q[a].filter(t=>t!==s),Q[a].length===0&&delete Q[a])},lt=(a,s)=>{const t=Q[a]||[];for(let n=0;n<t.length;n++)try{t[n](s)}catch(j){console.error("event-bus handler error",j)}};try{typeof window<"u"&&(window.__eventBus||(window.__eventBus={on:rt,off:We,emit:lt}))}catch{}const ve=(a,s)=>typeof window<"u"&&window.__eventBus&&window.__eventBus.on?window.__eventBus.on(a,s):rt(a,s),Ne=(a,s)=>typeof window<"u"&&window.__eventBus&&window.__eventBus.off?window.__eventBus.off(a,s):We(a,s),oe=(a,s)=>{if(typeof window<"u"&&window.__eventBus&&window.__eventBus.emit)try{window.__eventBus.emit(a,s)}catch{}else lt(a,s)},o=a=>{try{const s=typeof window<"u"&&window.localStorage&&window.localStorage.getItem("regaarder_language")||"English";return Y(a,s||"English")}catch{return a}},V="var(--color-gold)",W="var(--color-gold-light)",te="var(--color-gold-cream)",It="#2563eb",fe=.02,nt=()=>{try{if(typeof window>"u"||!window.localStorage)return fe;const a=window.localStorage.getItem("platform_fee_pct");if(a==null)return fe;const s=parseFloat(a);return Number.isNaN(s)?fe:s>1?s/100:s}catch{return fe}},ot=(a,s)=>{try{const t=Number(a)||0,n=Number(s)||1;return Math.round(t/n*100)}catch{return 0}},Mt=6,ct=a=>{const s=Number(a)||0,t=Math.abs(s);if(t>=1e6){const n=Math.round(s/1e6*10)/10;return`${n%1===0?String(Math.round(n)):n}M`}if(t>=1e3){const n=Math.round(s/1e3*10)/10;return`${n%1===0?String(Math.round(n)):n}K`}return String(s)},Te=async(a={})=>(await new Promise(s=>setTimeout(s,600)),{token:`tok_${Math.random().toString(36).slice(2,10)}`}),Bt=(a=0)=>`https://wise.com/transfer?amount=${encodeURIComponent(a)}&source=demo&ref=adflow`,At=(a=0)=>`https://payoneer.com/pay?amount=${encodeURIComponent(a)}&ref=adflow`,Et=(a=0)=>({accountName:"Regaarder Ltd",accountNumber:"1234567890",routing:"021000021",bankName:"Demo Bank",reference:`Sponsor-${Date.now()}`,amount:Number(a||0)}),Pt=(a=0)=>({receiver:"Regaarder Ltd",city:"London",country:"UK",amount:Number(a||0),note:`Reference: Sponsor-${Date.now()}`}),Z=()=>{try{return Number(window.localStorage.getItem("account_balance")||0)}catch{return 0}},Fe=a=>{try{const s=Z(),t=Number(a)||0;if(t<=0||s<t)return!1;const n=Math.max(0,s-t);return window.localStorage.setItem("account_balance",String(n)),!0}catch{return!1}},De=({name:a,spent:s=0,creators:t=0,status:n="completed",model:j=null,budgetCap:p=null,escrowAmount:h=null,estimatedReach:l=null,creatorIds:C=null,metadata:y={}}={})=>{try{const L=window.localStorage.getItem("advertiser_campaigns");let N=[];if(L)try{N=JSON.parse(L)||[]}catch{N=[]}const F={id:`c_${Date.now()}`,name:a||"Campaign",status:n,spent:Number(s)||0,creators:Number(t)||0,model:j||localStorage.getItem("sponsor_selected_model")||null,budgetCap:p!=null?Number(p):Number(localStorage.getItem("sponsor_budget_cap")||0)||null,escrowAmount:h!=null?Number(h):Number(localStorage.getItem("sponsor_escrow_amount")||0)||null,estimatedReach:l!=null?Number(l):Number(localStorage.getItem("sponsor_estimated_reach")||0)||null,creatorIds:Array.isArray(C)?C:(function(){try{const b=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");if(b){const f=JSON.parse(b);if(Array.isArray(f))return f}return[]}catch{return[]}})(),createdAt:Date.now(),metadata:y||{}};N.unshift(F),window.localStorage.setItem("advertiser_campaigns",JSON.stringify(N));try{window.localStorage.setItem("sponsor_selected_count",String(Number(t)||0))}catch{}try{oe("advertiser:campaigns_updated",N)}catch{}return F}catch{return null}},Lt=({ACCENT_COLOR:a,setCurrentPage:s,visible:t})=>t?e.jsx("div",{className:`
        fixed top-0 left-0 right-0 z-20 
        bg-white/95 backdrop-blur-sm 
        border-b border-gray-200 shadow-sm
        transition-transform duration-300
        transform translate-y-0
        sticky-animate
    `,children:e.jsxs("div",{className:"max-w-md mx-auto flex justify-between items-center px-4 py-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:o("Ready to start collaborating?")}),e.jsxs("button",{className:"flex items-center space-x-2 text-white font-semibold py-2 px-4 rounded-full transition duration-300 shadow hover:opacity-90 text-xs",style:{backgroundColor:a},onClick:()=>s("Welcome"),children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:o("Get Started")})]})]})}):null,Ft=()=>{const[a,s]=r.useState("Home"),t=r.useRef(!1),n=[{name:"Home",Icon:Nt},{name:"Requests",Icon:ae},{name:"Ideas",Icon:Ze},{name:"More",Icon:jt}],j="rgb(107 114 128)";return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:n.map(p=>{const h=p.name===a,l=h?{color:"var(--color-gold)"}:{color:j},C=h?"font-semibold":"font-normal";let y={};h&&(y.textShadow="0 0 8px var(--color-gold-light)");const L=N=>{try{if(N==="Home"){window.location.href="/home.jsx";return}if(N==="Requests"){window.location.href="/requests.jsx";return}if(N==="Ideas"){window.location.href="/ideas.jsx";return}if(N==="More"){window.location.href="/more.jsx";return}}catch(E){console.warn("Navigation failed",E)}};return e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:y,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onMouseDown:()=>{s(p.name),t.current||(t.current=!0,L(p.name))},onTouchStart:()=>{s(p.name),t.current||(t.current=!0,L(p.name))},onClick:N=>{if(t.current){t.current=!1,N.preventDefault();return}s(p.name),L(p.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(p.Icon,{className:"w-5 h-5",strokeWidth:1.5,style:l})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${C}`,style:l,children:p.name})]})},p.name)})})})},Pe=({icon:a,value:s,label:t})=>e.jsxs("div",{className:"flex flex-col items-center p-3",children:[e.jsx("div",{className:"mb-4 opacity-40",style:{color:V},children:e.jsx(a,{className:"w-8 h-8"})}),e.jsx("div",{className:"text-xl font-semibold text-gray-900",children:s}),e.jsx("div",{className:"text-[11px] text-gray-500 mt-1 uppercase tracking-wider",children:o(t)})]}),ye=({icon:a,title:s,description:t})=>e.jsxs("div",{className:"flex flex-col py-4 items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:te},children:e.jsx(a,{className:"w-5 h-5",style:{color:V}})}),e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-1",children:o(s)}),e.jsx("p",{className:"text-sm text-gray-600",children:o(t)})]}),be=({step:a,icon:s,title:t,description:n})=>e.jsxs("div",{className:"flex space-x-4 items-start py-4",children:[e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:te},children:e.jsx(s,{className:"w-6 h-6",style:{color:V}})}),a<4&&e.jsx("div",{className:"w-px h-12",style:{backgroundColor:V,opacity:.28}})]}),e.jsxs("div",{className:"flex-grow pt-0.5",children:[e.jsxs("p",{className:"text-[12px] font-semibold mb-1",style:{color:V},children:["STEP 0",a]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:o(t)}),e.jsx("p",{className:"text-sm text-gray-600",children:o(n)})]})]}),Ge=({icon:a,title:s,value:t,subtext:n})=>e.jsxs("div",{className:"flex flex-col items-center text-center px-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3",style:{backgroundColor:te},children:e.jsx(a,{className:"w-6 h-6",style:{color:V}})}),e.jsx("div",{className:"text-2xl font-semibold mb-1",style:{color:V},children:t}),e.jsx("p",{className:"text-base font-medium text-gray-900 mb-1 whitespace-nowrap",children:o(s)}),e.jsx("p",{className:"text-sm text-gray-600",children:o(n)})]}),Dt=({icon:a,budget:s})=>e.jsxs("div",{className:"p-4 rounded-2xl w-full text-left mt-6",style:{backgroundColor:te},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",style:{backgroundColor:V},children:e.jsx(a,{className:"w-4 h-4 text-white"})}),e.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[o("Example"),": $",s," ",o("budget")]})]}),e.jsxs("dl",{className:"space-y-2 w-full pl-12",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("dt",{className:"font-semibold text-gray-900",children:o("Projected Reach")}),e.jsx("dd",{className:"font-medium",children:o("40K-80K views")})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("dt",{className:"font-semibold text-gray-900",children:o("Est. Engagement")}),e.jsx("dd",{className:"font-medium",children:o("2.9K-5.8K")})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("dt",{className:"font-semibold text-gray-900",children:o("Avg. Creators")}),e.jsx("dd",{className:"font-medium",children:o("2-4 creators")})]})]})]}),Rt=({ACCENT_COLOR:a,HIGHLIGHT_COLOR:s,setCurrentPage:t})=>e.jsxs("section",{className:"pt-10 pb-20 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mb-6",style:{backgroundColor:te},children:e.jsx(he,{className:"w-8 h-8",style:{color:a}})}),e.jsx("h2",{className:"text-3xl font-medium text-gray-900 leading-snug mb-4 max-w-xs",children:o("Ready to turn viewers into believers?")}),e.jsx("p",{className:"text-base text-gray-600 mt-2 mb-8 font-medium max-w-xs",children:o("Join thousands of brands collaborating with creators on Regaarder. Start your first campaign in minutes.")}),e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-3 px-4 rounded-lg shadow-lg transition duration-300 hover:opacity-90 max-w-sm text-sm",style:{backgroundColor:a,boxShadow:"0 10px 15px -3px rgba(var(--color-gold-rgb),0.44), 0 4px 6px -4px rgba(var(--color-gold-rgb),0.44)"},onClick:()=>t("Welcome"),children:[e.jsx(O,{className:"w-4 h-4",fill:"currentColor"}),e.jsx("span",{children:o("Launch Your First Collaboration")}),e.jsx(K,{className:"w-4 h-4 ml-1"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-5 font-medium flex justify-center space-x-4",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:o("Free setup")})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:o("No credit card required")})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:o("Cancel anytime")})]})]})]}),ke=({disabled:a,onClick:s,ACCENT_COLOR:t,bottomOffset:n="auto"})=>e.jsx("div",{className:"w-full mt-8 mb-4",children:e.jsxs("button",{onClick:s,disabled:a,className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90 disabled:opacity-50 active:scale-[0.98]",style:{backgroundColor:t},children:[e.jsx("span",{children:o("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})}),Je=({ACCENT_COLOR:a,HIGHLIGHT_COLOR:s,ICON_BACKGROUND:t,setCurrentPage:n,setShowSticky:j})=>{const p=r.useRef(null);return r.useEffect(()=>{if(!j)return;const h=p.current;if(!h)return;const l=()=>{const C=h.getBoundingClientRect().top;j(C<=0)};return l(),window.addEventListener("scroll",l,{passive:!0}),()=>{window.removeEventListener("scroll",l);try{j(!1)}catch{}}},[j]),e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"flex flex-col items-center text-center mb-10",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-4 flex items-center",children:[e.jsx(O,{className:"w-4 h-4 mr-2",fill:"currentColor",style:{color:a}}),o("Collaborate with original minds")]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl font-medium text-gray-900 leading-tight mt-6",children:[o("Collaborate with the world's most"),e.jsxs("span",{className:"relative inline-block mx-1",children:[e.jsx("span",{className:"absolute inset-0 rounded-lg transform -skew-y-1",style:{backgroundColor:s}}),e.jsx("span",{className:"relative",style:{color:a},children:o("original minds")})]}),o(", not just advertise")]}),e.jsx("p",{ref:p,className:"text-base text-gray-600 mt-6 leading-relaxed max-w-xs font-medium",children:o("Watch creators seamlessly integrate your brand into their stories. No banners. No interruptions. Just authentic storytelling.")})]}),e.jsxs("section",{className:"mt-8 mb-12",children:[e.jsx("div",{className:"h-48 bg-gray-100 rounded-xl flex items-center justify-center shadow-inner overflow-hidden",children:e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg cursor-pointer transition-transform hover:scale-105 animate-pulse-glow",style:{backgroundColor:s},onClick:()=>console.log("Video clicked: Watch how it works"),children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 19L18 12L6 5V19Z",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsxs("p",{className:"text-sm text-gray-700 font-medium text-center mt-3 cursor-pointer transition hover:opacity-80",style:{color:a},children:[o("Watch how it works"),e.jsx("span",{className:"ml-1 text-base leading-none",children:"â†—"})]})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-3 px-4 rounded-lg shadow-lg transition duration-300 hover:opacity-90 text-sm",style:{backgroundColor:a,boxShadow:"0 10px 15px -3px rgba(var(--color-gold-rgb),0.44), 0 4px 6px -4px rgba(var(--color-gold-rgb),0.44)"},onClick:()=>n("Welcome"),children:[e.jsx(he,{className:"w-4 h-4",fill:"currentColor"}),e.jsx("span",{children:o("Launch Your First Collaboration")})]})}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 border-t border-gray-200 pt-6 mb-12",children:[e.jsx(Pe,{icon:et,value:"50K+",label:o("Active Creators")}),e.jsx(Pe,{icon:je,value:"7.3%",label:o("Avg Engagement")}),e.jsx(Pe,{icon:ue,value:"2.5B",label:o("Total Reach")})]}),e.jsxs("section",{className:"pb-12 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 text-center",children:o("How it works")}),e.jsx("p",{className:"text-base text-gray-600 mt-2 mb-8 text-center font-medium",children:o("From idea to impact in 4 simple steps")}),e.jsx(be,{step:1,icon:st,title:o("Tell us about your brand"),description:o("Quick setup ??just your brand name, industry, and voice. Takes 2 minutes.")}),e.jsx(be,{step:2,icon:tt,title:o("Create your collaboration brief"),description:o("Set your objective, budget, and creative vision. Our AI does the rest.")}),e.jsx(be,{step:3,icon:O,title:o("Get matched with perfect creators"),description:o("AI analyzes thousands of creators to find your ideal matches instantly.")}),e.jsx(be,{step:4,icon:je,title:o("Watch your brand come to life"),description:o("Creators integrate your brand authentically. Track real-time performance.")}),e.jsx("div",{className:"flex justify-center mt-10",children:e.jsxs("button",{className:"flex items-center space-x-2 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition duration-300 hover:opacity-90",style:{backgroundColor:a},onClick:()=>n("Welcome"),children:[e.jsx("span",{children:o("Get Started Now")}),e.jsx(K,{className:"w-4 h-4 ml-1"})]})})]}),e.jsxs("section",{className:"py-12 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 text-center",children:o("Why brands love Regaarder")}),e.jsx("p",{className:"text-base text-gray-600 mt-2 mb-8 text-center font-medium",children:o("Your brand deserves great storytelling")}),e.jsx(ye,{icon:Se,title:o("AI-Powered Matching"),description:o("Our AI finds creators who truly resonate with your brand values")}),e.jsx(ye,{icon:at,title:o("Authentic Integration"),description:o("Creators bring your brand to life, their way")}),e.jsx(ye,{icon:xe,title:o("Escrow Protection"),description:o("Your budget is safe. Pay only when content goes live")}),e.jsx(ye,{icon:je,title:o("Real-Time Analytics"),description:o("Track every view, like, and comment as they happen")})]}),e.jsxs("section",{className:"py-12 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 text-center",children:o("Transparent, performance-based pricing")}),e.jsx("p",{className:"text-base text-gray-600 mt-2 mb-10 text-center font-medium",children:o("Pay for results, not promises")}),e.jsxs("div",{className:"flex flex-col items-center mb-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mb-6",style:{backgroundColor:t},children:e.jsx(Oe,{className:"w-8 h-8",style:{color:a}})}),e.jsx("div",{className:"text-2xl font-semibold mb-1",style:{color:a},children:"$5"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mb-6",children:o("Base CPM")}),e.jsx("p",{className:"text-base text-gray-600 font-medium",children:o("Per 1,000 views")})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-8 mb-12",children:[e.jsx(Ge,{icon:xe,value:"$100",title:o("Minimum Budget"),subtext:o("Goes into escrow")}),e.jsx(Ge,{icon:$e,value:"$0.05",title:o("Engagement Bonus"),subtext:o("Per like, comment, share")})]}),e.jsx(Dt,{budget:500,icon:Ce})]}),e.jsx(Rt,{ACCENT_COLOR:a,HIGHLIGHT_COLOR:s,setCurrentPage:n}),e.jsx("div",{className:"h-20"})]})},Le=({icon:a,title:s,subtitle:t,ACCENT_COLOR:n,ICON_BACKGROUND:j,onClick:p})=>e.jsxs("button",{onClick:p,className:"flex items-start text-left p-4 pr-6 rounded-2xl w-full transition duration-150 border border-gray-100 hover:border-gray-300 active:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 mb-4",style:{boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mr-4 flex-shrink-0",style:{backgroundColor:j},children:e.jsx(a,{className:"w-6 h-6",style:{color:n}})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-600 font-medium mt-0.5",children:t})]})]}),Me=({title:a,subtitle:s,setCurrentPage:t,previousPage:n})=>e.jsxs("header",{className:"flex items-center space-x-4 mb-10",children:[e.jsx("button",{onClick:()=>t(n),className:"text-gray-500 hover:text-gray-900 transition p-2 -ml-2 rounded-full active:bg-gray-100",children:e.jsx(wt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:a}),e.jsx("p",{className:"text-sm text-gray-600",children:s})]})]}),$t=({setCurrentPage:a,ACCENT_COLOR:s,ICON_BACKGROUND:t})=>e.jsxs("div",{className:"w-full",children:[e.jsx(Me,{title:o("Welcome to Regaarder"),subtitle:o("Tell us about your brand"),setCurrentPage:a,previousPage:"Home"}),e.jsxs("section",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:o("I am a...")}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:o("This helps us personalize your experience")}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Le,{icon:ae,title:o("Brand / Company"),subtitle:o("Established business looking to expand reach"),ACCENT_COLOR:s,ICON_BACKGROUND:t,onClick:()=>{try{localStorage.setItem("welcome_selected_role","brand")}catch{}a("BrandDetails")}}),e.jsx(Le,{icon:he,title:o("Startup / Creator-owned Brand"),subtitle:o("Growing brand seeking authentic partnerships"),ACCENT_COLOR:s,ICON_BACKGROUND:t,onClick:()=>{try{localStorage.setItem("welcome_selected_role","startup")}catch{}a("BrandDetails")}}),e.jsx(Le,{icon:qe,title:o("Agency / Media Buyer"),subtitle:o("Managing campaigns for multiple clients"),ACCENT_COLOR:s,ICON_BACKGROUND:t,onClick:()=>{try{localStorage.setItem("welcome_selected_role","agency")}catch{}a("BrandDetails")}})]})]})]}),qt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const[t,n]=r.useState(""),[j,p]=r.useState(""),[h,l]=r.useState(""),[C,y]=r.useState(!1),L=r.useRef(null),[N,E]=r.useState("brand");r.useEffect(()=>{try{const w=localStorage.getItem("welcome_selected_role");w&&E(w)}catch{}},[]);const A=["Tech & Innovation","Lifestyle","Gaming","Education","Fitness & Wellness","Travel","Food & Cooking","Music & Arts","Fashion & Beauty","Business","Automotive","Comedy & Humor"];r.useEffect(()=>{const w=M=>{if(C)try{L.current&&!L.current.contains(M.target)&&y(!1)}catch{}};return window.addEventListener("click",w),()=>window.removeEventListener("click",w)},[C]);const F=w=>/\S+@\S+\.\S+/.test(w),b=t.trim()!==""&&F(j),f=o(N==="startup"?"Startup Details":N==="agency"?"Agency Details":"Brand Details"),d=o(N==="startup"?"Tell us about your startup":N==="agency"?"Agency information to manage client campaigns":"Complete your profile to start matching");return e.jsxs("div",{className:"w-full",children:[e.jsx(Me,{title:f,subtitle:d,setCurrentPage:a,previousPage:"Welcome"}),e.jsxs("section",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("label",{htmlFor:"brandName",className:"text-lg font-medium text-gray-900",children:[o(N==="startup"?"Startup Name":N==="agency"?"Agency Name":"Brand Name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"brandName",type:"text",placeholder:o(N==="startup"?"Enter your startup name":N==="agency"?"Enter your agency name":"Enter your brand name"),value:t,onChange:w=>n(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 focus:ring-1 transition"})]}),e.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("label",{htmlFor:"businessEmail",className:"text-lg font-medium text-gray-900",children:[o(N==="agency"?"Agency Email":"Business Email")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"businessEmail",type:"email",placeholder:N==="agency"?"agency@youragency.com":"hello@yourbrand.com",value:j,onChange:w=>p(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 focus:ring-1 transition"}),j&&!F(j)&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:o("Enter a valid business email.")})]}),e.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("label",{htmlFor:"industry",className:"text-lg font-medium text-gray-900",children:o("Industry")}),e.jsxs("div",{className:"relative",ref:L,children:[e.jsxs("button",{type:"button",onClick:()=>y(w=>!w),className:"w-full text-left px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 focus:ring-1 transition flex items-center justify-between","aria-haspopup":"listbox","aria-expanded":C,children:[e.jsx("span",{className:`${h?"text-gray-900":"text-gray-400"}`,children:o(h)||o("Select your industry")}),e.jsx(Ie,{className:`w-5 h-5 text-gray-400 transform ${C?"rotate-180":""}`})]}),C&&e.jsx("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-56 overflow-auto z-30",children:A.map(w=>e.jsx("button",{type:"button",onClick:()=>{l(w),y(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 ${h===w?"font-semibold bg-gray-50":""}`,children:o(w)},w))})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:s},onClick:()=>a("BrandVoice"),disabled:!b,children:[e.jsx("span",{children:o("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})]})},Wt=({icon:a,title:s,isSelected:t,onClick:n,ACCENT_COLOR:j,ICON_BACKGROUND:p})=>e.jsxs("div",{onClick:n,className:"flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition duration-150 border-2",style:t?{backgroundColor:W,color:j,borderColor:j,boxShadow:"0 0 0 4px rgba(var(--color-gold-rgb),0.06)"}:{borderColor:"#E5E7EB"},children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-2 ${t?"":"opacity-80"}`,style:{backgroundColor:t?"rgba(var(--color-gold-rgb),0.12)":p},children:e.jsx(a,{className:"w-6 h-6",style:{color:t?j:"#111827"}})}),e.jsx("p",{className:"text-sm font-medium text-center",children:s})]}),Tt=({setCurrentPage:a,ACCENT_COLOR:s,ICON_BACKGROUND:t})=>{const[n,j]=r.useState([]),p=l=>{j(C=>C.includes(l)?C.filter(y=>y!==l):[...C,l])},h=[{name:"Formal & Professional",icon:qe},{name:"Witty & Playful",icon:O},{name:"Experimental & Bold",icon:tt},{name:"Minimalist & Clean",icon:kt},{name:"Premium & Luxe",icon:we}];return e.jsxs("div",{className:"w-full",children:[e.jsx(Me,{title:o("Brand Voice"),subtitle:o("Select tones that represent your brand (select multiple)"),setCurrentPage:a,previousPage:"BrandDetails"}),e.jsxs("section",{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[h.map(({name:l,icon:C})=>e.jsx(Wt,{icon:C,title:o(l),isSelected:n.includes(l),onClick:()=>p(l),ACCENT_COLOR:s,ICON_BACKGROUND:t},l)),h.length%2!==0&&e.jsx("div",{className:"invisible"})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:s},onClick:()=>a("BrandLogo"),disabled:n.length===0,children:[e.jsx("span",{children:o("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})]})},Ve=({setCurrentPage:a,ACCENT_COLOR:s,ICON_BACKGROUND:t,uploadedFile:n,previewUrl:j,setUploadedFile:p,setPreviewUrl:h})=>{const[l,C]=r.useState(""),y=r.useRef(null),L=()=>{try{y.current&&y.current.click()}catch{}},N=f=>{const d=f.target.files&&f.target.files[0];if(!d)return;if(!d.type.startsWith("image/")){C("Please upload an image file (jpg, png, gif).");return}const w=5*1024*1024;if(d.size>w){C("Image is too large. Max size is 5MB.");return}C("");const M=new FileReader;M.addEventListener("load",()=>{try{h(M.result)}catch{}try{localStorage.setItem("brand_preview_url",M.result)}catch{}try{p(d)}catch{}}),M.readAsDataURL(d)},E=()=>{try{localStorage.removeItem("brand_preview_url")}catch{}try{h("")}catch{}try{p(null)}catch{}C(""),y.current&&(y.current.value="")},A=Re(),F=yt(),b=async()=>{try{if(!A?.user)return A.openAuthModal();const f=localStorage.getItem("sponsor_name")||`Sponsor-${Date.now()}`,d=localStorage.getItem("sponsor_creative_brief")||"",w={logo:localStorage.getItem("sponsor_asset_logo")||null,brandGuide:localStorage.getItem("sponsor_asset_brandguide")||null},M=localStorage.getItem("regaarder_token"),x=await fetch("http://localhost:4000/sponsors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:M?`Bearer ${M}`:""},body:JSON.stringify({name:f,brief:d,assets:w})});if(!x.ok){const u=await x.json().catch(()=>({}));throw new Error(u&&u.error?u.error:"Failed to create sponsor profile")}const v=await x.json();try{localStorage.setItem("advertiser_profile_created","1")}catch{}if(v&&v.sponsor&&v.sponsor.id)try{localStorage.setItem("advertiser_sponsor_id",v.sponsor.id)}catch{}try{a("AdvertiserDashboard")}catch{}try{F("/advertisewithus")}catch{}}catch(f){console.error("createSponsor error",f),alert(f.message||"Failed to create sponsor profile")}};return e.jsxs("div",{className:"w-full",children:[e.jsx(Me,{title:o("Brand Logo (Optional)"),subtitle:o("Help creators recognize your brand"),setCurrentPage:a,previousPage:"BrandVoice"}),e.jsxs("section",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"w-full py-6 px-4 sm:py-12 sm:px-6 rounded-2xl border-2 border-dashed transition duration-300 cursor-pointer text-center",style:{borderColor:n?"rgb(220, 252, 231)":t,backgroundColor:n?"#F0FFF4":t,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onClick:L,children:[e.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:N,className:"hidden"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-4 w-28 h-28 rounded-full overflow-hidden bg-white flex items-center justify-center",children:j?e.jsx("img",{src:j,alt:"logo preview",className:"w-full h-full object-cover"}):e.jsx(Qe,{className:"w-10 h-10 text-gray-400"})}),e.jsx("p",{className:"text-base font-medium text-gray-700",children:j?n&&n.name?n.name:o("Uploaded logo"):o("Click to upload logo")}),l&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:o(l)}),j&&e.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[e.jsx("button",{type:"button",onClick:E,className:"px-3 py-2 rounded-md bg-white border border-gray-200 text-sm text-gray-700 hover:bg-gray-50",children:o("Remove")}),e.jsx("span",{className:"text-xs text-gray-500",children:o("Preview shown above")})]})]})]}),e.jsx("div",{className:"pt-8 w-full",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90",style:{backgroundColor:s},onClick:b,children:[e.jsx("span",{children:o("Complete Setup")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})]})},Ye=({setCurrentPage:a,ACCENT_COLOR:s,previewUrl:t,uploadedFile:n,campaigns:j=[],onViewCampaign:p,onEditCampaign:h})=>{const l=c=>Y(c,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),C=Re(),[y,L]=r.useState([]),[N,E]=r.useState([]),[A,F]=r.useState(!1),[b,f]=r.useState(()=>{try{return!localStorage.getItem("advertiser_profile_dismissed")}catch{return!0}}),[d,w]=r.useState(null),[M,x]=r.useState(!1),[v,u]=r.useState("wise"),[m,B]=r.useState(""),[P,_]=r.useState(!1),[i,g]=r.useState(()=>{try{return Number(localStorage.getItem("account_balance")||0)}catch{return 0}}),[S,I]=r.useState("choose"),[T,U]=r.useState(""),[H,G]=r.useState(null),[J,D]=r.useState(null),[$,ie]=r.useState(null),[de,re]=r.useState(""),ge=[{id:"awareness",title:"Awareness",desc:"Brand/product exposure to new audiences",Icon:ae},{id:"engagement",title:"Engagement",desc:"Challenge, hashtag trend, storytelling",Icon:O},{id:"conversion",title:"Conversion",desc:"Product demo, affiliate link, purchases",Icon:Ce},{id:"prestige",title:"Prestige",desc:"Long-form branded series or storytelling",Icon:we}],pe=()=>{w(null),F(!0)},Ue=()=>{F(!1)},it=()=>{try{localStorage.setItem("new_coll_objective",d||"")}catch{}F(!1),a("StartCollaboration")},[ee,dt]=r.useState(()=>{try{const c=localStorage.getItem("advertiser_campaigns");if(c)return JSON.parse(c)||[]}catch{}return j||[]});r.useEffect(()=>{(async()=>{try{if(!C?.user){C.openAuthModal();return}const k=localStorage.getItem("regaarder_token"),R=await fetch("http://localhost:4000/advertiser/dashboard",{headers:{Authorization:k?`Bearer ${k}`:""}});if(!R.ok){console.warn("Failed to load advertiser dashboard",R.status);return}const z=await R.json();z&&Array.isArray(z.sponsors)&&L(z.sponsors||[]),z&&Array.isArray(z.campaigns)&&E(z.campaigns||[])}catch(k){console.error(k)}})()},[]);const[mt,He]=r.useState(!1),[q,le]=r.useState(null),[xt,me]=r.useState(!1),ut=c=>{try{localStorage.setItem("advertiser_campaigns",JSON.stringify(c))}catch{}dt(c)},Be=c=>{ut(c);try{oe("advertiser:campaigns_updated",c)}catch{}},ht=c=>{const k=(ee||[]).find(R=>R.id===c)||null;le(k?{...k}:{id:null,name:"",status:"active",spent:0,creators:0,creatorIds:[]}),me(!1),He(!0)},ne=()=>{le(null),He(!1),me(!1)},ze=c=>{const k=(ee||[]).map(R=>R.id===q.id?{...R,...c}:R);Be(k),ne()},gt=c=>{const k=(ee||[]).filter(R=>R.id!==c);Be(k),ne()},pt=c=>{const k=(ee||[]).find(Ae=>Ae.id===c);if(!k)return;const z=[{...k,id:`c_${Date.now()}`,name:`${k.name} (Copy)`},...ee||[]];Be(z),ne()},ft=c=>{try{const k=(ee||[]).find(Ae=>Ae.id===c);if(!k)return;const R=localStorage.getItem("advertiser_campaign_templates");let z=[];R&&(z=JSON.parse(R)||[]),z.unshift({id:`t_${Date.now()}`,name:k.name,campaign:k,createdAt:Date.now()}),localStorage.setItem("advertiser_campaign_templates",JSON.stringify(z))}catch{}ne()};return e.jsxs("div",{className:"w-full",children:[e.jsx("header",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[e.jsx("div",{className:"sm:flex-1",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l("Advertiser Dashboard")}),e.jsx("p",{className:"text-sm text-gray-500",children:l("Manage your collaborations")})]})}),e.jsxs("div",{className:"mt-3 sm:mt-0 flex flex-col sm:flex-row sm:items-center sm:justify-end items-stretch gap-3",children:[e.jsx("button",{className:"w-full sm:w-auto flex items-center justify-center text-gray-700 px-3 py-2 rounded-md hover:bg-gray-50",children:e.jsx("span",{className:"text-sm",children:l("Profile")})}),e.jsxs("button",{onClick:pe,className:"w-full sm:w-auto flex items-center space-x-2 px-3 py-2 rounded-md text-white justify-center",style:{minWidth:0,backgroundColor:s,boxShadow:A?"0 0 0 4px rgba(var(--color-gold-rgb),0.16)":void 0},children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-semibold",children:l("New Campaign")})]})]})]})}),A&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col",children:[e.jsx("div",{className:"bg-black/40 absolute inset-0",onClick:Ue}),e.jsxs("div",{className:"relative bg-white w-full max-w-md mx-auto mt-12 rounded-t-xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"px-4 pt-4 pb-2 flex items-center justify-between border-b border-gray-100",children:[e.jsx("button",{onClick:Ue,className:"p-2 text-gray-600 hover:text-gray-900 rounded-full -ml-1",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-500",children:l("Step 1 of 8")}),e.jsx("div",{className:"w-24 mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"13%",background:s}})})]}),e.jsx("div",{className:"w-8"})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-900 text-center",children:l("Your idea deserves great storytelling")}),e.jsx("p",{className:"text-sm text-gray-500 text-center mt-2 mb-6",children:l("Choose what matters most for this collaboration")}),e.jsx("div",{className:"space-y-3",children:ge.map(c=>{const k=d===c.id;return e.jsxs("button",{onClick:()=>w(c.id),className:"w-full flex items-center p-4 rounded-xl text-left transition",style:k?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.12)"}:void 0,children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:W},children:e.jsx(c.Icon,{className:"w-6 h-6",style:{color:"#111827"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-medium text-gray-900",children:l(c.title)}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:l(c.desc)})]}),k&&e.jsx(_e,{className:"w-5 h-5",style:{color:s}})]},c.id)})})]}),e.jsx("div",{className:"sticky bottom-0 bg-white p-4 border-t border-gray-100",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("button",{onClick:it,disabled:!d,className:"w-full py-3 px-4 rounded-2xl text-white font-semibold",style:{backgroundColor:d?s:void 0,color:d?"white":void 0,opacity:d?1:.9},children:l("Continue")})})})]})]}),e.jsxs("div",{className:"w-full max-h-[68vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"rounded-2xl p-6 mb-6",style:{background:"linear-gradient(180deg, var(--color-gold-light) 0%, #FFFFFF 100%)"},children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:s},children:e.jsx(St,{className:"w-6 h-6 text-white"})}),b?e.jsx("button",{onClick:()=>{f(!1)},className:"text-gray-500","aria-label":"Collapse profile",children:e.jsx(vt,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>{try{localStorage.removeItem("advertiser_profile_dismissed")}catch{}f(!0)},className:"text-gray-500","aria-label":"Show profile",children:e.jsx(Ie,{className:"w-5 h-5"})})]}),b&&e.jsxs("div",{className:"flex flex-col items-center mt-6",children:[e.jsx("div",{className:"w-28 h-28 rounded-full bg-white shadow-md flex items-center justify-center overflow-hidden",children:t?e.jsx("img",{src:t,alt:"brand avatar",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsxs("svg",{className:"w-10 h-10 text-gray-300",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"8",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M6 20c0-3.3 2.7-6 6-6s6 2.7 6 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})}),e.jsx("div",{className:"mt-3 px-3 py-1 rounded-full text-sm",style:{backgroundColor:s,color:"white"},children:l("Brand")}),e.jsx("h3",{className:"mt-4 text-2xl font-semibold text-gray-900",children:"Nnsnen"}),e.jsx("p",{className:"text-sm text-gray-500",children:"bebsndndn"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:l("Account Balance")}),e.jsxs("p",{className:"text-2xl font-semibold",style:{color:s},children:["$",Number(i||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 px-3 py-2 border rounded-md text-gray-700",children:e.jsx("span",{children:l("Add Funds")})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold truncate",style:{color:s},children:"0"}),e.jsx("div",{className:"text-xs text-gray-500",children:l("Total Campaigns")})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold truncate",style:{color:s},children:"0"}),e.jsx("div",{className:"text-xs text-gray-500",children:l("Creators Hired")})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold truncate",style:{color:s},children:"$0"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Spent"})]})]})]}),M&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>x(!1)}),e.jsxs("div",{className:"relative bg-white w-full max-w-md mx-auto rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add Funds"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-500",children:e.jsx(X,{className:"w-5 h-5"})})]}),S==="choose"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose a method to add funds to your account."}),e.jsx("div",{className:"space-y-2 mb-4",children:["wise","card","payoneer","bank","western_union"].map(c=>e.jsxs("label",{className:"flex items-center p-3 rounded-lg border",style:v===c?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsx("input",{type:"radio",name:"af-method",checked:v===c,onChange:()=>u(c),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c==="wise"?"Wise":c==="card"?"Credit / Debit Card":c==="payoneer"?"Payoneer":c==="bank"?"Bank Transfer":"Western Union"}),e.jsx("div",{className:"text-xs text-gray-500",children:c==="card"?"Visa, Mastercard, Amex":c==="bank"?"Direct bank transfer (ACH)":c==="payoneer"?"Payoneer transfer":c==="western_union"?"Use a Western Union location":"Fast bank transfers"})]})]},c))}),e.jsxs("label",{className:"block mb-4",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Amount"}),e.jsx("input",{type:"number",min:"1",value:m,onChange:c=>B(c.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter amount in USD"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-md border",children:"Cancel"}),e.jsx("button",{onClick:async()=>{try{const c=Math.max(0,Number(m)||0);if(!c)return;if(_(!0),v==="card"){const k=await Te({amount:c});await new Promise(z=>setTimeout(z,500));const R=Number(i||0)+c;try{localStorage.setItem("account_balance",String(R))}catch{}g(R),B(""),I("complete")}else if(v==="wise"){const k=Bt(c);U(k);try{window.open(k,"_blank")}catch{}I("external")}else if(v==="payoneer"){const k=At(c);U(k);try{window.open(k,"_blank")}catch{}I("external")}else if(v==="bank"){const k=Et(c);G(k),I("instructions")}else if(v==="western_union"){const k=Pt(c);D(k),I("instructions")}}catch{}finally{_(!1)}},disabled:P||!(Number(m)>0),className:"px-4 py-2 rounded-md text-white font-semibold disabled:opacity-60",style:{backgroundColor:s},children:P?"Processing...":"Proceed"})]})]}),S==="external"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"We've opened the external provider. When your transfer completes, click the button below to simulate completion and credit your account."}),e.jsx("div",{className:"mb-4",children:e.jsx("a",{href:T,target:"_blank",rel:"noreferrer",className:"underline break-all",style:{color:s},children:T})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>I("choose"),className:"px-4 py-2 rounded-md border",children:"Back"}),e.jsx("button",{onClick:()=>{const c=Math.max(0,Number(m)||0);if(!c)return;const k=Number(i||0)+c;try{localStorage.setItem("account_balance",String(k))}catch{}g(k),B(""),I("complete")},className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:s},children:"Simulate Complete Transfer"})]})]}),S==="instructions"&&e.jsxs(e.Fragment,{children:[H&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Bank transfer details"}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Account: ",H.accountName]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Bank: ",H.bankName]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Account #: ",H.accountNumber]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Routing: ",H.routing]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Reference: ",H.reference]})]}),J&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Western Union instructions"}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Receiver: ",J.receiver]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["City: ",J.city]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Country: ",J.country]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Note: ",J.note]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Upload receipt or payment confirmation"}),e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:async c=>{try{const k=c.target.files&&c.target.files[0];if(!k)return ie(null);const R=new FileReader;R.onload=()=>{try{ie({name:k.name,data:R.result})}catch{}},R.readAsDataURL(k)}catch{}},className:"w-full"}),$&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Attached: ",$.name]})]}),J&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Western Union MTCN / Transfer Number"}),e.jsx("input",{value:de,onChange:c=>re(c.target.value),placeholder:"Enter MTCN or transfer number",className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>I("choose"),className:"px-4 py-2 rounded-md border",children:"Back"}),e.jsx("button",{onClick:()=>{try{const c=Math.max(0,Number(m)||0);if(!c)return;if(J){if(!de&&!$){alert("Please provide the MTCN (transfer number) or upload a receipt to proceed.");return}}else if(H&&!$){alert("Please upload a receipt or confirmation for bank transfers.");return}if($)try{localStorage.setItem("last_payment_receipt",JSON.stringify({name:$.name,data:$.data,amount:c,method:v,time:Date.now(),transferNumber:de||null}))}catch{}const k=Number(i||0)+c;try{localStorage.setItem("account_balance",String(k))}catch{}g(k),B(""),re(""),ie(null),G(null),D(null),I("complete")}catch{}},className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:s},children:"I've Sent Payment (Simulate)"})]})]}),S==="complete"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Funds have been added to your account."}),e.jsx("div",{className:"flex items-center justify-end space-x-3",children:e.jsx("button",{onClick:()=>{I("choose"),x(!1)},className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:s},children:"Done"})})]})]})]}),e.jsxs("h4",{className:"text-lg font-semibold mb-3",children:[l("Your Campaigns")," ",e.jsxs("span",{className:"text-sm text-gray-400",children:[(ee||[]).length," ",l("total")]})]}),e.jsx("div",{className:"space-y-3",children:(ee||[]).map(c=>e.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium",children:c.name||l("Campaign")}),e.jsx("div",{className:"text-xs text-gray-500",children:l(c.status)}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["$",c.spent," Â· ",c.creators," ",l("creators")]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>{ht(c.id)},className:"px-3 py-1 rounded-md bg-gray-50 text-sm",children:l("View")})})]},c.id))}),mt&&q&&Xe.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:ne}),e.jsxs("div",{className:"relative bg-white w-full max-w-md mx-auto rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:l("Edit Campaign")}),e.jsx("button",{onClick:ne,className:"text-gray-500",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:l("Title")}),e.jsx("input",{value:q.name||"",onChange:c=>le(k=>({...k,name:c.target.value})),className:"w-full px-3 py-2 border rounded-md"}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l('Only the campaign title is editable here. Use "Edit Details" to change payment or other fields inline.')})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-700 mb-2",children:l("Creators")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(q?Array.isArray(q.creatorIds)?q.creatorIds:(function(){try{const c=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");if(c){const k=JSON.parse(c);if(Array.isArray(k))return k}return[]}catch{return[]}})():[]).map((c,k)=>e.jsx("div",{className:"px-2 py-1 bg-gray-100 text-xs rounded-full",children:String(c)},c+"_"+k))})]}),e.jsxs("div",{className:"mb-4 p-3 rounded-md bg-gray-50 border text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:l("Status")}),e.jsx("div",{className:"font-medium",children:l(q.status)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:l("Budget")}),e.jsxs("div",{className:"font-medium",children:["$",Number(localStorage.getItem("sponsor_budget_cap")||q.spent||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:l("Creators Hired")}),e.jsx("div",{className:"font-medium",children:q.creators||Number(localStorage.getItem("sponsor_selected_count")||0)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:l("Est. Reach")}),e.jsx("div",{className:"font-medium",children:localStorage.getItem("sponsor_estimated_reach")?ct(Number(localStorage.getItem("sponsor_estimated_reach")))+" "+l("views"):"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:l("Escrow")}),e.jsxs("div",{className:"font-medium",children:["$",Number(localStorage.getItem("sponsor_escrow_amount")||q.spent||0).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{ze({name:q.name||"Campaign"})},className:"px-4 py-2 rounded-md text-white",style:{backgroundColor:s},children:l("Save")}),e.jsx("button",{onClick:()=>{confirm(l("Delete this campaign? This cannot be undone."))&&gt(q.id)},className:"px-4 py-2 rounded-md border text-sm",children:l("Delete")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{pt(q.id)},className:"px-3 py-2 rounded-md bg-gray-100",children:l("Copy")}),e.jsx("button",{onClick:()=>{ft(q.id)},className:"px-3 py-2 rounded-md bg-gray-100",children:l("Reuse as Template")})]})]}),e.jsx("div",{className:"mt-4 border-t pt-4",children:xt?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-xs text-gray-500",children:l("Add Creator ID")}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{placeholder:l("creator id"),className:"px-2 py-1 border rounded-l-md flex-1",id:"newCreatorIdInput"}),e.jsx("button",{onClick:()=>{try{const c=document.getElementById("newCreatorIdInput"),k=c&&c.value?String(c.value).trim():"";if(!k)return;const R=Array.isArray(q.creatorIds)?[...q.creatorIds,k]:[k];le(z=>({...z,creatorIds:R,creators:R.length})),c&&(c.value="")}catch{}},className:"px-3 py-1 bg-gray-100 border rounded-r-md",children:l("Add")})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-xs text-gray-500",children:l("Budget Cap")}),e.jsx("input",{type:"number",value:q.budgetCap||"",onChange:c=>le(k=>({...k,budgetCap:c.target.value})),className:"w-full px-2 py-1 border rounded-md mt-1"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-xs text-gray-500",children:l("Escrow Amount")}),e.jsx("input",{type:"number",value:q.escrowAmount||"",onChange:c=>le(k=>({...k,escrowAmount:c.target.value})),className:"w-full px-2 py-1 border rounded-md mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>me(!1),className:"px-3 py-2 rounded-md border",children:"Cancel"}),e.jsx("button",{onClick:()=>{try{ze({creatorIds:q.creatorIds||[],budgetCap:q.budgetCap||null,escrowAmount:q.escrowAmount||null,creators:Array.isArray(q.creatorIds)?q.creatorIds.length:q.creators||0}),me(!1)}catch{}},className:"px-3 py-2 rounded-md text-white",style:{backgroundColor:s},children:"Save Details"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>{me(!0)},className:"px-3 py-2 rounded-md bg-white border",children:l("Edit Details")})}),e.jsx("div",{className:"text-xs text-gray-500",children:l('Tap "Edit Details" to edit payment, creators and budget inline.')})]})})]})]}),document.body),e.jsx("div",{className:"h-8"})]})]})},Ut=({setCurrentPage:a,campaign:s,onSave:t,readOnly:n})=>{const[j,p]=r.useState(s||{id:null,name:"",status:"",spent:0,creators:0});return r.useEffect(()=>p(s||{id:null,name:"",status:"",spent:0,creators:0}),[s]),s?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"Campaign details"})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>a("AdvertiserDashboard"),className:"px-3 py-2 rounded-md border",children:"Back"})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Name"}),n?e.jsx("div",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",children:s.name}):e.jsx("input",{value:j.name,onChange:h=>p(l=>({...l,name:h.target.value})),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Status"}),n?e.jsx("div",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",children:s.status}):e.jsxs("select",{value:j.status,onChange:h=>p(l=>({...l,status:h.target.value})),className:"w-full px-3 py-2 border rounded-md",children:[e.jsx("option",{value:"active",children:"active"}),e.jsx("option",{value:"paused",children:"paused"}),e.jsx("option",{value:"completed",children:"completed"})]})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Budget Spent"}),n?e.jsxs("div",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",children:["$",s.spent]}):e.jsx("input",{type:"number",value:j.spent,onChange:h=>p(l=>({...l,spent:Number(h.target.value)})),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Creators Hired"}),n?e.jsx("div",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",children:s.creators}):e.jsx("input",{type:"number",value:j.creators,onChange:h=>p(l=>({...l,creators:Number(h.target.value)})),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsx("div",{className:"flex items-center space-x-3 pt-4",children:n?e.jsx("button",{onClick:()=>a("AdvertiserDashboard"),className:"px-4 py-2 rounded-md border",children:"Close"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{t&&t(j),a("AdvertiserDashboard")},className:"px-4 py-2 rounded-md text-white",style:{backgroundColor:V},children:"Save"}),e.jsx("button",{onClick:()=>a("AdvertiserDashboard"),className:"px-4 py-2 rounded-md border",children:"Cancel"})]})})]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Campaign not found."}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:()=>a("AdvertiserDashboard"),className:"px-3 py-2 rounded-md border",children:"Back"})})]})},Ht=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=y=>Y(y,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState(""),[p,h]=r.useState(""),l=[{id:"content_integration",title:t("Content Integration"),desc:t("Direct sponsorship with creators. Choose from native mentions, integrated segments, product placements, and custom collaborations. Perfect for brand storytelling."),bullets:[t("Native mentions"),t("Integrated segments"),t("Product placement")],Icon:ae},{id:"post_sponsored",title:t("Post Sponsored Request"),desc:t("Create a sponsored request and let creators apply. Set your budget, requirements, and deadline. Review applications and choose the best creators for your brand."),bullets:[t("Creators apply"),t("Competitive bids"),t("Sponsored tag")],Icon:st},{id:"sponsor_user_requests",title:t("Sponsor User Requests"),desc:t("Browse existing video requests from users on the platform. Sponsor content that aligns with your brand and reach engaged audiences looking for that content."),bullets:[t("Browse requests"),t("Sponsor matching content")],Icon:ue}],C=()=>{try{localStorage.setItem("start_coll_choice",p||"")}catch{}try{if(p==="content_integration"){a("SponsorshipFormat");return}if(p==="post_sponsored"){try{window.location.href="/ideas.jsx"}catch{a("Ideas")}return}if(p==="sponsor_user_requests"){a("SponsorUserRequests");return}}catch{}a(p?"SponsorshipFormat":"Welcome")};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("AdvertiserDashboard"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 2 of 8")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("25% complete")})]}),e.jsx("div",{className:"w-full mb-6",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"25%",background:s}})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:t("How would you like to work with creators?")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Choose the best approach for your campaign")})]}),e.jsx("div",{className:"space-y-4",children:l.map(y=>{const L=y.Icon,N=p===y.id;return e.jsx("button",{onClick:()=>h(y.id),className:"w-full text-left p-6 rounded-2xl transition",style:N?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.12)"}:void 0,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center mr-6",style:{backgroundColor:W},children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:y.title}),e.jsx("div",{className:"text-sm text-gray-500 mt-1 max-w-[56ch]",children:y.desc})]}),e.jsx("div",{className:"ml-4",children:N&&e.jsx(_e,{className:"w-5 h-5",style:{color:s}})})]}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2 text-sm text-gray-600",children:y.bullets.map(E=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),e.jsx("span",{children:E})]},E))})]})]})},y.id)})}),e.jsx(ke,{disabled:!p,onClick:C,ACCENT_COLOR:s})]})},zt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=h=>Y(h,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),n=[{id:"native",title:t("Native Mention"),desc:t("15-30s organic shoutout"),duration:t("15-30s"),Icon:ae},{id:"integrated",title:t("Integrated Segment"),desc:t("Product use or feature showcase"),duration:t("30-60s"),Icon:O},{id:"challenge",title:t("Challenge / Request"),desc:t("Interactive trend or challenge"),duration:t("60s+"),Icon:Ce},{id:"background",title:t("Background Placement"),desc:t("Subtle visual appearance"),duration:t("Throughout"),Icon:ue},{id:"custom",title:t("Custom Collaboration"),desc:t("Open brief, creative freedom"),duration:t("Flexible"),Icon:at}],[j,p]=r.useState("");return r.useEffect(()=>{try{const h=localStorage.getItem("sponsor_selected_format");h&&p(h)}catch{}},[]),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("StartCollaboration"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 3 of 8")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("38% complete")})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"38%",background:s}})})}),e.jsxs("div",{className:"mb-4 flex items-center text-gray-600 space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 11c1.657 0 3-1.343 3-3S13.657 5 12 5 9 6.343 9 8s1.343 3 3 3zM5 20v-2a4 4 0 014-4h6a4 4 0 014 4v2"})}),e.jsx("div",{className:"text-sm font-medium",children:t("Don't lose your progress!")})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:t("Choose your sponsorship format")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("How should creators feature your brand?")})]}),e.jsx("div",{className:"space-y-4 pb-36 animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.map((h,l)=>{const C=h.Icon,y=j===h.id;return e.jsx("button",{onClick:()=>p(h.id),className:"w-full text-left p-6 rounded-2xl transition animate-in fade-in slide-in-from-bottom-2 duration-500",style:y?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.12)",animationDelay:`${l*50}ms`}:{animationDelay:`${l*50}ms`},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center mr-6",style:{backgroundColor:W},children:e.jsx(C,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:h.title}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:h.desc}),e.jsxs("div",{className:"text-sm text-gray-400 mt-3 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3"})}),e.jsx("span",{children:h.duration})]})]})]})},h.id)})}),e.jsx(ke,{disabled:!j,onClick:()=>{try{localStorage.setItem("sponsor_open_budget","1")}catch{}try{localStorage.setItem("sponsor_selected_format",j||"")}catch{}try{const h=n.find(l=>l.id===j);h&&localStorage.setItem("sponsor_selected_format_title",h.title||h.id)}catch{}a("SponsorUserRequests")},ACCENT_COLOR:s})]})},Gt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=D=>Y(D,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState(!1);r.useEffect(()=>{try{localStorage.getItem("sponsor_open_budget")&&(j(!0),localStorage.removeItem("sponsor_open_budget"))}catch{}},[]);const[p,h]=r.useState("CPM"),[l,C]=r.useState(100),[y,L]=r.useState(5),N=5,E=100,[A,F]=r.useState(5e3),b=500,f=1e5,[d,w]=r.useState(5),M=0,x=20,v=(D,$,ie)=>{const de=Number(D),re=Number($),ge=Number(ie),pe=ge===re?0:Math.round((de-re)/(ge-re)*100);return{background:`linear-gradient(90deg, ${It} ${pe}%, #e6e7eb ${pe}%)`}},[u,m]=r.useState(.5),B=.1,P=10,[_,i]=r.useState(100),g=100,S=1e5,[I,T]=r.useState(!0),[U,H]=r.useState(5),G=0,J=50;return n?e.jsxs("div",{className:"pt-6 pb-40 max-w-md mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Step 4 of 6"}),e.jsx("div",{className:"text-sm text-gray-500",children:"67% complete"})]}),e.jsx("div",{className:"h-2 rounded-full mb-6 overflow-hidden",style:{background:"#f3f2f1"},children:e.jsx("div",{className:"h-full",style:{width:"67%",background:s}})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-3",children:t("Configure sponsorship budget")}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("Choose how you want to pay for sponsored content")}),e.jsx("h3",{className:"text-sm font-medium text-gray-800 mb-3",children:t("Payment Model")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>h("Lump"),className:"w-full text-left p-4 rounded-2xl border bg-white shadow-sm flex justify-between items-start",style:p==="Lump"?{borderColor:s}:void 0,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t("Lump Sum Payment")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Pay a fixed amount per sponsored video. Simple and predictable.")})]}),e.jsx("div",{className:"ml-4",style:{color:s},children:e.jsx(Oe,{className:"w-6 h-6"})})]}),e.jsxs("button",{onClick:()=>h("CPM"),className:"w-full text-left p-4 rounded-2xl border bg-white shadow-sm flex justify-between items-start",style:p==="CPM"?{borderColor:s,boxShadow:"0 0 0 4px rgba(var(--color-gold-rgb),0.04)",backgroundColor:W}:void 0,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t("Pay Per View (CPM)")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Pay based on video views. Only pay for actual reach. Fair for creators.")})]}),e.jsx("div",{className:"ml-4",style:{color:s},children:e.jsx(ue,{className:"w-6 h-6"})})]}),e.jsxs("button",{onClick:()=>h("CPC"),className:"w-full text-left p-4 rounded-2xl border bg-white shadow-sm flex justify-between items-start",style:p==="CPC"?{borderColor:s}:void 0,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t("Pay Per Click (CPC)")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Pay only when viewers click your product or link.")})]}),e.jsx("div",{className:"ml-4",style:{color:s},children:e.jsx(_t,{className:"w-6 h-6"})})]}),p==="Lump"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Budget per Request")}),e.jsxs("div",{className:"text-xl font-semibold",style:{color:s},children:["$",l.toLocaleString()]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"range",min:100,max:1e5,step:1,value:l,onChange:D=>C(Math.max(100,Math.min(1e5,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(l,100,1e5)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[e.jsx("span",{children:"$100"}),e.jsx("span",{children:"$100,000"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:t("Or enter custom amount (minimum $100)")}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"border border-gray-100 rounded-md p-3 bg-white",children:[e.jsx("span",{className:"text-gray-500 mr-3",children:"$"}),e.jsx("input",{type:"number",min:100,value:l,onChange:D=>{const $=Number(D.target.value);Number.isNaN($)||C(Math.max(100,Math.min(1e5,Math.floor($))))},className:"w-36 outline-none text-lg font-medium"})]})})]})]}),p==="CPM"&&e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Rate per 1,000 views")}),e.jsxs("div",{className:"text-xl font-semibold",style:{color:s},children:["$",y.toFixed(2)]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"range",min:N,max:E,step:.5,value:y,onChange:D=>L(Math.max(N,Math.min(E,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(y,N,E)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[e.jsxs("span",{children:["$",N," (minimum)"]}),e.jsxs("span",{children:["$",E]})]})]}),e.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-gray-50 text-sm text-gray-600 flex items-start",children:[e.jsx("div",{className:"w-7 h-7 rounded-md flex items-center justify-center mr-3",style:{color:s},children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx("div",{children:t("Minimum $5 CPM protects creator earnings and ensures fair compensation")})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Budget Cap")}),e.jsxs("div",{className:"text-xl font-semibold",style:{color:s},children:["$",A.toLocaleString()]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"range",min:b,max:f,step:1,value:A,onChange:D=>F(Math.max(b,Math.min(f,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(A,b,f)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[e.jsxs("span",{children:["$",b," (minimum)"]}),e.jsxs("span",{children:["$",f]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:t("Or enter custom amount (minimum $500)")}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"border border-gray-100 rounded-md p-3 bg-white",children:[e.jsx("span",{className:"text-gray-500 mr-3",children:"$"}),e.jsx("input",{type:"number",min:b,value:A,onChange:D=>{const $=Number(D.target.value);Number.isNaN($)||F(Math.max(b,Math.min(f,Math.floor($))))},className:"w-36 outline-none text-lg font-medium"})]})})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:t("Maximum you'll pay regardless of views. Payment will be held in escrow upfront.")})]}),e.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t("Automatic Engagement Bonus")}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("Reward creators for high engagement (likes, comments, shares)")})]})]}),e.jsx("div",{className:"font-semibold",style:{color:s},children:e.jsx(Se,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t("Bonus Percentage")}),e.jsx("div",{className:"font-semibold",style:{color:s},children:"+5%"})]}),e.jsx("input",{type:"range",min:M,max:x,step:1,value:d,onChange:D=>w(Math.max(M,Math.min(x,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200"}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:t("Creators earn an extra {0}% if engagement rate exceeds 10%").replace("{0}",d)})]})]})]}),p==="CPC"&&e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Rate per Click")}),e.jsxs("div",{className:"text-xl font-semibold",style:{color:s},children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"range",min:B,max:P,step:"0.01",value:u,onChange:D=>{const $=Math.max(B,Math.min(P,Number(D.target.value)));m(Math.round($*100)/100)},className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(u,B,P)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[e.jsxs("span",{children:["$",B.toFixed(2)," (minimum)"]}),e.jsxs("span",{children:["$",P.toFixed(2)]})]})]}),e.jsxs("p",{className:"mt-3 text-sm text-gray-600 flex items-center",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-gray-400"}),t("Minimum {0} per click ensures fair creator compensation").replace("{0}","$"+B.toFixed(2))]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Budget Cap")}),e.jsxs("div",{className:"text-xl font-semibold",style:{color:s},children:["$",_.toLocaleString()]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"range",min:g,max:S,step:1,value:_,onChange:D=>i(Math.max(g,Math.min(S,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(_,g,S)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[e.jsxs("span",{children:["$",g," (minimum)"]}),e.jsxs("span",{children:["$",S.toLocaleString()]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:t("Or enter custom amount (minimum {0})").replace("{0}","$"+g)}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"border border-gray-100 rounded-md p-3 bg-white",children:[e.jsx("span",{className:"text-gray-500 mr-3",children:"$"}),e.jsx("input",{type:"number",min:g,value:_,onChange:D=>{const $=Number(D.target.value);Number.isNaN($)||i(Math.max(g,Math.min(S,Math.floor($))))},className:"w-36 outline-none text-lg font-medium"})]})})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:t("Maximum you'll pay regardless of clicks. Payment will be held in escrow upfront.")})]}),e.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:D=>T(D.target.checked),className:"w-5 h-5 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t("Automatic Engagement Bonus")}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("Reward creators for high engagement (likes, comments, shares)")})]})]}),e.jsx("div",{className:"font-semibold",style:{color:s},children:e.jsx(Se,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t("Bonus Percentage")}),e.jsxs("div",{className:"font-semibold",style:{color:s},children:["+",U,"%"]})]}),e.jsx("input",{type:"range",min:G,max:J,step:"1",value:U,onChange:D=>H(Math.max(G,Math.min(J,Number(D.target.value)))),className:"w-full h-2 rounded-full appearance-none bg-gray-200",style:v(U,G,J)}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:t("Creators earn an extra {0}% if engagement rate exceeds 10%").replace("{0}",U)})]})]})]}),e.jsx("div",{className:"mt-4 p-4 rounded-2xl border bg-white shadow-sm",style:{borderColor:"rgba(99,102,241,0.2)",background:"linear-gradient(135deg, rgba(240,246,255,0.9), rgba(255,245,250,0.9))"},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",style:{backgroundColor:"rgba(59,130,246,0.08)"},children:e.jsxs("svg",{className:"w-5 h-5 text-blue-500",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M7 11V8a5 5 0 0110 0v3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("Secure Escrow Payment")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t("Your payment will be held securely in escrow and released to the creator upon content delivery and your approval.")})]})]})})]}),e.jsx(ke,{disabled:!1,onClick:()=>{try{const D=p==="Lump"?l:p==="CPM"?A:_;localStorage.setItem("sponsor_selected_model",p),localStorage.setItem("sponsor_budget_cap",String(D));try{localStorage.setItem("sponsor_cpc_rate",String(u))}catch{}try{localStorage.setItem("sponsor_cpm_rate",String(y))}catch{}try{localStorage.setItem("sponsor_engagement_bonus",String(U)+"%")}catch{}try{localStorage.setItem("sponsor_bonus_enabled",I?"1":"0")}catch{}}catch{}a("AudienceSelection")},ACCENT_COLOR:s,bottomOffset:"calc(40px + env(safe-area-inset-bottom))"})]}):e.jsxs("div",{className:"w-full pb-36",children:[" ",e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("StartCollaboration"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 3 of 6")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("50% complete")})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"50%",background:s}})})}),e.jsxs("div",{className:"mb-4 flex items-center text-gray-600 space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 11c1.657 0 3-1.343 3-3S13.657 5 12 5 9 6.343 9 8s1.343 3 3 3zM5 20v-2a4 4 0 014-4h6a4 4 0 014 4v2"})}),e.jsx("div",{className:"text-sm font-medium",children:t("Don't lose your progress!")})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:t("Ready to sponsor user requests")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Tap into proven demand with existing video requests")})]}),e.jsx("div",{className:"p-4 rounded-xl bg-gray-50 shadow-sm",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-4",style:{backgroundColor:W},children:e.jsx(et,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t("How sponsoring user requests works")}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-[56ch]",children:t("You'll browse real video requests from users on the platform - the same requests visible in the Requests marketplace. When you sponsor a request:")}),e.jsxs("ul",{className:"mt-3 text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t("Your brand gets featured in content people actually want")]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t('Request is marked "Sponsored" for all creators to see')]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t("Creators apply to fulfill the sponsored request")]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t("You review proposals and select the best creator")]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t("Payment held in escrow until content is delivered")]})]})]})]})}),e.jsx(ke,{disabled:!1,onClick:()=>j(!0),ACCENT_COLOR:s})]})},Jt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=i=>Y(i,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English");let n="CPM",j=0;try{n=localStorage.getItem("sponsor_selected_model")||n,j=Number(localStorage.getItem("sponsor_budget_cap")||0)}catch{}j||(j=100);const[p,h]=r.useState(()=>{try{const i=JSON.parse(localStorage.getItem("sponsor_selected_ids")||"null");return Array.isArray(i)?i.length:Number(localStorage.getItem("sponsor_selected_count")||localStorage.getItem("selected_requests_count")||0)||0}catch{return Number(localStorage.getItem("sponsor_selected_count")||0)||0}});r.useEffect(()=>{const i=S=>{try{if(!S.key)return;if(S.key==="sponsor_selected_ids"||S.key==="sponsor_selected_count"||S.key==="selected_requests_count"){const I=JSON.parse(localStorage.getItem("sponsor_selected_ids")||"null");Array.isArray(I)?h(I.length):h(Number(localStorage.getItem("sponsor_selected_count")||localStorage.getItem("selected_requests_count")||0)||0)}}catch{}};window.addEventListener("storage",i);const g=S=>{try{if(!S)return;Array.isArray(S)?h(S.length):typeof S=="number"&&h(S)}catch{}};try{ve("requests:selected_ids",g)}catch{}return()=>{try{window.removeEventListener("storage",i)}catch{}try{Ne("requests:selected_ids",g)}catch{}}},[]),r.useEffect(()=>{let i=null;try{i=localStorage.getItem("sponsor_selected_ids")||localStorage.getItem("sponsor_selected_count")||localStorage.getItem("selected_requests_count")||null}catch{}const S=setInterval(()=>{try{const I=localStorage.getItem("sponsor_selected_ids");if(I){const U=JSON.parse(I||"null");if(Array.isArray(U)){(!i||i!==I)&&(i=I,h(U.length));return}}const T=String(Number(localStorage.getItem("sponsor_selected_count")||localStorage.getItem("selected_requests_count")||0));T!==i&&(i=T,h(Number(T)||0))}catch{}},900);return()=>clearInterval(S)},[]);const[l,C]=r.useState(()=>{try{return localStorage.getItem("requests_search_query")||""}catch{return""}}),[y,L]=r.useState(()=>{try{return localStorage.getItem("requests_active_filter")||"Trending"}catch{return"Trending"}}),[N,E]=r.useState([]),[A,F]=r.useState([]),[b,f]=r.useState(()=>{try{return!localStorage.getItem("requests_swipe_entrance_shown")}catch{return!0}}),[d,w]=r.useState(!1),M=r.useRef(null),[x,v]=r.useState(null),u=r.useRef(null);r.useEffect(()=>{try{localStorage.setItem("requests_search_query",l)}catch{}try{oe("requests:search",l)}catch{}},[l]),r.useEffect(()=>{try{localStorage.setItem("requests_active_filter",y)}catch{}try{oe("requests:filter",y)}catch{}},[y]),r.useEffect(()=>{if(!d||!M.current){v(null);return}const i=M.current,g=i.getBoundingClientRect(),S=window.scrollY||window.pageYOffset||0,I=window.scrollX||window.pageXOffset||0;let T=g.left+I,U=g.bottom+S+6;v({top:U,left:T});const H=()=>{try{const G=i.getBoundingClientRect(),J=window.scrollY||window.pageYOffset||0;let D=G.left+(window.scrollX||window.pageXOffset||0);v($=>({...$||{},top:G.bottom+J+6,left:D}))}catch{}};return window.addEventListener("resize",H),window.addEventListener("scroll",H,{passive:!0}),()=>{window.removeEventListener("resize",H),window.removeEventListener("scroll",H)}},[d,M.current,A]),r.useEffect(()=>{if(!d)return;const i=requestAnimationFrame(()=>{try{const g=u.current;if(!g||!x)return;const I=g.getBoundingClientRect().width;let T=x.left||0;T+I>window.innerWidth-8&&(T=Math.max(8,window.innerWidth-I-8)),v(U=>U?Math.abs((U.left||0)-T)>1?{...U,left:T}:U:{top:U?U.top:0,left:T})}catch{}});return()=>cancelAnimationFrame(i)},[d,x]),r.useEffect(()=>{if(!d)return;const i=S=>{try{const I=S.target;if(!I||M.current&&M.current.contains(I)||u.current&&u.current.contains(I))return;w(!1)}catch{}},g=S=>{S.key==="Escape"&&w(!1)};return document.addEventListener("pointerdown",i),document.addEventListener("touchstart",i),document.addEventListener("keydown",g),()=>{document.removeEventListener("pointerdown",i),document.removeEventListener("touchstart",i),document.removeEventListener("keydown",g)}},[d]),r.useEffect(()=>{const i=S=>{try{(S||"")!==(l||"")&&C(S||"")}catch{}},g=S=>{try{(S||"")!==(y||"")&&L(S||"Trending")}catch{}};return ve("requests:search",i),ve("requests:filter",g),()=>{try{Ne("requests:search",i)}catch{}try{Ne("requests:filter",g)}catch{}}},[l,y]),r.useEffect(()=>{let i=!0;return Ke(()=>import("./requests-CMxjqjnE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28])).then(g=>{if(i)try{E(g.MOCK_REQUESTS||[]),F(g.REQUEST_FILTERS||[]),!(()=>{try{return localStorage.getItem("requests_active_filter")}catch{return null}})()&&g.REQUEST_FILTERS&&g.REQUEST_FILTERS[0]&&L(g.REQUEST_FILTERS[0].name)}catch{}}).catch(()=>{}),()=>{i=!1}},[]);const P=(i=>{switch(y){case"Trending":return i.filter(g=>g.isTrending);case"Newest":return[...i].sort((g,S)=>S.id-g.id);case"Top Funded":return[...i].sort((g,S)=>S.funding-g.funding);case"Completed":return i.filter(g=>g.isCompleted);case"Following":return i;default:return i}})(N).filter(i=>{if(!l.trim())return!0;const g=l.trim().toLowerCase();return i.title.toLowerCase().includes(g)||i.description.toLowerCase().includes(g)||i.company.toLowerCase().includes(g)}),_=P&&P.length?P[0]:null;return e.jsxs("div",{className:"w-full pt-4 pb-24",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>a("SponsorUserRequests"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Review")}),e.jsx("div",{style:{width:36}})]}),e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-medium text-gray-900",children:t("Browse user requests")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Select requests to sponsor that align with your brand")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center sm:space-x-3 mb-4 space-y-3 sm:space-y-0",children:[e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"search",placeholder:t("Search requests..."),value:l,onChange:i=>C(i.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:outline-none"})}),e.jsxs("div",{className:"relative w-full sm:w-auto",ref:M,children:[e.jsxs("button",{onClick:()=>{const i=!d;w(i);try{if(i&&M.current){const S=M.current.getBoundingClientRect(),I=window.scrollY||window.pageYOffset||0,T=window.scrollX||window.pageXOffset||0;v({top:S.bottom+I+6,left:S.left+T})}}catch{}},className:"px-4 py-3 rounded-xl border border-gray-200 bg-white text-sm flex items-center space-x-2","aria-haspopup":"listbox","aria-expanded":d,children:[e.jsx("span",{children:y}),e.jsx(Ie,{className:"w-4 h-4 text-gray-500"})]}),d&&x&&Xe.createPortal(e.jsx("div",{ref:u,style:{position:"absolute",top:(x.top||0)+"px",left:(x.left||0)+"px",zIndex:9999},className:"bg-white border border-gray-200 rounded-xl shadow-lg",children:A&&A.length?A.map(i=>e.jsx("button",{onClick:()=>{L(i.name),w(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${y===i.name?"font-semibold bg-gray-50":""}`,children:i.name},i.name)):["Trending","Newest","Top Funded","Completed","Following"].map(i=>e.jsx("button",{onClick:()=>{L(i),w(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${y===i?"font-semibold bg-gray-50":""}`,children:i},i))}),document.body)]})]})]}),b&&e.jsx("div",{className:"p-4 rounded-2xl border-2",style:{borderColor:s,backgroundColor:W},children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center",style:{backgroundColor:te},children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M12 20h.01"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t("Swipe to Sponsor")}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("Swipe right ??to sponsor automatically, or swipe left ??to skip/remove")})]})]}),e.jsx("button",{className:"text-gray-600",onClick:()=>{try{localStorage.setItem("requests_swipe_entrance_shown","1")}catch{}f(!1)},"aria-label":"Dismiss swipe info",children:e.jsx(X,{className:"w-5 h-5"})})]})}),_?e.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3 bg-gray-100 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-400",children:_.companyInitial||(_.company?_.company.charAt(0):"U")})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",style:{color:s},children:_.company}),e.jsx("div",{className:"text-xs text-gray-400",children:_.timeAgo})]})]}),_.isTrending&&e.jsx("div",{className:"text-sm text-gray-500 px-2 py-1 rounded-full",style:{backgroundColor:W,color:s},children:t("Trending")})]}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mt-4",children:_.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:_.description}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("button",{className:"text-sm",style:{color:s},children:t("See more...")}),e.jsx("div",{className:"text-sm text-gray-400",children:_.isSponsored?t("Sponsored"):""})]}),e.jsxs("div",{className:"mt-4 border-t pt-3 flex flex-col sm:flex-row sm:items-center sm:space-x-6 space-y-2 sm:space-y-0 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"})," ",e.jsx("span",{children:_.likes||0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-4 h-4"})," ",e.jsx("span",{children:_.comments||0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})," ",e.jsx("span",{children:_.boosts||0})]})]})]}):e.jsx("div",{className:"p-4 rounded-2xl border border-gray-100 bg-white shadow-sm text-center text-gray-500",children:t("No requests match your search or selected category.")}),e.jsx("div",{className:"p-4 rounded-2xl border shadow-sm",style:{borderColor:s,background:"linear-gradient(to right, var(--color-gold-light), white)"},children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:W,color:s},children:e.jsx(_e,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[p," ",t(p===1?"request selected":"requests selected")]}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Ready to sponsor these video requests")})]})]}),e.jsxs("div",{className:"text-right mt-3 sm:mt-0",children:[e.jsxs("div",{className:"text-2xl font-semibold",style:{color:s},children:["$",Number(j).toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Budget cap")})]})]})}),e.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:t("Sponsorship summary")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t("Payment model"),": ",e.jsx("span",{className:"font-medium text-gray-900",children:t(n)})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[t("Budget cap"),": ",e.jsxs("span",{className:"font-medium text-gray-900",children:["$",Number(j).toLocaleString()]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[t("Selected requests"),": ",e.jsx("span",{className:"font-medium text-gray-900",children:p})]})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("button",{onClick:()=>{a("EscrowSummary")},className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90",style:{backgroundColor:s},children:[e.jsx("span",{children:t("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})]})},Vt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=m=>Y(m,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState(0),[p,h]=r.useState("CPM"),[l,C]=r.useState(0),[y,L]=r.useState(null),[N,E]=r.useState(null),[A,F]=r.useState(null),[b,f]=r.useState(0),[d,w]=r.useState(!1),[M,x]=r.useState(""),[v,u]=r.useState(!1);return r.useEffect(()=>{try{const m=localStorage.getItem("sponsor_selected_ids");if(m){const B=JSON.parse(m||"null");Array.isArray(B)&&j(B.length)}else{const B=Number(localStorage.getItem("sponsor_selected_count")||localStorage.getItem("selected_requests_count")||0);j(B||0)}}catch{}try{h(localStorage.getItem("sponsor_selected_model")||"CPM")}catch{}try{C(Number(localStorage.getItem("sponsor_budget_cap")||0))}catch{}try{const m=localStorage.getItem("sponsor_cpc_rate");m&&L(Number(m))}catch{}try{const m=localStorage.getItem("sponsor_cpm_rate");m&&E(Number(m))}catch{}try{const m=localStorage.getItem("sponsor_engagement_bonus");m&&F(m)}catch{}},[]),r.useEffect(()=>{try{const m=typeof A=="string"?A.replace("%",""):A||"0",B=Number(m)||0,P=nt(),_=Number(l)||0,i=Number(n)||0;let g=Math.ceil(_*i*(1+B/100)*(1+P));(!Number.isFinite(g)||g<0)&&(g=0),f(g);try{localStorage.setItem("sponsor_escrow_amount",String(g))}catch{}}catch{}},[l,n,A]),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:"Step 6 of 6"})}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-full h-1 rounded-full bg-gray-200 overflow-hidden",children:e.jsx("div",{style:{width:"100%",height:8,background:s,borderRadius:8}})})}),e.jsxs("div",{className:"p-6 rounded-2xl bg-white shadow-sm text-center mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:W},children:e.jsx("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M12 1.75C7.167 1.75 3.25 5.667 3.25 10.5v3.5c0 .966.784 1.75 1.75 1.75h14c.966 0 1.75-.784 1.75-1.75v-3.5C20.75 5.667 16.833 1.75 12 1.75z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t("Secure escrow payment")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Your payment is held securely until creators deliver approved content")})]}),e.jsxs("div",{className:"bg-white border rounded-2xl shadow-sm p-4 mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:t("Sponsorship Summary")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[e.jsx("div",{children:t("Selected requests")}),e.jsxs("div",{className:"text-right font-medium text-gray-900",children:[n," ",t(n===1?"request":"requests")]}),e.jsx("div",{children:t("Payment model")}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:t(p==="CPC"?"Pay Per Click (CPC)":p==="CPM"?"Pay Per View (CPM)":p)}),p==="CPC"&&y!=null&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:t("CPC rate")}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:t("${0} per click").replace("{0}",Number(y).toFixed(2))})]}),p==="CPM"&&N!=null&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:t("CPM rate")}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:t("${0} per 1,000 views").replace("{0}",Number(N).toFixed(2))})]}),e.jsx("div",{children:t("Budget cap")}),e.jsxs("div",{className:"text-right font-medium text-gray-900",children:["$",Number(l).toLocaleString()]}),A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:t("Engagement bonus")}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:A})]})]}),e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:t("Amount to escrow")}),e.jsxs("div",{className:"text-2xl font-semibold",style:{color:s},children:["$",Number(l*n).toLocaleString()]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Unused funds returned after 30 days")})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl border shadow-sm",style:{background:"linear-gradient(to right, var(--color-gold-light), white)",borderColor:s},children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:t("How escrow works")}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{children:[" ??",t("Your payment is held securely by Regaarder")]}),e.jsxs("li",{children:[" ??",t('Requests are marked "Sponsored" for creators to see')]}),e.jsxs("li",{children:[" ??",t("Creators apply with proposals for each request")]}),e.jsxs("li",{children:[" ??",t("You review and select the best creator(s)")]}),e.jsxs("li",{children:[" ??",t("Creators deliver content featuring your brand")]}),e.jsxs("li",{children:[" ??",t("You approve the content before payment is released")]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:()=>{try{const m=Number(b)||0;if(Z()>=m&&m>0&&Fe(m)){try{localStorage.setItem("sponsor_payment_method","balance")}catch{}try{localStorage.setItem("sponsor_payment_status","paid")}catch{}try{const P=localStorage.getItem("sponsor_selected_format_title")||"Campaign",_=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");let i=0;if(_)try{const g=JSON.parse(_);Array.isArray(g)&&(i=g.length)}catch{}else i=Number(localStorage.getItem("sponsor_selected_count")||0)||0;De({name:P,spent:m,creators:i,status:"active"})}catch{}a("AdvertiserDashboard");return}}catch{}w(!0)},className:"w-full flex items-center justify-center space-x-3 text-white font-semibold py-3 px-4 rounded-md shadow-lg transition duration-300 hover:opacity-90",style:{backgroundColor:s},"aria-label":`Secure $${Number(b).toLocaleString()} in Escrow`,children:e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"6",y:"11",width:"12",height:"8",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M8 11V9a4 4 0 018 0v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:t("Secure ${0} in Escrow").replace("{0}",Number(b).toLocaleString())})]})})}),d&&e.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>w(!1)}),e.jsxs("div",{className:"relative bg-white w-full max-w-md mx-auto rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("Pay from Account Balance")}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("You can use your account balance to secure this payment, or add funds if needed.")}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t("Available balance")}),e.jsxs("div",{className:"text-2xl font-semibold",style:{color:s},children:["$",Z().toFixed(2)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t("Amount required")}),e.jsxs("div",{className:"text-xl font-semibold",children:["$",Number(b).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded-md border",children:t("Cancel")}),Z()>=Number(b)?e.jsx("button",{onClick:()=>{if(Fe(Number(b))){try{localStorage.setItem("sponsor_payment_method","balance")}catch{}try{localStorage.setItem("sponsor_payment_status","paid")}catch{}w(!1),a("AdvertiserDashboard")}else alert("Unable to deduct from balance.")},className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:s},children:t("Pay from Balance")}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:t("Insufficient balance. Quick Add Funds to proceed.")}),e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx("input",{type:"number",min:"1",value:M,onChange:m=>x(m.target.value),placeholder:t("Amount"),className:"w-1/2 px-3 py-2 border rounded-md"}),e.jsx("button",{onClick:async()=>{try{const m=Math.max(0,Number(M)||0);if(!m)return alert(t("Enter amount"));u(!0),await Te({amount:m});const B=Z()+m;try{localStorage.setItem("account_balance",String(B))}catch{}x(""),u(!1),alert(t("Funds added. You can now pay from balance."))}catch{u(!1)}},className:"px-3 py-2 rounded-md text-white",style:{backgroundColor:s},children:t(v?"Processing...":"Add Funds")})]})]})]})]})]})]})]})},Yt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=u=>Y(u,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState("card"),[p,h]=r.useState(0),[l,C]=r.useState(0),[y,L]=r.useState(""),[N,E]=r.useState(0),[A,F]=r.useState(!1),[b,f]=r.useState(""),[d,w]=r.useState("card"),[M,x]=r.useState(!1);r.useEffect(()=>{try{const u=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");if(u){const m=JSON.parse(u||"null");Array.isArray(m)&&h(m.length)}}catch{}try{C(Number(localStorage.getItem("sponsor_budget_cap")||0))}catch{}try{const u=localStorage.getItem("sponsor_selected_model")||"CPM",m=Number(localStorage.getItem("sponsor_cpm_rate")||0),B=Number(localStorage.getItem("sponsor_cpc_rate")||0),P=(localStorage.getItem("sponsor_engagement_bonus")||"").toString().replace("%","")||"0",_=Number(P)||0,i=nt(),g=Number(localStorage.getItem("sponsor_budget_cap")||0),S=Number((()=>{try{const H=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");if(H){const G=JSON.parse(H);if(Array.isArray(G))return G.length}}catch{}return 0})());let I=100;u==="CPM"&&m>0?I=1e3/m:u==="CPC"&&B>0?I=30/B:g>0&&(I=100);const T=Math.round(g*S*I);L(T?`${ct(T)} views`:"N/A");const U=Math.ceil(g*S*(1+_/100)*(1+i));E(U||0);try{localStorage.setItem("sponsor_estimated_reach",T?String(T):"")}catch{}try{localStorage.setItem("sponsor_escrow_amount",String(U||0))}catch{}}catch{}},[]);const v=()=>{try{if(n==="balance"){F(!0);return}localStorage.setItem("sponsor_payment_method",n)}catch{}try{const u=Number(localStorage.getItem("sponsor_escrow_amount")||N||0)||0,m=localStorage.getItem("sponsor_selected_format_title")||"Campaign",B=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");let P=0;if(B)try{const _=JSON.parse(B);Array.isArray(_)&&(P=_.length)}catch{}else P=Number(localStorage.getItem("sponsor_selected_count")||0)||0;De({name:m,spent:u,creators:P,status:"active"})}catch{}a("AdvertiserDashboard")};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 8 of 8")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("100% complete")})]}),e.jsx("div",{className:"w-full mb-3",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:"100%",background:s}})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:W},children:e.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:[e.jsx("rect",{x:"3",y:"7",width:"18",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M8 7V5a4 4 0 018 0v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t("Secure your collaboration")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Choose your payment method to activate your campaign")})]})]}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:t("Campaign Summary")}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{children:[t("Total Creators"),":"]}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:p}),e.jsxs("div",{children:[t("Estimated Reach"),":"]}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:y}),e.jsxs("div",{children:[t("Campaign Budget"),":"]}),e.jsxs("div",{className:"text-right font-medium text-gray-900",children:["$",Number(l).toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[t("Total Cost"),":"]}),e.jsxs("div",{className:"text-2xl font-semibold",style:{color:s},children:["$",Number(N).toLocaleString()]})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:t("Select Payment Method")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-4 rounded-xl border",style:n==="card"?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsx("input",{type:"radio",name:"pm",checked:n==="card",onChange:()=>j("card"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t("Credit / Debit Card")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Visa, Mastercard, Amex")})]})]}),e.jsxs("label",{className:"flex items-center p-4 rounded-xl border",style:n==="paypal"?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsx("input",{type:"radio",name:"pm",checked:n==="paypal",onChange:()=>j("paypal"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"PayPal"}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Pay with your PayPal account")})]})]}),e.jsxs("label",{className:"flex items-center p-4 rounded-xl border",style:n==="bank"?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsx("input",{type:"radio",name:"pm",checked:n==="bank",onChange:()=>j("bank"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t("Bank Transfer")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Direct bank transfer (ACH)")})]})]}),e.jsxs("label",{className:"flex items-center p-4 rounded-xl border",style:n==="balance"?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsx("input",{type:"radio",name:"pm",checked:n==="balance",onChange:()=>j("balance"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t("Account Balance")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t("Available"),": $",(()=>{try{return Number(localStorage.getItem("account_balance")||0).toFixed(2)}catch{return"0.00"}})()]})]})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center space-x-3 text-white font-semibold py-3 px-4 rounded-md shadow-lg",style:{backgroundColor:s},children:[e.jsx("span",{children:t("Secure Payment")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})}),A&&e.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>F(!1)}),e.jsxs("div",{className:"relative bg-white w-full max-w-md mx-auto rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("Pay from Account Balance")}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("Use your available account balance to fund this payment.")}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t("Available balance")}),e.jsxs("div",{className:"text-2xl font-semibold",style:{color:s},children:["$",Z().toFixed(2)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t("Amount required")}),e.jsxs("div",{className:"text-xl font-semibold",children:["$",Number(N).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 rounded-md border",children:t("Cancel")}),Z()>=Number(N)?e.jsx("button",{onClick:()=>{if(Fe(Number(N))){try{localStorage.setItem("sponsor_payment_method","balance")}catch{}try{localStorage.setItem("sponsor_payment_status","paid")}catch{}try{const m=localStorage.getItem("sponsor_selected_format_title")||"Campaign",B=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("sponsor_selected_ids");let P=0;if(B)try{const _=JSON.parse(B);Array.isArray(_)&&(P=_.length)}catch{}else P=Number(localStorage.getItem("sponsor_selected_count")||0)||0;De({name:m,spent:Number(N)||0,creators:P,status:"active"})}catch{}F(!1),a("AdvertiserDashboard")}else alert("Unable to deduct from balance.")},className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:s},children:t("Pay from Balance")}):e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-sm text-gray-600",children:t("Insufficient balance. Add funds below or choose another payment method.")}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-gray-700 mb-2",children:t("Quick Add Funds (simulate)")}),e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx("input",{type:"number",min:"1",value:b,onChange:u=>f(u.target.value),placeholder:t("Amount"),className:"w-1/2 px-3 py-2 border rounded-md"}),e.jsxs("select",{value:d,onChange:u=>w(u.target.value),className:"w-1/2 px-3 py-2 border rounded-md",children:[e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"wise",children:"Wise"}),e.jsx("option",{value:"payoneer",children:"Payoneer"}),e.jsx("option",{value:"bank",children:"Bank"}),e.jsx("option",{value:"western_union",children:"Western Union"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:async()=>{try{const u=Math.max(0,Number(b)||0);if(!u)return alert(t("Enter amount"));x(!0),d==="card"&&await Te({amount:u});const m=Z()+u;try{localStorage.setItem("account_balance",String(m))}catch{}f(""),x(!1),Z()>=Number(N)?alert(t("Funds added. You can now pay from balance.")):alert(t("Funds added. Balance updated."))}catch{x(!1)}},disabled:M,className:"px-3 py-2 rounded-md text-white",style:{backgroundColor:s},children:t(M?"Processing...":"Add Funds")}),e.jsx("button",{onClick:()=>{F(!1),j("card")},className:"px-3 py-2 rounded-md border",children:t("Use Card Instead")})]})]})]})]})]})]})]})]})},Kt=({setCurrentPage:a,ACCENT_COLOR:s,ICON_BACKGROUND:t})=>{const n=d=>Y(d,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),j=["Tech & Innovation","Lifestyle","Gaming","Education","Fitness & Wellness","Travel","Food & Cooking","Music & Arts","Fashion & Beauty","Business","Automotive","Comedy & Humor"],p=["Formal & Professional","Witty & Playful","Experimental & Bold","Minimalist & Clean","Premium & Luxe"],h={"Tech & Innovation":he,Lifestyle:$e,Gaming:we,Education:ae,"Fitness & Wellness":Se,Travel:je,"Food & Cooking":Ce,"Music & Arts":Ze,"Fashion & Beauty":we,Business:qe,Automotive:xe,"Comedy & Humor":O},[l,C]=r.useState([]),[y,L]=r.useState(""),[N,E]=r.useState(!1),A=d=>{C(w=>w.includes(d)?w.filter(M=>M!==d):[...w,d])},F=d=>L(d===y?"":d);r.useEffect(()=>{const d=M=>{const x=document.querySelector('[aria-label="Tone"]');x&&!x.closest(".relative")?.contains(M.target)&&E(!1)},w=M=>{M.key==="Escape"&&N&&E(!1)};return N&&(document.addEventListener("mousedown",d),document.addEventListener("touchstart",d,{passive:!0}),document.addEventListener("keydown",w)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchstart",d),document.removeEventListener("keydown",w)}},[N]);const f=ot(5,Mt);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("SponsorUserRequests"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:n("Step 5 of 6")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[f,"% ",n("complete")]})]}),e.jsx("div",{className:"w-full mb-4",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${f}%`,background:s}})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:n("Find your audience")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n("Select niches and tones that match your brand")})]}),e.jsxs("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:n("Creator Niches")}),e.jsx("div",{className:"space-y-2",children:j.map(d=>e.jsxs("label",{className:"flex items-center p-4 rounded-xl border border-gray-200 hover:bg-gray-50 cursor-pointer transition",children:[e.jsx("input",{type:"checkbox",checked:l.includes(d),onChange:()=>A(d),className:"w-5 h-5 rounded-lg",style:{accentColor:"var(--color-gold)"}}),e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mx-4",style:{backgroundColor:"var(--color-gold-light-bg)"},children:bt.createElement(h[d]||O,{className:"w-5 h-5",style:{color:"var(--color-gold)"}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n(d)})]},d))})]}),e.jsxs("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-4 duration-500",style:{animationDelay:"100ms"},children:[e.jsx("div",{className:"space-y-2 text-left flex items-center mb-3",children:e.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:n("Preferred Tone")})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>E(d=>!d),"aria-haspopup":"listbox","aria-expanded":N,className:"w-full flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"flex items-center",children:y?e.jsx("span",{className:"text-sm text-gray-800 font-medium",children:n(y)}):e.jsx("span",{className:"text-sm text-gray-500",children:n("Select a tone")})}),e.jsx(Ie,{className:`w-4 h-4 text-gray-500 transition ${N?"rotate-180":""}`})]}),N&&e.jsx("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:e.jsx("ul",{role:"listbox","aria-label":"Tone",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:p.map(d=>e.jsxs("li",{role:"option","aria-selected":y===d,onClick:()=>{F(d),E(!1)},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:n(d)})}),y===d&&e.jsx(_e,{className:"w-4 h-4 text-[var(--color-gold)]"})]},d))})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M3 12l4 4L21 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{children:n("Our AI is analyzing {0} potential creators who match your criteria...").replace("{0}",Math.max(1,Math.min(5,l.length||2)))})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:s},onClick:()=>{try{localStorage.setItem("sponsor_selected_niches",JSON.stringify(l))}catch{}try{localStorage.setItem("sponsor_selected_tone",y||"")}catch{}a("ShareVision")},disabled:l.length===0||!y,children:[e.jsx("span",{children:n("Continue")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})},Xt=({setCurrentPage:a,ACCENT_COLOR:s})=>{const t=f=>Y(f,(typeof window<"u"?localStorage.getItem("regaarder_language"):"English")||"English"),[n,j]=r.useState([{id:"m1",name:"Sarah Chen",handle:"@sarahtech",niche:"Tech & Innovation",reach:"425K",est:1250},{id:"m2",name:"Nina Patel",handle:"@ninafood",niche:"Food & Cooking",reach:"390K",est:900},{id:"m3",name:"Liam Keane",handle:"@liamfit",niche:"Fitness & Wellness",reach:"210K",est:700}]),[p,h]=r.useState("Native Mention"),[l,C]=r.useState(""),[y,L]=r.useState(0),[N,E]=r.useState(""),[A,F]=r.useState(()=>{try{const f=localStorage.getItem("matched_selected_creator_ids")||localStorage.getItem("meet_selected_creator_ids");if(!f)return[];const d=JSON.parse(f);return Array.isArray(d)?d:[]}catch{return[]}});r.useEffect(()=>{try{const f=localStorage.getItem("sponsor_selected_format_title");f&&h(f);const d=localStorage.getItem("sponsor_selected_model");d&&C(d==="CPM"?"Pay Per View (CPM)":d==="CPC"?"Pay Per Click (CPC)":d),L(Number(localStorage.getItem("sponsor_budget_cap")||0))}catch{}},[]),r.useEffect(()=>{let f=!0;try{let d=null;return Ke(()=>import("./creatorprofile-53qf22XJ.js"),__vite__mapDeps([29,1,2,14,13,21,30,31,32,33,34,10,35,36,20,37,22,11,38,19,39,40,41,42,43,44,45,46,27,6,26,17,15,47,23,16,48,49,7,50,51])).then(w=>{if(!f)return;const M=w.CREATORS||w.MOCK_CREATORS||w.creators||w.default||[];if(Array.isArray(M)&&M.length){const x=M.map((v,u)=>v?typeof v=="string"?{id:`ext-${u}`,name:v,handle:"",niche:"",reach:"",est:0}:{id:v.id||v.handle||`ext-${u}`,name:v.name||v.handle||"Creator",handle:v.handle||"",niche:v.niche||"",reach:v.reach||"",est:v.est||0}:null).filter(Boolean);x.length&&j(x)}try{typeof w.subscribeProfileExports=="function"&&(d=w.subscribeProfileExports(x=>{if(!f||!x)return;const v={id:x.id||x.handle||"me",name:x.name||"Creator",handle:x.handle||"",niche:x.niche||"",reach:x.reach||"",est:x.est||0,image:x.image||""};j(u=>{const m=u.findIndex(g=>g.id&&v.id&&g.id===v.id),B=u.findIndex(g=>g.handle&&v.handle&&g.handle.toLowerCase()===v.handle.toLowerCase()),P=m!==-1?m:B!==-1?B:-1;let _=[...u];P!==-1?_[P]={..._[P],...v}:_=[v,..._];const i=new Set;return _=_.filter(g=>{const S=(g.id||"")+"|"+(g.handle||"").toLowerCase();return i.has(S)?!1:(i.add(S),!0)}),_});try{if("selected"in x||"isSelected"in x||"autoSelect"in x){const m=!!(x.selected||x.isSelected||x.autoSelect);F(B=>m?B.includes(v.id)?B:[...B,v.id]:B.filter(P=>P!==v.id))}}catch{}}))}catch{}}).catch(()=>{}),()=>{if(f=!1,typeof d=="function")try{d()}catch{}}}catch{return()=>{f=!1}}},[]);const b=n.filter(f=>{try{const d=(N||"").trim().toLowerCase();return d?(f.name||"").toLowerCase().includes(d)||(f.handle||"").toLowerCase().includes(d)||(f.niche||"").toLowerCase().includes(d):!0}catch{return!0}});return r.useEffect(()=>{try{localStorage.setItem("matched_selected_creator_ids",JSON.stringify(A)),localStorage.setItem("meet_selected_creator_ids",JSON.stringify(A))}catch{}try{oe("matched:selected_ids",A)}catch{}},[A]),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>a("SponsorSummary"),className:"text-gray-600 hover:text-gray-900 p-2 rounded-full",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-sm text-gray-500",children:t("Step 7 of 8")}),e.jsx("div",{style:{width:36}})]}),e.jsx("div",{className:"w-full mb-3",children:e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${ot(7,8)}%`,background:s}})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:W},children:e.jsx("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:s},children:e.jsx("path",{d:"M12 2l2.5 5L20 9l-4 3 1 6-5-3-5 3 1-6L4 9l5.5-2L12 2z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t("Meet your matched creators")}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("Our AI found {0} perfect matches for your brand").replace("{0}",n.length)})]}),e.jsx("div",{className:"relative mb-4",children:e.jsx("input",{type:"search",placeholder:t("Search creators by name, handle, or niche..."),value:N,onChange:f=>E(f.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:outline-none"})})]}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-white shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:t("Campaign Summary")}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{children:[t("Style"),":"]}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:t(p)}),e.jsxs("div",{children:[t("Type"),":"]}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:l?t(l):localStorage.getItem?t(localStorage.getItem("sponsor_selected_model")??"N/A"):"N/A"}),e.jsxs("div",{children:[t("Budget"),":"]}),e.jsxs("div",{className:"text-right font-medium text-gray-900",children:["$",Number(y).toLocaleString()]}),e.jsxs("div",{children:[t("Est. Reach"),":"]}),e.jsx("div",{className:"text-right font-medium text-gray-900",children:y?t("{0} views").replace("{0}",Math.round(y*80)):"N/A"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t("AI Matched Creators")}),e.jsx("div",{className:"text-sm text-gray-500",children:t("{0} selected").replace("{0}",A.length)})]}),e.jsx("div",{className:"space-y-4",children:b.map(f=>{const d=A.includes(f.id);return e.jsxs("div",{className:"p-4 rounded-xl bg-white shadow-sm flex items-center justify-between",style:d?{backgroundColor:W,boxShadow:"0 0 0 2px rgba(var(--color-gold-rgb),0.08)"}:void 0,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 mr-4 flex items-center justify-center",children:f.name.split(" ")[0].charAt(0)}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[f.name," ",e.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded-full",style:{backgroundColor:W,color:s},children:t("60% match")})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[f.handle," Â· ",t(f.niche)]}),e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[t("{0} avg").replace("{0}",f.reach)," Â· $",f.est," ",t("est.")]})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("button",{onClick:()=>{F(w=>w.includes(f.id)?w.filter(M=>M!==f.id):[...w,f.id])},className:"px-3 py-1 rounded-md text-sm font-medium",style:d?{backgroundColor:s,color:"white"}:{border:"1px solid rgba(0,0,0,0.06)",backgroundColor:"white",color:"#374151"},children:t(d?"Selected":"Select")}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["3 ",t("videos")]})]})]},f.id)})})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:()=>a("PaymentMethods"),className:"w-full flex items-center justify-center space-x-2 text-white font-semibold py-3 px-4 rounded-md shadow-lg",style:{backgroundColor:s},children:[e.jsx("span",{children:t("Continue to Payment")}),e.jsx(K,{className:"w-4 h-4 ml-2"})]})})]})]})},ys=()=>{const[a,s]=r.useState("Home"),t=Re(),[n,j]=r.useState("Home"),[p,h]=r.useState(!1),[l,C]=r.useState(null),[y,L]=r.useState(""),[N,E]=r.useState(()=>{try{const x=localStorage.getItem("advertiser_campaigns");if(x)return JSON.parse(x)||[]}catch{}return[{id:"c1",name:"Summer Launch 2024",status:"active",spent:1200,creators:3},{id:"c2",name:"Spring Promo",status:"completed",spent:5e3,creators:7}]}),[A,F]=r.useState(null),[b,f]=r.useState("view");r.useEffect(()=>{try{const x=localStorage.getItem("brand_preview_url");x&&L(x)}catch{}},[]),r.useEffect(()=>{(async()=>{try{if(!t)return;if(!t.user){t.openAuthModal(),s("Welcome");return}const v=localStorage.getItem("regaarder_token"),u=await fetch("http://localhost:4000/sponsors/me",{headers:{Authorization:v?`Bearer ${v}`:""}});if(!u.ok){s("Welcome");return}const m=await u.json();m&&Array.isArray(m.sponsors)&&m.sponsors.length>0?s("AdvertiserDashboard"):s("Welcome")}catch(v){console.error("checkSponsor error",v)}})()},[t&&t.user]),r.useEffect(()=>{const x=u=>{try{if(!u){const m=localStorage.getItem("advertiser_campaigns");m&&E(JSON.parse(m)||[]);return}if(Array.isArray(u))E(u);else{const m=localStorage.getItem("advertiser_campaigns");m&&E(JSON.parse(m)||[])}}catch{}};try{ve("advertiser:campaigns_updated",x)}catch{}const v=u=>{try{if(!u.key)return;if(u.key==="advertiser_campaigns"){const m=localStorage.getItem("advertiser_campaigns");E(m?JSON.parse(m)||[]:[])}}catch{}};return window.addEventListener("storage",v),()=>{try{Ne("advertiser:campaigns_updated",x)}catch{}window.removeEventListener("storage",v)}},[]),r.useEffect(()=>{try{y&&localStorage.setItem("brand_preview_url",y)}catch{}},[y]);const d=`
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(var(--color-gold-rgb),0.5); }
            70% { box-shadow: 0 0 0 10px rgba(var(--color-gold-rgb),0); }
            100% { box-shadow: 0 0 0 0 rgba(var(--color-gold-rgb),0); }
        }
        .animate-pulse-glow { animation: pulse-glow 2s infinite cubic-bezier(0.4, 0, 0.6, 1); }
        @keyframes sticky-in { 0% { transform: translateY(-8px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
        .sticky-animate { animation: sticky-in 220ms ease forwards; }
    `,M={Home:Je,Welcome:$t,BrandDetails:qt,BrandVoice:Tt,BrandLogo:Ve,AdvertiserDashboard:Ye,StartCollaboration:Ht,SponsorshipFormat:zt,SponsorUserRequests:Gt,AudienceSelection:Kt,ShareVision:Ct,MeetCreators:Xt,SponsorSummary:Jt,EscrowSummary:Vt,PaymentMethods:Yt,CampaignDetails:null}[a]||Je;return r.useEffect(()=>{try{if(typeof window>"u")return;const x=window.localStorage.getItem("regaarder_language")||"English";if(!x||x==="English")return;const v=Ee&&Ee[x]?Ee[x]:{};if(!v||Object.keys(v).length===0)return;const u=document.querySelector(".min-h-screen")||document.body;if(!u)return;const m=document.createTreeWalker(u,NodeFilter.SHOW_TEXT,null,!1),B=Object.keys(v).sort((_,i)=>i.length-_.length);let P;for(;P=m.nextNode();){const _=P.nodeValue;if(!_||!_.trim())continue;let i=_;for(let g=0;g<B.length;g++){const S=B[g],I=v[S];!S||typeof I!="string"||i.indexOf(S)!==-1&&(i=i.split(S).join(I))}i!==_&&(P.nodeValue=i)}}catch{}},[]),e.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col items-center justify-start",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:d}}),e.jsx(Lt,{ACCENT_COLOR:V,setCurrentPage:s,visible:p}),e.jsxs("div",{className:"flex-1 w-full overflow-y-auto",children:[e.jsx("div",{className:"py-6 sm:py-8 px-4 sm:px-6",children:e.jsxs("div",{className:`${a==="AdvertiserDashboard"?"max-w-4xl":"max-w-md"} mx-auto w-full bg-white rounded-2xl p-6 sm:p-8`,children:[a==="BrandLogo"&&e.jsx(Ve,{ACCENT_COLOR:V,HIGHLIGHT_COLOR:W,ICON_BACKGROUND:te,setCurrentPage:s,setShowSticky:h,uploadedFile:l,previewUrl:y,setUploadedFile:C,setPreviewUrl:L}),a==="AdvertiserDashboard"&&e.jsx(Ye,{setCurrentPage:s,ACCENT_COLOR:V,previewUrl:y,uploadedFile:l,campaigns:N,onViewCampaign:x=>{F(x),f("view"),s("CampaignDetails")},onEditCampaign:x=>{F(x),f("edit"),s("CampaignDetails")}}),a==="CampaignDetails"&&e.jsx(Ut,{setCurrentPage:s,campaign:N.find(x=>x.id===A),onSave:x=>{const v=N.map(u=>u.id===x.id?{...u,...x}:u);try{localStorage.setItem("advertiser_campaigns",JSON.stringify(v))}catch{}E(v);try{oe("advertiser:campaigns_updated",v)}catch{}},readOnly:b==="view"}),a!=="BrandLogo"&&a!=="AdvertiserDashboard"&&e.jsx(M,{ACCENT_COLOR:V,HIGHLIGHT_COLOR:W,ICON_BACKGROUND:te,setCurrentPage:s,setShowSticky:h})]})}),e.jsx("div",{className:"h-24"})]}),e.jsx(Ft,{})]})};export{ys as default};
