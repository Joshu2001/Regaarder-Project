import{f as B,b as C,r as n,u as k,j as e,g as r,R as F}from"./index-VpKVHbRP.js";import{S as H}from"./StaffLoginModal-ifvs4mom.js";import{C as R}from"./chevron-left-4G95XNWR.js";import{U as b}from"./user-D0QSEJTL.js";import{V as I}from"./video-CjE00aNX.js";import{G as O}from"./gift-gYrDtgn3.js";import{C as z}from"./credit-card-3oegplz5.js";import{B as U}from"./bell-d2A2odrb.js";import{S as J}from"./settings-g97fWApH.js";import{C as M}from"./chevron-right-DDQo1d8E.js";import{A as V}from"./arrow-right-Bou6tXeH.js";import{H as G}from"./home-CxuDPg2J.js";import{F as $,P as q,M as K}from"./pencil-DkR7nLro.js";import"./alert-circle-CDvmFdd8.js";const W=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),v=(c,o)=>{try{const i=getComputedStyle(document.documentElement).getPropertyValue(c);return i?i.trim():o||""}catch{return o||""}};v("--color-gold","#CB8A00"),v("--color-gold-light","rgba(203,138,0,0.4)"),v("--color-neutral-light-bg","#FFF9E6");const D=({selectedLanguage:c="English"})=>{const[o,i]=n.useState("More");n.useEffect(()=>{window.setFooterTab&&(window.currentFooterSetTab=i)},[]);const N=[{name:"Home",Icon:G},{name:"Requests",Icon:$},{name:"Ideas",Icon:q},{name:"More",Icon:K}],S="rgb(107 114 128)",d=a=>{const f={Home:"home",Requests:"requests",Ideas:"ideas",More:"more"}[a];window.setFooterTab&&window.setFooterTab(f),i(a)};return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 border-t border-gray-200 shadow-2xl z-10",style:{paddingTop:"10px",paddingBottom:"calc(44px + env(safe-area-inset-bottom))"},children:e.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:N.map(a=>{const m=a.name===o,f=m?{color:"var(--color-gold)"}:{color:S},y=m?"font-semibold":"font-normal";let h={};return m&&(h.textShadow="0 0 8px var(--color-gold-light)"),e.jsx("div",{className:"relative flex flex-col items-center w-1/4 focus:outline-none",style:h,children:e.jsxs("button",{className:"flex flex-col items-center w-full",onClick:()=>{d(a.name)},children:[e.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:e.jsx(a.Icon,{size:22,strokeWidth:1.5,style:f})}),e.jsx("span",{className:`text-[11px] md:text-xs mt-0 leading-none ${y}`,style:f,children:r(a.name,c)})]})},a.name)})})})},de=()=>{const c=C(),[o,i]=n.useState(()=>{try{return localStorage.getItem("regaarder_language")||"English"}catch{return"English"}}),[N,S]=n.useState("More"),[d,a]=n.useState(!0),m=()=>{c.openAuthModal()},f=()=>{c.logout()},y=()=>e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center mx-auto w-full max-w-md",children:[e.jsx(b,{className:"w-14 h-14 text-gray-500 mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:r("Sign in to access more features",o)}),e.jsx("p",{className:"text-sm text-gray-500 mb-8 leading-relaxed",children:r("Create an account or log in to manage your settings",o)}),e.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 text-black font-bold rounded-xl shadow-lg transition duration-150 transform hover:scale-[1.01] active:scale-95",style:{backgroundColor:"var(--color-gold)",boxShadow:"0 6px 18px rgba(var(--color-gold-rgb, 203,138,0), 0.18)"},children:[e.jsx("span",{children:r("Log In / Sign Up",o)}),e.jsx(V,{className:"w-5 h-5 ml-2"})]})]}),h=()=>{const g=k(),s=C(),[E,p]=n.useState(!1),[T,w]=n.useState(!1),[A,P]=n.useState(()=>{try{return parseInt(localStorage.getItem("notifications_count")||"0",10)||0}catch{return 0}});F.useEffect(()=>{let t=!0;const x=()=>{try{const l=parseInt(localStorage.getItem("notifications_count")||"0",10)||0;t&&P(l)}catch{}};x();const j=setInterval(x,3e3),u=l=>{l.key==="notifications_count"&&x()};return window.addEventListener("storage",u),()=>{t=!1,clearInterval(j),window.removeEventListener("storage",u)}},[]);const _=[{icon:b,label:"Profile Settings",href:"/settings"},{icon:b,label:"User Profile",href:"/userprofile"},{icon:I,label:"Creator Profile",href:"/creatorprofile"},{icon:O,label:"Earn Rewards",href:"/referrals"},{icon:z,label:"Payment Methods",href:"#"},{icon:U,label:"Notifications",href:"/notifications?from=more",badge:A},{icon:J,label:"Help & Support",href:"#"}];return e.jsxs("div",{className:"w-full max-w-md space-y-3",children:[_.map((t,x)=>e.jsxs("button",{onClick:()=>{if(t.isStaff)return w(!0);if(t.label==="Help & Support")return g("/support");if(t.label!=="Help & Support"&&!s?.user)return s.openAuthModal();if(t.label==="Creator Profile"&&s?.user&&!s.user.isCreator)return p(!0);try{t.href&&t.href!=="#"&&g(t.href)}catch{}},className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center justify-between group active:scale-[0.99] transition-transform border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(t.icon,{className:"w-6 h-6",style:{color:"var(--color-gold)"}}),e.jsx("span",{className:"text-gray-700 font-medium text-base",children:r(t.label,o)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[t.badge&&t.badge>0&&e.jsx("span",{className:"text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",style:{backgroundColor:"var(--color-gold)"},children:t.badge}),e.jsx(M,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500"})]})]},x)),e.jsxs("button",{onClick:()=>{if(!s.user)return s.openAuthModal();a(!d)},className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center justify-between group active:scale-[0.99] transition-transform border border-gray-100 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[d?e.jsx(I,{className:"w-6 h-6 text-green-600"}):e.jsx(b,{className:"w-6 h-6",style:{color:"var(--color-gold)"}}),e.jsx("span",{className:"text-gray-700 font-medium text-base",children:d?r("Switch to User Mode",o):r("Switch to Creator Mode",o)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-colors ${d?"bg-green-100 text-green-700":""}`,children:d?r("Creator",o):r("User",o)}),e.jsx(M,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:f,className:"w-full bg-white p-4 rounded-2xl shadow-sm flex items-center space-x-4 active:scale-[0.99] transition-transform border border-gray-100",children:[e.jsx(W,{className:"w-6 h-6 text-red-500"}),e.jsx("span",{className:"text-red-500 font-medium text-base",children:r("Log Out",o)})]})}),e.jsx(H,{isOpen:T,onClose:()=>w(!1),onLoginSuccess:t=>{w(!1),g("/staff")}}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>p(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("Creator Profile",o)}),e.jsx("p",{className:"text-sm text-gray-600 mt-3",children:r("Creator profiles are available to verified creators. Want to become a creator?",o)}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{className:"flex-1 py-3 rounded-xl bg-gray-100 font-medium",onClick:()=>p(!1),children:r("Maybe later",o)}),e.jsx("button",{className:"flex-1 py-3 rounded-xl font-bold text-white",style:{backgroundColor:"var(--color-gold)"},onClick:async()=>{p(!1);try{const t=localStorage.getItem("regaarder_token"),x=window&&window.__BACKEND_URL__||"http://localhost:4000";try{await fetch(`${x}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({isCreator:!0})})}catch(l){console.warn("Persisting creator flag failed",l)}const u={...(s&&s.user?s.user:JSON.parse(localStorage.getItem("regaarder_user")||"{}"))||{},isCreator:!0};try{localStorage.setItem("regaarder_user",JSON.stringify(u))}catch{}if(s&&s.login){const l=localStorage.getItem("regaarder_token");s.login({...u,token:l})}}catch(t){console.warn("Join Now flow error",t)}try{g("/creatorprofile")}catch{}},children:r("Join Now",o)})]})]})})]})},L=k();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full max-w-xl flex flex-col flex-1",style:{paddingBottom:"calc(80px + env(safe-area-inset-bottom))"},children:[e.jsx("header",{className:"bg-white border-b border-gray-100 p-4 sticky top-0 z-20 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{className:"w-6 h-6 text-gray-700 cursor-pointer transition hover:text-gray-900",onClick:()=>L("/home")}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:r("More",o)})]})}),e.jsx("p",{className:"text-sm text-gray-500 px-4 pt-3 pb-2",children:r("Settings and options",o)}),e.jsx("main",{className:"flex-1 overflow-y-auto flex flex-col items-center p-4",children:e.jsx("div",{className:"w-full flex flex-col pb-12",children:c.user?e.jsx(h,{}):e.jsx(y,{})})})]}),e.jsx(D,{selectedLanguage:o})]})};export{de as default};
