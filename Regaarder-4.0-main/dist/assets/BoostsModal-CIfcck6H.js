import{f as C,r as n,j as e,g as i}from"./index-53ZNGquU.js";const K=C("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]),z=({isOpen:a,onClose:c,requestId:A,detailedRank:N,onGiveLikeFree:D,selectedLanguage:s="English"})=>{const o=n.useRef(null),m=window.innerHeight*.5,b=window.innerHeight*.95,[$,p]=n.useState(window.innerHeight*.9),[d,w]=n.useState(10),{rank:x,nextRankNeeded:B,threatCount:k,totalInfluence:y}=N,E=()=>{const t=220+Math.random()*40;return Math.round(t)},[T]=n.useState(E()),[Y,S]=n.useState(y);n.useEffect(()=>{S(y)},[y]);const[q,F]=n.useState("wise"),[g,j]=n.useState(!1),H=()=>x===1?i("Amplify Your Reach",s):x<=5?i("Rise in Discovery",s):i("Get More Eyes",s),M=()=>x===1&&k>0?i("Another request is gaining traction. Stay visible to stay winning.",s):x<=5?i("Climb the rankings so creators discover your request first.",s):i("More visibility, faster fulfillment",s);n.useCallback(t=>{if(t.preventDefault(),!o.current)return;const r=t.touches[0].clientY,l=o.current.clientHeight,u=P=>{const R=P.touches[0].clientY-r;let v=l-R;v=Math.min(Math.max(v,m),b),p(v)},f=()=>{window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f),o.current&&o.current.clientHeight<m+50&&c()};window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",f)},[m,b,c]),n.useEffect(()=>(a?(p(window.innerHeight*.9),document.body.style.overflow="hidden",w(10)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),n.useEffect(()=>{if(!a)return;const t=r=>{r.key==="Escape"&&c()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[a,c]);const h=n.useRef(null);return n.useEffect(()=>{if(!a||!o.current)return;h.current=document.activeElement,setTimeout(()=>{try{const r=o.current.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');r&&r.length?r[0].focus():o.current.focus()}catch{}},50);const t=r=>{if(o.current){if(r.key==="Tab"){const l=o.current.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!l||l.length===0){r.preventDefault();return}const u=l[0],f=l[l.length-1];r.shiftKey&&document.activeElement===u?(r.preventDefault(),f.focus()):!r.shiftKey&&document.activeElement===f&&(r.preventDefault(),u.focus())}r.key==="Escape"&&c()}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t);try{h.current&&h.current.focus&&h.current.focus()}catch{}}},[a,c]),e.jsxs("div",{className:`fixed inset-0 z-50 transition-all duration-300 flex items-center justify-center ${a?"opacity-100":"opacity-0 pointer-events-none"}`,style:{transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)"},"aria-hidden":!a,children:[e.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${a?"opacity-50":"opacity-0"}`,onClick:c,"aria-label":"Close boost modal background"}),e.jsxs("div",{ref:o,tabIndex:-1,className:"relative w-full mx-auto rounded-3xl flex flex-col z-50",style:{maxHeight:"75vh",maxWidth:"280px",background:"#ffffff",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",border:"1px solid #e5e7eb"},"aria-label":"Boost visibility modal",children:[e.jsxs("header",{className:"relative px-5 pt-5 pb-3 text-center",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-0.5",children:H()}),e.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:M()})]}),e.jsxs("main",{className:"flex-grow overflow-y-auto px-5 pb-4 space-y-4",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-medium text-gray-900 text-xs",children:i("Reach More Creators",s)})})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-green-500 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-medium text-gray-900 text-xs",children:i("Get Fulfilled Faster",s)})})]})]}),e.jsx("section",{children:e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[10,25,50].map(t=>e.jsxs("button",{onClick:()=>w(t),className:"relative py-4 px-2 text-center rounded-lg border-2 font-bold transition-all duration-200",style:{backgroundColor:d===t?"#111827":"#f9fafb",color:d===t?"#fff":"#6b7280",borderColor:d===t?"#111827":"#e5e7eb",boxShadow:d===t?"0 0 12px rgba(17, 24, 39, 0.15)":"none"},children:[e.jsxs("div",{className:"text-xs font-bold",children:["$",t]}),e.jsxs("div",{className:"text-[10px] mt-0.5",style:{opacity:.7},children:["+",t*2]})]},t))})})]}),e.jsxs("footer",{className:"px-5 pb-6 pt-3 border-t border-gray-100",style:{paddingBottom:"calc(24px + env(safe-area-inset-bottom))"},children:[e.jsx("button",{className:`w-full py-3 font-semibold text-sm rounded-2xl transition-all ${g?"opacity-50 pointer-events-none":"hover:scale-[1.02] active:scale-[0.98]"}`,style:{backgroundColor:"#111827",color:"#ffffff"},onClick:async()=>{j(!0);try{window.location.href="https://www.paypal.com/ncp/payment/FAR4N4DZARHBY";return}catch(t){console.error("Payment error",t),j(!1),alert(i("Payment failed. Please try again.",s))}},children:g?i("Processing...",s):`${i("Boost for",s)} $${d}`}),e.jsx("div",{className:"text-center pt-2",children:e.jsx("p",{className:"text-[10px] text-gray-400",children:i("Secured by PayPal",s)})})]})]})]})};export{z as B,K as C};
